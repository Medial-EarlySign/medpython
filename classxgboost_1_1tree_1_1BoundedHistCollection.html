<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Medial Code Documentation: xgboost::tree::BoundedHistCollection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Medial Code Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacexgboost.html">xgboost</a></li><li class="navelem"><a class="el" href="namespacexgboost_1_1tree.html">tree</a></li><li class="navelem"><a class="el" href="classxgboost_1_1tree_1_1BoundedHistCollection.html">BoundedHistCollection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">xgboost::tree::BoundedHistCollection Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A persistent cache for CPU histogram.  
 <a href="classxgboost_1_1tree_1_1BoundedHistCollection.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="hist__cache_8h_source.html">hist_cache.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a16599388624b8af3563c48068b1aa0b5" id="r_a16599388624b8af3563c48068b1aa0b5"><td class="memItemLeft" align="right" valign="top"><a id="a16599388624b8af3563c48068b1aa0b5" name="a16599388624b8af3563c48068b1aa0b5"></a>
<a class="el" href="classxgboost_1_1common_1_1Span.html">common::GHistRow</a>&#160;</td><td class="memItemRight" valign="bottom"><b>operator[]</b> (std::size_t idx)</td></tr>
<tr class="separator:a16599388624b8af3563c48068b1aa0b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5f829d270f097e17de6fa54c5190142" id="r_af5f829d270f097e17de6fa54c5190142"><td class="memItemLeft" align="right" valign="top"><a id="af5f829d270f097e17de6fa54c5190142" name="af5f829d270f097e17de6fa54c5190142"></a>
<a class="el" href="classxgboost_1_1common_1_1Span.html">common::ConstGHistRow</a>&#160;</td><td class="memItemRight" valign="bottom"><b>operator[]</b> (std::size_t idx) const</td></tr>
<tr class="separator:af5f829d270f097e17de6fa54c5190142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52ef8a112770ca9d00eb285d1c0e3378" id="r_a52ef8a112770ca9d00eb285d1c0e3378"><td class="memItemLeft" align="right" valign="top"><a id="a52ef8a112770ca9d00eb285d1c0e3378" name="a52ef8a112770ca9d00eb285d1c0e3378"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Reset</b> (<a class="el" href="namespacexgboost.html#adefe925ef9d43e9f8ceb3bb051b7cf9f">bst_bin_t</a> n_total_bins, std::size_t n_cached_nodes)</td></tr>
<tr class="separator:a52ef8a112770ca9d00eb285d1c0e3378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad58e0e8cbebf3cff6018374d30510316" id="r_ad58e0e8cbebf3cff6018374d30510316"><td class="memItemLeft" align="right" valign="top"><a id="ad58e0e8cbebf3cff6018374d30510316" name="ad58e0e8cbebf3cff6018374d30510316"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Clear</b> (bool exceeded)</td></tr>
<tr class="memdesc:ad58e0e8cbebf3cff6018374d30510316"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the cache, mark whether the cache is exceeded the limit. <br /></td></tr>
<tr class="separator:ad58e0e8cbebf3cff6018374d30510316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a167be433d9a7fc8120e03df9f9c936b0" id="r_a167be433d9a7fc8120e03df9f9c936b0"><td class="memItemLeft" align="right" valign="top"><a id="a167be433d9a7fc8120e03df9f9c936b0" name="a167be433d9a7fc8120e03df9f9c936b0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>CanHost</b> (<a class="el" href="classxgboost_1_1common_1_1Span.html">common::Span</a>&lt; <a class="el" href="namespacexgboost.html#a1e0027a7b65dda23e5149b540d9b4c4e">bst_node_t</a> const &gt; nodes_to_build, <a class="el" href="classxgboost_1_1common_1_1Span.html">common::Span</a>&lt; <a class="el" href="namespacexgboost.html#a1e0027a7b65dda23e5149b540d9b4c4e">bst_node_t</a> const &gt; nodes_to_sub) const</td></tr>
<tr class="separator:a167be433d9a7fc8120e03df9f9c936b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73576baed8d60533882748b21d4e7857" id="r_a73576baed8d60533882748b21d4e7857"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxgboost_1_1tree_1_1BoundedHistCollection.html#a73576baed8d60533882748b21d4e7857">AllocateHistograms</a> (<a class="el" href="classxgboost_1_1common_1_1Span.html">common::Span</a>&lt; <a class="el" href="namespacexgboost.html#a1e0027a7b65dda23e5149b540d9b4c4e">bst_node_t</a> const &gt; nodes_to_build, <a class="el" href="classxgboost_1_1common_1_1Span.html">common::Span</a>&lt; <a class="el" href="namespacexgboost.html#a1e0027a7b65dda23e5149b540d9b4c4e">bst_node_t</a> const &gt; nodes_to_sub)</td></tr>
<tr class="memdesc:a73576baed8d60533882748b21d4e7857"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate histogram buffers for all nodes.  <br /></td></tr>
<tr class="separator:a73576baed8d60533882748b21d4e7857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0595a9e9b9ee0d9c18c5a6844d1b140" id="r_ad0595a9e9b9ee0d9c18c5a6844d1b140"><td class="memItemLeft" align="right" valign="top"><a id="ad0595a9e9b9ee0d9c18c5a6844d1b140" name="ad0595a9e9b9ee0d9c18c5a6844d1b140"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AllocateHistograms</b> (std::vector&lt; <a class="el" href="namespacexgboost.html#a1e0027a7b65dda23e5149b540d9b4c4e">bst_node_t</a> &gt; const &amp;nodes)</td></tr>
<tr class="separator:ad0595a9e9b9ee0d9c18c5a6844d1b140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f853f5959c3f85c89a4693ff1b17ee7" id="r_a5f853f5959c3f85c89a4693ff1b17ee7"><td class="memItemLeft" align="right" valign="top"><a id="a5f853f5959c3f85c89a4693ff1b17ee7" name="a5f853f5959c3f85c89a4693ff1b17ee7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>HasExceeded</b> () const</td></tr>
<tr class="separator:a5f853f5959c3f85c89a4693ff1b17ee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d173228386b8ba5eec0b8ea677695e2" id="r_a6d173228386b8ba5eec0b8ea677695e2"><td class="memItemLeft" align="right" valign="top"><a id="a6d173228386b8ba5eec0b8ea677695e2" name="a6d173228386b8ba5eec0b8ea677695e2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>HistogramExists</b> (<a class="el" href="namespacexgboost.html#a1e0027a7b65dda23e5149b540d9b4c4e">bst_node_t</a> nidx) const</td></tr>
<tr class="separator:a6d173228386b8ba5eec0b8ea677695e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a853245ac2fb76495e92b2cf00afe9ee4" id="r_a853245ac2fb76495e92b2cf00afe9ee4"><td class="memItemLeft" align="right" valign="top"><a id="a853245ac2fb76495e92b2cf00afe9ee4" name="a853245ac2fb76495e92b2cf00afe9ee4"></a>
std::size_t&#160;</td><td class="memItemRight" valign="bottom"><b>Size</b> () const</td></tr>
<tr class="separator:a853245ac2fb76495e92b2cf00afe9ee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A persistent cache for CPU histogram. </p>
<p>The size of the cache is first bounded by the <code><a class="el" href="classxgboost_1_1tree_1_1Driver.html">Driver</a></code> class then by this cache implementaiton. The former limits the number of nodes that can be built for each node batch, while this cache limits the number of all nodes up to the size of max(|node_batch|, n_cached_node).</p>
<p>The caller is responsible for clearing up the cache as it needs to rearrange the nodes before making overflowed allocations. The strcut only reports whether the size limit has benn reached. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a73576baed8d60533882748b21d4e7857" name="a73576baed8d60533882748b21d4e7857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73576baed8d60533882748b21d4e7857">&#9670;&#160;</a></span>AllocateHistograms()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void xgboost::tree::BoundedHistCollection::AllocateHistograms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classxgboost_1_1common_1_1Span.html">common::Span</a>&lt; <a class="el" href="namespacexgboost.html#a1e0027a7b65dda23e5149b540d9b4c4e">bst_node_t</a> const &gt;&#160;</td>
          <td class="paramname"><em>nodes_to_build</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classxgboost_1_1common_1_1Span.html">common::Span</a>&lt; <a class="el" href="namespacexgboost.html#a1e0027a7b65dda23e5149b540d9b4c4e">bst_node_t</a> const &gt;&#160;</td>
          <td class="paramname"><em>nodes_to_sub</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocate histogram buffers for all nodes. </p>
<p>The resulting histogram buffer is contiguous for all nodes in the order of allocation. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>External/xgboost/src/tree/hist/<a class="el" href="hist__cache_8h_source.html">hist_cache.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 10 2025 11:35:08 for Medial Code Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
