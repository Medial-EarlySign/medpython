<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Medial Code Documentation: LightGBM R-package</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Medial Code Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">LightGBM R-package</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md70"></a>
Installation</h1>
<h2><a class="anchor" id="autotoc_md71"></a>
Preparation</h2>
<p>You need to install git and <a href="https://cmake.org/">CMake</a> first.</p>
<p>Note: 32-bit R/Rtools is not supported.</p>
<h3><a class="anchor" id="autotoc_md72"></a>
Windows Preparation</h3>
<p>Installing <a href="https://cran.r-project.org/bin/windows/Rtools/">Rtools</a> is mandatory, and only support the 64-bit version. It requires to add to PATH the Rtools MinGW64 folder, if it was not done automatically during installation.</p>
<p>The default compiler is Visual Studio (or <a href="https://visualstudio.microsoft.com/downloads/">VS Build Tools</a>) in Windows, with an automatic fallback to Rtools or any <a href="https://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win64/Personal%20Builds/mingw-builds/">MinGW64</a> (x86_64-posix-seh) available (this means if you have only Rtools and CMake, it will compile fine).</p>
<p>To force the usage of Rtools / MinGW, you can set <code>use_mingw</code> to <code>TRUE</code> in <code>R-package/src/install.libs.R</code>.</p>
<p>For users who wants to install online with GPU or want to choose a specific compiler, please check the end of this document for installation using a helper package (<a href="https://github.com/Laurae2/lgbdl/">Laurae2/lgbdl</a>).</p>
<p><b>Warning for Windows users</b>: it is recommended to use <em>Visual Studio</em> for its better multi-threading efficiency in Windows for many core systems. For very simple systems (dual core computers or worse), MinGW64 is recommended for maximum performance. If you do not know what to choose, it is recommended to use <a href="https://visualstudio.microsoft.com/downloads/">Visual Studio</a>, the default compiler. <b>Do not try using MinGW in Windows on many core systems. It may result in 10x slower results than Visual Studio.</b></p>
<h3><a class="anchor" id="autotoc_md73"></a>
Mac OS Preparation</h3>
<p>You can perform installation either with <b>Apple Clang</b> or <b>gcc</b>. In case you prefer <b>Apple Clang</b>, you should install <b>OpenMP</b> (details for installation can be found in <a href="https://github.com/Microsoft/LightGBM/blob/master/docs/Installation-Guide.rst#apple-clang">Installation Guide</a>) first and <b>CMake</b> version 3.12 or higher is required. In case you prefer <b>gcc</b>, you need to install it (details for installation can be found in <a href="https://github.com/Microsoft/LightGBM/blob/master/docs/Installation-Guide.rst#gcc">Installation Guide</a>) and set some environment variables to tell R to use <code>gcc</code> and <code>g++</code>. If you install these from Homebrew, your versions of <code>g++</code> and <code>gcc</code> are most likely in <code>/usr/local/bin</code>, as shown below.</p>
<div class="fragment"><div class="line"># replace 8 with version of gcc installed on your machine</div>
<div class="line">export CXX=/usr/local/bin/g++-8 CC=/usr/local/bin/gcc-8</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md74"></a>
Install</h2>
<p>Build and install R-package with the following commands:</p>
<div class="fragment"><div class="line">git clone --recursive https://github.com/Microsoft/LightGBM</div>
<div class="line">cd LightGBM</div>
<div class="line">Rscript build_r.R</div>
</div><!-- fragment --><p>The <code>build_r.R</code> script builds the package in a temporary directory called <code>lightgbm_r</code>. It will destroy and recreate that directory each time you run the script.</p>
<p>Note: for the build with Visual Studio/VS Build Tools in Windows, you should use the Windows CMD or Powershell.</p>
<p>Windows users may need to run with administrator rights (either R or the command prompt, depending on the way you are installing this package). Linux users might require the appropriate user write permissions for packages.</p>
<p>Set <code>use_gpu</code> to <code>TRUE</code> in <code>R-package/src/install.libs.R</code> to enable the build with GPU support. You will need to install Boost and OpenCL first: details for installation can be found in <a href="https://github.com/Microsoft/LightGBM/blob/master/docs/Installation-Guide.rst#build-gpu-version">Installation-Guide</a>.</p>
<p>If you are using a precompiled dll/lib locally, you can move the dll/lib into <a class="el" href="namespaceLightGBM.html" title="desc and descl2 fields must be written in reStructuredText format">LightGBM</a> root folder, modify <code>LightGBM/R-package/src/install.libs.R</code>'s 2nd line (change <code>use_precompile &lt;- FALSE</code> to <code>use_precompile &lt;- TRUE</code>), and install R-package as usual. <b>NOTE: If your R version is not smaller than 3.5.0, you should set <code>DUSE_R35=ON</code> in cmake options when build precompiled dll/lib</b>.</p>
<p>When your package installation is done, you can check quickly if your <a class="el" href="namespaceLightGBM.html" title="desc and descl2 fields must be written in reStructuredText format">LightGBM</a> R-package is working by running the following:</p>
<div class="fragment"><div class="line">library(lightgbm)</div>
<div class="line">data(agaricus.train, package=&#39;lightgbm&#39;)</div>
<div class="line">train &lt;- agaricus.train</div>
<div class="line">dtrain &lt;- lgb.Dataset(train$data, label=train$label)</div>
<div class="line">params &lt;- list(objective=&quot;regression&quot;, metric=&quot;l2&quot;)</div>
<div class="line">model &lt;- lgb.cv(params, dtrain, 10, nfold=5, min_data=1, learning_rate=1, early_stopping_rounds=10)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md75"></a>
Installation with Precompiled dll/lib from R Using GitHub</h1>
<p>You can install <a class="el" href="namespaceLightGBM.html" title="desc and descl2 fields must be written in reStructuredText format">LightGBM</a> R-package from GitHub with devtools thanks to a helper package for <a class="el" href="namespaceLightGBM.html" title="desc and descl2 fields must be written in reStructuredText format">LightGBM</a>.</p>
<h2><a class="anchor" id="autotoc_md76"></a>
Prerequisites</h2>
<p>You will need:</p>
<ul>
<li>Precompiled <a class="el" href="namespaceLightGBM.html" title="desc and descl2 fields must be written in reStructuredText format">LightGBM</a> dll/lib</li>
<li>MinGW / Visual Studio / gcc (depending on your OS and your needs) with make in PATH environment variable</li>
<li>git in PATH environment variable</li>
<li><a href="https://cmake.org/">CMake</a> in PATH environment variable</li>
<li><a href="https://github.com/Laurae2/lgbdl/">lgbdl</a> R-package, which can be installed using <code>devtools::install_github("Laurae2/lgbdl")</code></li>
<li><a href="https://cran.r-project.org/bin/windows/Rtools/">Rtools</a> if using Windows</li>
</ul>
<p>In addition, if you are using a Visual Studio precompiled DLL, assuming you do not have Visual Studio installed (if you have it installed, ignore the warnings below):</p>
<ul>
<li>Visual Studio 2015/2017 precompiled DLL: download and install Visual Studio Runtime for <a href="https://www.microsoft.com/en-us/download/details.aspx?id=52685">2015</a>/<a href="https://go.microsoft.com/fwlink/?LinkId=746572">2017</a> (you will get an error about MSVCP140.dll missing otherwise)</li>
</ul>
<p>Once you have all this setup, you can use <code>lgb.dl</code> from <code>lgbdl</code> package to install <a class="el" href="namespaceLightGBM.html" title="desc and descl2 fields must be written in reStructuredText format">LightGBM</a> from repository.</p>
<p>For instance, you can install the R-package from <a class="el" href="namespaceLightGBM.html" title="desc and descl2 fields must be written in reStructuredText format">LightGBM</a> master commit of GitHub with Visual Studio using the following from R:</p>
<div class="fragment"><div class="line">lgb.dl(commit = &quot;master&quot;,</div>
<div class="line">       compiler = &quot;vs&quot;,</div>
<div class="line">       repo = &quot;https://github.com/Microsoft/LightGBM&quot;)</div>
</div><!-- fragment --><p>You may also install using a precompiled dll/lib using the following from R:</p>
<div class="fragment"><div class="line">lgb.dl(commit = &quot;master&quot;,</div>
<div class="line">       libdll = &quot;C:\\LightGBM\\windows\\x64\\DLL\\lib_lightgbm.dll&quot;, # YOUR PRECOMPILED DLL</div>
<div class="line">       repo = &quot;https://github.com/Microsoft/LightGBM&quot;)</div>
</div><!-- fragment --><p>You may also install online using a <a class="el" href="namespaceLightGBM.html" title="desc and descl2 fields must be written in reStructuredText format">LightGBM</a> with proper GPU support using Visual Studio (as an example here) using the following from R:</p>
<div class="fragment"><div class="line">lgb.dl(commit = &quot;master&quot;,</div>
<div class="line">       compiler = &quot;vs&quot;, # Remove this for MinGW + GPU installation</div>
<div class="line">       repo = &quot;https://github.com/Microsoft/LightGBM&quot;,</div>
<div class="line">       use_gpu = TRUE)</div>
</div><!-- fragment --><p>For more details about options, please check <a href="https://github.com/Laurae2/lgbdl/">Laurae2/lgbdl</a> R-package.</p>
<p>You may also read <a href="https://github.com/Microsoft/LightGBM/issues/912#issuecomment-329496254">Microsoft/LightGBM#912</a> for a visual example for <a class="el" href="namespaceLightGBM.html" title="desc and descl2 fields must be written in reStructuredText format">LightGBM</a> installation in Windows with Visual Studio.</p>
<h1><a class="anchor" id="autotoc_md77"></a>
Examples</h1>
<p>Please visit [demo](demo):</p>
<ul>
<li><a href="demo/basic_walkthrough.R">Basic walkthrough of wrappers</a></li>
<li><a href="demo/boost_from_prediction.R">Boosting from existing prediction</a></li>
<li><a href="demo/early_stopping.R">Early Stopping</a></li>
<li><a href="demo/cross_validation.R">Cross Validation</a></li>
<li><a href="demo/multiclass.R">Multiclass Training/Prediction</a></li>
<li><a href="demo/leaf_stability.R">Leaf (in)Stability</a></li>
<li><a href="demo/weight_param.R">Weight-Parameter Adjustment Relationship</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Dec 9 2025 13:59:28 for Medial Code Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
