<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Medial Code Documentation: Streaming</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Medial Code Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Streaming<div class="ingroups"><a class="el" href="group__DMatrix.html">DMatrix</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Quantile DMatrix and external memory DMatrix can be created from batches of data.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structXGBoostBatchCSR.html">XGBoostBatchCSR</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mini batch used in XGBoost Data Iteration.  <a href="structXGBoostBatchCSR.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gabce84fe05f55709d643bcfd0a4e4620b" id="r_gabce84fe05f55709d643bcfd0a4e4620b"><td class="memItemLeft" align="right" valign="top"><a id="gabce84fe05f55709d643bcfd0a4e4620b" name="gabce84fe05f55709d643bcfd0a4e4620b"></a>
typedef void *&#160;</td><td class="memItemRight" valign="bottom"><b>DataIterHandle</b></td></tr>
<tr class="memdesc:gabce84fe05f55709d643bcfd0a4e4620b"><td class="mdescLeft">&#160;</td><td class="mdescRight">handle to a external data iterator <br /></td></tr>
<tr class="separator:gabce84fe05f55709d643bcfd0a4e4620b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00583918fb7159927ccebbb41844f6e1" id="r_ga00583918fb7159927ccebbb41844f6e1"><td class="memItemLeft" align="right" valign="top"><a id="ga00583918fb7159927ccebbb41844f6e1" name="ga00583918fb7159927ccebbb41844f6e1"></a>
typedef void *&#160;</td><td class="memItemRight" valign="bottom"><b>DataHolderHandle</b></td></tr>
<tr class="memdesc:ga00583918fb7159927ccebbb41844f6e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">handle to a internal data holder. <br /></td></tr>
<tr class="separator:ga00583918fb7159927ccebbb41844f6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab9d68b1efd7c8ed8f9b640d83e506981" id="r_gab9d68b1efd7c8ed8f9b640d83e506981"><td class="memItemLeft" align="right" valign="top">XGB_EXTERN_C typedef int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Streaming.html#gab9d68b1efd7c8ed8f9b640d83e506981">XGBCallbackSetData</a> (<a class="el" href="group__Streaming.html#ga00583918fb7159927ccebbb41844f6e1">DataHolderHandle</a> handle, <a class="el" href="structXGBoostBatchCSR.html">XGBoostBatchCSR</a> batch)</td></tr>
<tr class="memdesc:gab9d68b1efd7c8ed8f9b640d83e506981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback to set the data to handle,.  <br /></td></tr>
<tr class="separator:gab9d68b1efd7c8ed8f9b640d83e506981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6f192aa747d9f6cdc67829a28dda981" id="r_gaf6f192aa747d9f6cdc67829a28dda981"><td class="memItemLeft" align="right" valign="top">XGB_EXTERN_C typedef int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Streaming.html#gaf6f192aa747d9f6cdc67829a28dda981">XGBCallbackDataIterNext</a> (<a class="el" href="group__Streaming.html#gabce84fe05f55709d643bcfd0a4e4620b">DataIterHandle</a> data_handle, <a class="el" href="group__Streaming.html#gab9d68b1efd7c8ed8f9b640d83e506981">XGBCallbackSetData</a> *set_function, <a class="el" href="group__Streaming.html#ga00583918fb7159927ccebbb41844f6e1">DataHolderHandle</a> set_function_handle)</td></tr>
<tr class="memdesc:gaf6f192aa747d9f6cdc67829a28dda981"><td class="mdescLeft">&#160;</td><td class="mdescRight">The data reading callback function. The iterator will be able to give subset of batch in the data.  <br /></td></tr>
<tr class="separator:gaf6f192aa747d9f6cdc67829a28dda981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd3a4ecb40f0194de9f752bee7619c03" id="r_gadd3a4ecb40f0194de9f752bee7619c03"><td class="memItemLeft" align="right" valign="top">XGB_DLL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Streaming.html#gadd3a4ecb40f0194de9f752bee7619c03">XGDMatrixCreateFromDataIter</a> (<a class="el" href="group__Streaming.html#gabce84fe05f55709d643bcfd0a4e4620b">DataIterHandle</a> data_handle, <a class="el" href="group__Streaming.html#gaf6f192aa747d9f6cdc67829a28dda981">XGBCallbackDataIterNext</a> *callback, const char *cache_info, <a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> *out)</td></tr>
<tr class="memdesc:gadd3a4ecb40f0194de9f752bee7619c03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a DMatrix from a data iterator.  <br /></td></tr>
<tr class="separator:gadd3a4ecb40f0194de9f752bee7619c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d40e9d16f9f00d6e0277376cd3cdadb" id="r_ga3d40e9d16f9f00d6e0277376cd3cdadb"><td class="memItemLeft" align="right" valign="top">XGB_DLL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Streaming.html#ga3d40e9d16f9f00d6e0277376cd3cdadb">XGProxyDMatrixCreate</a> (<a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> *out)</td></tr>
<tr class="memdesc:ga3d40e9d16f9f00d6e0277376cd3cdadb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Second set of callback functions, used by constructing Quantile DMatrix or external memory DMatrix using custom iterator.  <br /></td></tr>
<tr class="separator:ga3d40e9d16f9f00d6e0277376cd3cdadb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga04febcfa7ea4669df1c8123cef8d54b8" id="r_ga04febcfa7ea4669df1c8123cef8d54b8"><td class="memItemLeft" align="right" valign="top">XGB_EXTERN_C typedef int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Streaming.html#ga04febcfa7ea4669df1c8123cef8d54b8">XGDMatrixCallbackNext</a> (<a class="el" href="group__Streaming.html#gabce84fe05f55709d643bcfd0a4e4620b">DataIterHandle</a> iter)</td></tr>
<tr class="memdesc:ga04febcfa7ea4669df1c8123cef8d54b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function prototype for getting next batch of data.  <br /></td></tr>
<tr class="separator:ga04febcfa7ea4669df1c8123cef8d54b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga561189c0e3177566a6b23929270a22bd" id="r_ga561189c0e3177566a6b23929270a22bd"><td class="memItemLeft" align="right" valign="top"><a id="ga561189c0e3177566a6b23929270a22bd" name="ga561189c0e3177566a6b23929270a22bd"></a>
XGB_EXTERN_C typedef void&#160;</td><td class="memItemRight" valign="bottom"><b>DataIterResetCallback</b> (<a class="el" href="group__Streaming.html#gabce84fe05f55709d643bcfd0a4e4620b">DataIterHandle</a> handle)</td></tr>
<tr class="memdesc:ga561189c0e3177566a6b23929270a22bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function prototype for resetting external iterator. <br /></td></tr>
<tr class="separator:ga561189c0e3177566a6b23929270a22bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b662959f4e1357472225025b8bb72c8" id="r_ga0b662959f4e1357472225025b8bb72c8"><td class="memItemLeft" align="right" valign="top">XGB_DLL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Streaming.html#ga0b662959f4e1357472225025b8bb72c8">XGDMatrixCreateFromCallback</a> (<a class="el" href="group__Streaming.html#gabce84fe05f55709d643bcfd0a4e4620b">DataIterHandle</a> iter, <a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> proxy, <a class="el" href="group__Streaming.html#ga561189c0e3177566a6b23929270a22bd">DataIterResetCallback</a> *reset, <a class="el" href="group__Streaming.html#ga04febcfa7ea4669df1c8123cef8d54b8">XGDMatrixCallbackNext</a> *next, char const *config, <a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> *out)</td></tr>
<tr class="memdesc:ga0b662959f4e1357472225025b8bb72c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an external memory DMatrix with data iterator.  <br /></td></tr>
<tr class="separator:ga0b662959f4e1357472225025b8bb72c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e95ce7eaf7870598556e2551bf02aec" id="r_ga0e95ce7eaf7870598556e2551bf02aec"><td class="memItemLeft" align="right" valign="top">XGB_DLL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Streaming.html#ga0e95ce7eaf7870598556e2551bf02aec">XGQuantileDMatrixCreateFromCallback</a> (<a class="el" href="group__Streaming.html#gabce84fe05f55709d643bcfd0a4e4620b">DataIterHandle</a> iter, <a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> proxy, <a class="el" href="group__Streaming.html#gabce84fe05f55709d643bcfd0a4e4620b">DataIterHandle</a> ref, <a class="el" href="group__Streaming.html#ga561189c0e3177566a6b23929270a22bd">DataIterResetCallback</a> *reset, <a class="el" href="group__Streaming.html#ga04febcfa7ea4669df1c8123cef8d54b8">XGDMatrixCallbackNext</a> *next, char const *config, <a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> *out)</td></tr>
<tr class="memdesc:ga0e95ce7eaf7870598556e2551bf02aec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a Quantile DMatrix with data iterator.  <br /></td></tr>
<tr class="separator:ga0e95ce7eaf7870598556e2551bf02aec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9b98ec19c69e0f8066f4eb461ba5069" id="r_gaf9b98ec19c69e0f8066f4eb461ba5069"><td class="memItemLeft" align="right" valign="top">XGB_DLL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Streaming.html#gaf9b98ec19c69e0f8066f4eb461ba5069">XGDeviceQuantileDMatrixCreateFromCallback</a> (<a class="el" href="group__Streaming.html#gabce84fe05f55709d643bcfd0a4e4620b">DataIterHandle</a> iter, <a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> proxy, <a class="el" href="group__Streaming.html#ga561189c0e3177566a6b23929270a22bd">DataIterResetCallback</a> *reset, <a class="el" href="group__Streaming.html#ga04febcfa7ea4669df1c8123cef8d54b8">XGDMatrixCallbackNext</a> *next, float missing, int nthread, int max_bin, <a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> *out)</td></tr>
<tr class="memdesc:gaf9b98ec19c69e0f8066f4eb461ba5069"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a Device Quantile DMatrix with data iterator.  <br /></td></tr>
<tr class="separator:gaf9b98ec19c69e0f8066f4eb461ba5069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66b48d1ff9bcccea6c20856a983dc420" id="r_ga66b48d1ff9bcccea6c20856a983dc420"><td class="memItemLeft" align="right" valign="top">XGB_DLL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Streaming.html#ga66b48d1ff9bcccea6c20856a983dc420">XGProxyDMatrixSetDataCudaArrayInterface</a> (<a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> handle, const char *c_interface_str)</td></tr>
<tr class="memdesc:ga66b48d1ff9bcccea6c20856a983dc420"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set data on a DMatrix proxy.  <br /></td></tr>
<tr class="separator:ga66b48d1ff9bcccea6c20856a983dc420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1f436a2a17a862d97a46b2d6d3426b4" id="r_gae1f436a2a17a862d97a46b2d6d3426b4"><td class="memItemLeft" align="right" valign="top">XGB_DLL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Streaming.html#gae1f436a2a17a862d97a46b2d6d3426b4">XGProxyDMatrixSetDataCudaColumnar</a> (<a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> handle, const char *c_interface_str)</td></tr>
<tr class="memdesc:gae1f436a2a17a862d97a46b2d6d3426b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set data on a DMatrix proxy.  <br /></td></tr>
<tr class="separator:gae1f436a2a17a862d97a46b2d6d3426b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbc3dc86a1d89eeb40f91439775e115e" id="r_gafbc3dc86a1d89eeb40f91439775e115e"><td class="memItemLeft" align="right" valign="top">XGB_DLL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Streaming.html#gafbc3dc86a1d89eeb40f91439775e115e">XGProxyDMatrixSetDataDense</a> (<a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> handle, char const *c_interface_str)</td></tr>
<tr class="memdesc:gafbc3dc86a1d89eeb40f91439775e115e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set data on a DMatrix proxy.  <br /></td></tr>
<tr class="separator:gafbc3dc86a1d89eeb40f91439775e115e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabee737edd655fcdd4aeec7847b6d34f7" id="r_gabee737edd655fcdd4aeec7847b6d34f7"><td class="memItemLeft" align="right" valign="top">XGB_DLL int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Streaming.html#gabee737edd655fcdd4aeec7847b6d34f7">XGProxyDMatrixSetDataCSR</a> (<a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> handle, char const *indptr, char const *indices, char const *data, <a class="el" href="namespacexgboost.html#aa90608d24714034e3824898fbed9361b">bst_ulong</a> ncol)</td></tr>
<tr class="memdesc:gabee737edd655fcdd4aeec7847b6d34f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set data on a DMatrix proxy.  <br /></td></tr>
<tr class="separator:gabee737edd655fcdd4aeec7847b6d34f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Quantile DMatrix and external memory DMatrix can be created from batches of data. </p>
<p>There are 2 sets of data callbacks for DMatrix. The first one is currently exclusively used by JVM packages. It uses <code><a class="el" href="structXGBoostBatchCSR.html" title="Mini batch used in XGBoost Data Iteration.">XGBoostBatchCSR</a></code> to accept batches for CSR formated input, and concatenate them into 1 final big CSR. The related functions are:</p>
<ul>
<li><a class="el" href="group__Streaming.html#gab9d68b1efd7c8ed8f9b640d83e506981">XGBCallbackSetData</a></li>
<li><a class="el" href="group__Streaming.html#gaf6f192aa747d9f6cdc67829a28dda981">XGBCallbackDataIterNext</a></li>
<li><a class="el" href="group__Streaming.html#gadd3a4ecb40f0194de9f752bee7619c03">XGDMatrixCreateFromDataIter</a></li>
</ul>
<p>Another set is used by external data iterator. It accept foreign data iterators as callbacks. There are 2 different senarios where users might want to pass in callbacks instead of raw data. First it's the Quantile DMatrix used by hist and GPU Hist. For this case, the data is first compressed by quantile sketching then merged. This is particular useful for distributed setting as it eliminates 2 copies of data. 1 by a <code>concat</code> from external library to make the data into a blob for normal DMatrix initialization, another by the internal CSR copy of DMatrix. The second use case is external memory support where users can pass a custom data iterator into XGBoost for loading data in batches. There are short notes on each of the use cases in respected DMatrix factory function.</p>
<p>Related functions are:</p>
<h1><a class="anchor" id="autotoc_md199"></a>
Factory functions</h1>
<ul>
<li><a class="el" href="group__Streaming.html#ga0b662959f4e1357472225025b8bb72c8">XGDMatrixCreateFromCallback</a> for external memory</li>
<li><a class="el" href="group__Streaming.html#ga0e95ce7eaf7870598556e2551bf02aec">XGQuantileDMatrixCreateFromCallback</a> for quantile DMatrix</li>
</ul>
<h1><a class="anchor" id="autotoc_md200"></a>
Proxy that callers can use to pass data to XGBoost</h1>
<ul>
<li><a class="el" href="group__Streaming.html#ga3d40e9d16f9f00d6e0277376cd3cdadb">XGProxyDMatrixCreate</a></li>
<li><a class="el" href="group__Streaming.html#ga04febcfa7ea4669df1c8123cef8d54b8">XGDMatrixCallbackNext</a></li>
<li><a class="el" href="group__Streaming.html#ga561189c0e3177566a6b23929270a22bd">DataIterResetCallback</a></li>
<li><a class="el" href="group__Streaming.html#ga66b48d1ff9bcccea6c20856a983dc420">XGProxyDMatrixSetDataCudaArrayInterface</a></li>
<li><a class="el" href="group__Streaming.html#gae1f436a2a17a862d97a46b2d6d3426b4">XGProxyDMatrixSetDataCudaColumnar</a></li>
<li><a class="el" href="group__Streaming.html#gafbc3dc86a1d89eeb40f91439775e115e">XGProxyDMatrixSetDataDense</a></li>
<li><a class="el" href="group__Streaming.html#gabee737edd655fcdd4aeec7847b6d34f7">XGProxyDMatrixSetDataCSR</a></li>
<li>... (data setters) </li>
</ul>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf6f192aa747d9f6cdc67829a28dda981" name="gaf6f192aa747d9f6cdc67829a28dda981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6f192aa747d9f6cdc67829a28dda981">&#9670;&#160;</a></span>XGBCallbackDataIterNext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XGB_EXTERN_C typedef int XGBCallbackDataIterNext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#gabce84fe05f55709d643bcfd0a4e4620b">DataIterHandle</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#gab9d68b1efd7c8ed8f9b640d83e506981">XGBCallbackSetData</a> *&#160;</td>
          <td class="paramname"><em>set_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#ga00583918fb7159927ccebbb41844f6e1">DataHolderHandle</a>&#160;</td>
          <td class="paramname"><em>set_function_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The data reading callback function. The iterator will be able to give subset of batch in the data. </p>
<p>If there is data, the function will call set_function to set the data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data_handle</td><td>The handle to the callback. </td></tr>
    <tr><td class="paramname">set_function</td><td>The batch returned by the iterator </td></tr>
    <tr><td class="paramname">set_function_handle</td><td>The handle to be passed to set function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if we are reaching the end and batch is not returned. </dd></dl>

</div>
</div>
<a id="gab9d68b1efd7c8ed8f9b640d83e506981" name="gab9d68b1efd7c8ed8f9b640d83e506981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab9d68b1efd7c8ed8f9b640d83e506981">&#9670;&#160;</a></span>XGBCallbackSetData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XGB_EXTERN_C typedef int XGBCallbackSetData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#ga00583918fb7159927ccebbb41844f6e1">DataHolderHandle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structXGBoostBatchCSR.html">XGBoostBatchCSR</a>&#160;</td>
          <td class="paramname"><em>batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback to set the data to handle,. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>The handle to the callback. </td></tr>
    <tr><td class="paramname">batch</td><td>The data content to be set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf9b98ec19c69e0f8066f4eb461ba5069" name="gaf9b98ec19c69e0f8066f4eb461ba5069"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf9b98ec19c69e0f8066f4eb461ba5069">&#9670;&#160;</a></span>XGDeviceQuantileDMatrixCreateFromCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XGB_DLL int XGDeviceQuantileDMatrixCreateFromCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#gabce84fe05f55709d643bcfd0a4e4620b">DataIterHandle</a>&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a>&#160;</td>
          <td class="paramname"><em>proxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#ga561189c0e3177566a6b23929270a22bd">DataIterResetCallback</a> *&#160;</td>
          <td class="paramname"><em>reset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#ga04febcfa7ea4669df1c8123cef8d54b8">XGDMatrixCallbackNext</a> *&#160;</td>
          <td class="paramname"><em>next</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>missing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nthread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_bin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a Device Quantile DMatrix with data iterator. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000046">Deprecated:</a></b></dt><dd>since 1.7.0 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Streaming.html#ga0e95ce7eaf7870598556e2551bf02aec" title="Create a Quantile DMatrix with data iterator.">XGQuantileDMatrixCreateFromCallback()</a> </dd></dl>

</div>
</div>
<a id="ga04febcfa7ea4669df1c8123cef8d54b8" name="ga04febcfa7ea4669df1c8123cef8d54b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga04febcfa7ea4669df1c8123cef8d54b8">&#9670;&#160;</a></span>XGDMatrixCallbackNext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XGB_EXTERN_C typedef int XGDMatrixCallbackNext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#gabce84fe05f55709d643bcfd0a4e4620b">DataIterHandle</a>&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function prototype for getting next batch of data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iter</td><td>A handler to the user defined iterator.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when success, -1 when failure happens </dd></dl>

</div>
</div>
<a id="ga0b662959f4e1357472225025b8bb72c8" name="ga0b662959f4e1357472225025b8bb72c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b662959f4e1357472225025b8bb72c8">&#9670;&#160;</a></span>XGDMatrixCreateFromCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XGB_DLL int XGDMatrixCreateFromCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#gabce84fe05f55709d643bcfd0a4e4620b">DataIterHandle</a>&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a>&#160;</td>
          <td class="paramname"><em>proxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#ga561189c0e3177566a6b23929270a22bd">DataIterResetCallback</a> *&#160;</td>
          <td class="paramname"><em>reset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#ga04febcfa7ea4669df1c8123cef8d54b8">XGDMatrixCallbackNext</a> *&#160;</td>
          <td class="paramname"><em>next</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an external memory DMatrix with data iterator. </p>
<p>Short note for how to use second set of callback for external memory data support:</p>
<ul>
<li>Step 0: Define a data iterator with 2 methods <code>reset</code>, and <code>next</code>.</li>
<li>Step 1: Create a DMatrix proxy by <a class="el" href="group__Streaming.html#ga3d40e9d16f9f00d6e0277376cd3cdadb">XGProxyDMatrixCreate</a> and hold the handle.</li>
<li>Step 2: Pass the iterator handle, proxy handle and 2 methods into <a class="el" href="group__Streaming.html#ga0b662959f4e1357472225025b8bb72c8">XGDMatrixCreateFromCallback</a>, along with other parameters encoded as a JSON object.</li>
<li>Step 3: Call appropriate data setters in <code>next</code> functions.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">iter</td><td>A handle to external data iterator. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">proxy</td><td>A DMatrix proxy handle created by <a class="el" href="group__Streaming.html#ga3d40e9d16f9f00d6e0277376cd3cdadb">XGProxyDMatrixCreate</a>. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">reset</td><td>Callback function resetting the iterator state. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">next</td><td>Callback function yielding the next batch of data. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">config</td><td>JSON encoded parameters for DMatrix construction. Accepted fields are:<ul>
<li>missing: Which value to represent missing value</li>
<li>cache_prefix: The path of cache file, caller must initialize all the directories in this path.</li>
<li>nthread (optional): Number of threads used for initializing DMatrix. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>The created external memory DMatrix</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when success, -1 when failure happens </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="external_memory_8c-example.html#a18">external_memory.c</a>.</dd>
</dl>

</div>
</div>
<a id="gadd3a4ecb40f0194de9f752bee7619c03" name="gadd3a4ecb40f0194de9f752bee7619c03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd3a4ecb40f0194de9f752bee7619c03">&#9670;&#160;</a></span>XGDMatrixCreateFromDataIter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XGB_DLL int XGDMatrixCreateFromDataIter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#gabce84fe05f55709d643bcfd0a4e4620b">DataIterHandle</a>&#160;</td>
          <td class="paramname"><em>data_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#gaf6f192aa747d9f6cdc67829a28dda981">XGBCallbackDataIterNext</a> *&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cache_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a DMatrix from a data iterator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data_handle</td><td>The handle to the data. </td></tr>
    <tr><td class="paramname">callback</td><td>The callback to get the data. </td></tr>
    <tr><td class="paramname">cache_info</td><td>Additional information about cache file, can be null. </td></tr>
    <tr><td class="paramname">out</td><td>The created DMatrix </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when success, -1 when failure happens. </dd></dl>

</div>
</div>
<a id="ga3d40e9d16f9f00d6e0277376cd3cdadb" name="ga3d40e9d16f9f00d6e0277376cd3cdadb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d40e9d16f9f00d6e0277376cd3cdadb">&#9670;&#160;</a></span>XGProxyDMatrixCreate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XGB_DLL int XGProxyDMatrixCreate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> *&#160;</td>
          <td class="paramname"><em>out</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Second set of callback functions, used by constructing Quantile DMatrix or external memory DMatrix using custom iterator. </p>
<p>Create a DMatrix proxy for setting data, can be free by XGDMatrixFree.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>The created Device Quantile DMatrix</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when success, -1 when failure happens </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="external_memory_8c-example.html#a6">external_memory.c</a>.</dd>
</dl>

</div>
</div>
<a id="gabee737edd655fcdd4aeec7847b6d34f7" name="gabee737edd655fcdd4aeec7847b6d34f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabee737edd655fcdd4aeec7847b6d34f7">&#9670;&#160;</a></span>XGProxyDMatrixSetDataCSR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XGB_DLL int XGProxyDMatrixSetDataCSR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>indptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacexgboost.html#aa90608d24714034e3824898fbed9361b">bst_ulong</a>&#160;</td>
          <td class="paramname"><em>ncol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set data on a DMatrix proxy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A DMatrix proxy created by <a class="el" href="group__Streaming.html#ga3d40e9d16f9f00d6e0277376cd3cdadb">XGProxyDMatrixCreate</a> </td></tr>
    <tr><td class="paramname">indptr</td><td>JSON encoded <b>array_interface</b> to row pointer in CSR. </td></tr>
    <tr><td class="paramname">indices</td><td>JSON encoded <b>array_interface</b> to column indices in CSR. </td></tr>
    <tr><td class="paramname">data</td><td>JSON encoded <b>array_interface</b> to values in CSR.. </td></tr>
    <tr><td class="paramname">ncol</td><td>The number of columns of input CSR matrix.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when success, -1 when failure happens </dd></dl>

</div>
</div>
<a id="ga66b48d1ff9bcccea6c20856a983dc420" name="ga66b48d1ff9bcccea6c20856a983dc420"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66b48d1ff9bcccea6c20856a983dc420">&#9670;&#160;</a></span>XGProxyDMatrixSetDataCudaArrayInterface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XGB_DLL int XGProxyDMatrixSetDataCudaArrayInterface </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>c_interface_str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set data on a DMatrix proxy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A DMatrix proxy created by <a class="el" href="group__Streaming.html#ga3d40e9d16f9f00d6e0277376cd3cdadb">XGProxyDMatrixCreate</a> </td></tr>
    <tr><td class="paramname">c_interface_str</td><td>Null terminated JSON document string representation of CUDA array interface.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when success, -1 when failure happens </dd></dl>

</div>
</div>
<a id="gae1f436a2a17a862d97a46b2d6d3426b4" name="gae1f436a2a17a862d97a46b2d6d3426b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae1f436a2a17a862d97a46b2d6d3426b4">&#9670;&#160;</a></span>XGProxyDMatrixSetDataCudaColumnar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XGB_DLL int XGProxyDMatrixSetDataCudaColumnar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>c_interface_str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set data on a DMatrix proxy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A DMatrix proxy created by <a class="el" href="group__Streaming.html#ga3d40e9d16f9f00d6e0277376cd3cdadb">XGProxyDMatrixCreate</a> </td></tr>
    <tr><td class="paramname">c_interface_str</td><td>Null terminated JSON document string representation of CUDA array interface, with an array of columns.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when success, -1 when failure happens </dd></dl>

</div>
</div>
<a id="gafbc3dc86a1d89eeb40f91439775e115e" name="gafbc3dc86a1d89eeb40f91439775e115e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafbc3dc86a1d89eeb40f91439775e115e">&#9670;&#160;</a></span>XGProxyDMatrixSetDataDense()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XGB_DLL int XGProxyDMatrixSetDataDense </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>c_interface_str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set data on a DMatrix proxy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>A DMatrix proxy created by <a class="el" href="group__Streaming.html#ga3d40e9d16f9f00d6e0277376cd3cdadb">XGProxyDMatrixCreate</a> </td></tr>
    <tr><td class="paramname">c_interface_str</td><td>Null terminated JSON document string representation of array interface.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when success, -1 when failure happens </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="external_memory_8c-example.html#a10">external_memory.c</a>.</dd>
</dl>

</div>
</div>
<a id="ga0e95ce7eaf7870598556e2551bf02aec" name="ga0e95ce7eaf7870598556e2551bf02aec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0e95ce7eaf7870598556e2551bf02aec">&#9670;&#160;</a></span>XGQuantileDMatrixCreateFromCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XGB_DLL int XGQuantileDMatrixCreateFromCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#gabce84fe05f55709d643bcfd0a4e4620b">DataIterHandle</a>&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a>&#160;</td>
          <td class="paramname"><em>proxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#gabce84fe05f55709d643bcfd0a4e4620b">DataIterHandle</a>&#160;</td>
          <td class="paramname"><em>ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#ga561189c0e3177566a6b23929270a22bd">DataIterResetCallback</a> *&#160;</td>
          <td class="paramname"><em>reset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Streaming.html#ga04febcfa7ea4669df1c8123cef8d54b8">XGDMatrixCallbackNext</a> *&#160;</td>
          <td class="paramname"><em>next</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Library.html#ga79787d32dbf589626a850cd9cd34dbe6">DMatrixHandle</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a Quantile DMatrix with data iterator. </p>
<p>Short note for how to use the second set of callback for (GPU)Hist tree method:</p>
<ul>
<li>Step 0: Define a data iterator with 2 methods <code>reset</code>, and <code>next</code>.</li>
<li>Step 1: Create a DMatrix proxy by <a class="el" href="group__Streaming.html#ga3d40e9d16f9f00d6e0277376cd3cdadb">XGProxyDMatrixCreate</a> and hold the handle.</li>
<li>Step 2: Pass the iterator handle, proxy handle and 2 methods into <code>XGQuantileDMatrixCreateFromCallback</code>.</li>
<li>Step 3: Call appropriate data setters in <code>next</code> functions.</li>
</ul>
<p>See test_iterative_dmatrix.cu or Python interface for examples.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iter</td><td>A handle to external data iterator. </td></tr>
    <tr><td class="paramname">proxy</td><td>A DMatrix proxy handle created by <a class="el" href="group__Streaming.html#ga3d40e9d16f9f00d6e0277376cd3cdadb">XGProxyDMatrixCreate</a>. </td></tr>
    <tr><td class="paramname">ref</td><td>Reference DMatrix for providing quantile information. </td></tr>
    <tr><td class="paramname">reset</td><td>Callback function resetting the iterator state. </td></tr>
    <tr><td class="paramname">next</td><td>Callback function yielding the next batch of data. </td></tr>
    <tr><td class="paramname">config</td><td>JSON encoded parameters for DMatrix construction. Accepted fields are:<ul>
<li>missing: Which value to represent missing value</li>
<li>nthread (optional): Number of threads used for initializing DMatrix.</li>
<li>max_bin (optional): Maximum number of bins for building histogram. </li>
</ul>
</td></tr>
    <tr><td class="paramname">out</td><td>The created Device Quantile DMatrix</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when success, -1 when failure happens </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Dec 2 2025 13:52:04 for Medial Code Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
