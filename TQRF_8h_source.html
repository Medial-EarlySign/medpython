<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Medial Code Documentation: Internal/TQRF/TQRF/TQRF.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Medial Code Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_fe10b436a84a20bae4af599f57964cc6.html">Internal</a></li><li class="navelem"><a class="el" href="dir_a1a961c543fbfe41438b4357514dae0f.html">TQRF</a></li><li class="navelem"><a class="el" href="dir_f9d25d1d01a776fb4d547a7bd9e8bd86.html">TQRF</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">TQRF.h</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#ifndef __TQRF_H__</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#define __TQRF_H__</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">//</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">// TQRF</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">//</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &lt;<a class="code" href="Logger_8h.html">Logger/Logger/Logger.h</a>&gt;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;<a class="code" href="SerializableObject_8h.html">SerializableObject/SerializableObject/SerializableObject.h</a>&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;MedProcessTools/MedProcessTools/MedFeatures.h&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;MedMat/MedMat/MedMat.h&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;<a class="code" href="MedTime_8h.html">MedTime/MedTime/MedTime.h</a>&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;queue&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span> </div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacestd.html">std</a>;</div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="keyword">enum</span> TQRF_TreeTypes {</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>    TQRF_TREE_ENTROPY = 0,</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>    TQRF_TREE_REGRESSION = 1,</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>    TQRF_TREE_LIKELIHOOD = 2,</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>    TQRF_TREE_WEIGHTED_LIKELIHOOD = 3,</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>    TQRF_TREE_DEV = 4, <span class="comment">// free place to use when developing new score ideas</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>    TQRF_TREE_UNDEFINED = 5</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>};</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="keyword">enum</span> TQRF_Missing_Value_Method {</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>    TQRF_MISSING_VALUE_MEAN = 0,</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>    TQRF_MISSING_VALUE_MEDIAN = 1,</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    TQRF_MISSING_VALUE_LARGER_NODE = 2,</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>    TQRF_MISSING_VALUE_LEFT = 3,</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    TQRF_MISSING_VALUE_RIGHT = 4,</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>    TQRF_MISSING_VALUE_RAND_ALL = 5,</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    TQRF_MISSING_VALUE_RAND_EACH_SAMPLE = 6,</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    TQRF_MISSING_VALUE_NOTHING = 7</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>};</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span> </div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="keyword">enum</span> TQRF_Node_Working_State {</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>    TQRF_Node_State_Initiated = 0,</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    TQRF_Node_State_In_Progress = 1,</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    TQRF_Node_State_Done = 2</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>};</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="keyword">enum</span> TQRF_Missing_Direction {</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    TQRF_MISSING_DIRECTION_LEFT = 0,</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    TQRF_MISSING_DIRECTION_RIGHT = 1,</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    TQRF_MISSING_DIRECTION_RAND_EACH_SAMPLE = 2</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>};</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="preprocessor">#define TQRF_MAX_TIME_SLICE         10000000</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="preprocessor">#define MIN_ELEMENTS_IN_TIME_SLICE  100</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="preprocessor">#define UNSET_BETA  ((float)-1e-10)</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> </div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="comment">//==========================================================================================================================</span></div>
<div class="foldopen" id="foldopen00055" data-start="{" data-end="};">
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="classTQRF__Params.html">   55</a></span><span class="keyword">class </span><a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> : <span class="keyword">public</span> <a class="code hl_class" href="classSerializableObject.html">SerializableObject</a> {</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <span class="comment">//========================================================================================================================</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="comment">// params list</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <span class="comment">//========================================================================================================================</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <span class="keywordtype">string</span> init_string = <span class="stringliteral">&quot;&quot;</span>;            </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#aed1c9500eddda80ec98c05ad5cd62a67">   62</a></span>    <span class="keywordtype">string</span> <a class="code hl_variable" href="classTQRF__Params.html#aed1c9500eddda80ec98c05ad5cd62a67">samples_time_unit</a> = <span class="stringliteral">&quot;Date&quot;</span>;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    <span class="keywordtype">int</span> samples_time_unit_i; </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a87fd4be453d777c39c90bbc68e9e62fe">   65</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a87fd4be453d777c39c90bbc68e9e62fe">ncateg</a> = 2;         </div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="comment">// time slices</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a2d6bb18312056f077c30a6187d5e84e2">   68</a></span>    <span class="keywordtype">string</span> <a class="code hl_variable" href="classTQRF__Params.html#a2d6bb18312056f077c30a6187d5e84e2">time_slice_unit</a> = <span class="stringliteral">&quot;Days&quot;</span>;</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <span class="keywordtype">int</span> time_slice_unit_i; </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a85be455a8128ae72529531a2ffde4d03">   70</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a85be455a8128ae72529531a2ffde4d03">time_slice_size</a> = -1;           </div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#aa79873ad34495be067a4b7b10fe70fc8">   71</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#aa79873ad34495be067a4b7b10fe70fc8">n_time_slices</a> = 1;              </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#ad8cc792b5553066629f4080f57f4285c">   72</a></span>    vector&lt;int&gt; <a class="code hl_variable" href="classTQRF__Params.html#ad8cc792b5553066629f4080f57f4285c">time_slices</a> = {};       </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    </div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a76a74d7a9658cb67687ddb0eb93da691">   74</a></span>    vector&lt;float&gt; <a class="code hl_variable" href="classTQRF__Params.html#a76a74d7a9658cb67687ddb0eb93da691">time_slices_wgts</a> ={}; </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#ad66fc1e87555b2e2d2061f2d3f09c972">   75</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#ad66fc1e87555b2e2d2061f2d3f09c972">censor_cases</a> = 0;               </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span> </div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="comment">// quantization</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#ad640502560e49c5cecfe6e9379c66832">   78</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#ad640502560e49c5cecfe6e9379c66832">max_q</a> = 200;                    </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    <span class="comment">//int max_q_sample = 100000;            /// the max number of values to use when deciding q limits</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span> </div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <span class="comment">// trees and stopping criteria</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a828c7e38a1608c2f5da0f1bcc0c92273">   82</a></span>    <span class="keywordtype">string</span> <a class="code hl_variable" href="classTQRF__Params.html#a828c7e38a1608c2f5da0f1bcc0c92273">tree_type</a> = <span class="stringliteral">&quot;&quot;</span>;              </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#afe116e34ecc42092173b92105731d35f">   83</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#afe116e34ecc42092173b92105731d35f">tree_type_i</a> = -1;               </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a8d9ffb95d7f3a681af5dec335ca54e08">   84</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a8d9ffb95d7f3a681af5dec335ca54e08">ntrees</a> = 50;                    </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a5e96a5207610143e72aa79f96bf29980">   85</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a5e96a5207610143e72aa79f96bf29980">max_depth</a> = 100;                </div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a72a268306fb75577b79ecdb6e0e0cf02">   86</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a72a268306fb75577b79ecdb6e0e0cf02">min_node_last_slice</a> = 10;       </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a32922bca5e62f76d763a7c23da7ec492">   87</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a32922bca5e62f76d763a7c23da7ec492">min_node</a> = 10;                  </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a64b709ed873ae1287541cf924e9be71c">   88</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Params.html#a64b709ed873ae1287541cf924e9be71c">random_split_prob</a> = 0;        </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span> </div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    <span class="comment">// feature sampling</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#ada004c28a06d42262cbf11a25b41dab6">   91</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#ada004c28a06d42262cbf11a25b41dab6">ntry</a> = -1;                      </div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a8cccc0732550d7f4575b2705f772ce97">   92</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Params.html#a8cccc0732550d7f4575b2705f772ce97">ntry_prob</a> = (float)0.1;       </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#ad85acac8ed51af0c477eb45425a9e7bc">   93</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#ad85acac8ed51af0c477eb45425a9e7bc">nsplits</a> = -1;                   </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    <span class="comment">// speedup by subsample control</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a3518ad8380af74327b3c014564ff3d50">   96</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a3518ad8380af74327b3c014564ff3d50">max_node_test_samples</a> = 50000;  </div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="comment">// bagging control</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a17e781848eca082c38ab016c3824269c">   99</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a17e781848eca082c38ab016c3824269c">single_sample_per_pid</a> = 1;      </div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#ac5c219175b2313027b3218ed534e285e">  100</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#ac5c219175b2313027b3218ed534e285e">bag_with_repeats</a> = 1;           </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a22723f6e263c07c2e5e66d9df7f24094">  101</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Params.html#a22723f6e263c07c2e5e66d9df7f24094">bag_prob</a> = (float)0.5;        </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a832bd5d872f421ba83f39843a62fff8a">  102</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Params.html#a832bd5d872f421ba83f39843a62fff8a">bag_ratio</a> = -1;               </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#ac3b6eb427a9c6eaddca13033f340df31">  103</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Params.html#ac3b6eb427a9c6eaddca13033f340df31">bag_feat</a> = (float)1.0;        </div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#ae33e6ef16f4a0bb20cfef18881f4e70e">  104</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#ae33e6ef16f4a0bb20cfef18881f4e70e">qpoints_per_split</a> = 0;          </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="comment">// categorial featues</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a6bb9eb0d28f9fdd12782263a01dbb699">  107</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a6bb9eb0d28f9fdd12782263a01dbb699">nvals_for_categorial</a> = 0;           </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a4f8b97ddd7b9bba195ff9df382fff60f">  108</a></span>    vector&lt;string&gt; <a class="code hl_variable" href="classTQRF__Params.html#a4f8b97ddd7b9bba195ff9df382fff60f">categorial_str</a>;      </div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#ad471a7160d94591a974004ab4994a73c">  109</a></span>    vector&lt;string&gt; <a class="code hl_variable" href="classTQRF__Params.html#ad471a7160d94591a974004ab4994a73c">categorial_tags</a>;     </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="comment">//vector&lt;int&gt; categorial;               /// calculated from the above (in learning, once train data is given. In testing - already ready)</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span> </div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="comment">// missing value</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a983d1578bd24ac1cba3ee337ace5c4fe">  113</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Params.html#a983d1578bd24ac1cba3ee337ace5c4fe">missing_val</a> = MED_MAT_MISSING_VALUE;  </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#aaa695d7dbc68621e928bf8162ed1ad53">  114</a></span>    <span class="keywordtype">string</span> <a class="code hl_variable" href="classTQRF__Params.html#aaa695d7dbc68621e928bf8162ed1ad53">missing_method_str</a> = <span class="stringliteral">&quot;median&quot;</span>;       </div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#afeaf78c3248907a2546a3313cf3992a8">  115</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#afeaf78c3248907a2546a3313cf3992a8">missing_method</a> = -1;                    </div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">// sanities</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#aae6aa516c5cff8f5f20b1e0ab9617e03">  118</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#aae6aa516c5cff8f5f20b1e0ab9617e03">test_for_inf</a> = 1;               </div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a71c06f4363267b2100a4c0201abbc6b1">  119</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a71c06f4363267b2100a4c0201abbc6b1">test_for_missing</a> = 0;           </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span> </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <span class="comment">// prediction configuration</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#adb88e9f97856d87ee06e0e767cfb0f97">  122</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#adb88e9f97856d87ee06e0e767cfb0f97">only_this_categ</a> = -1;           </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a621d9af61338285012cccc1fb62800b3">  124</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a621d9af61338285012cccc1fb62800b3">predict_from_slice</a> = -1;        </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a7f94cb36c5ff96af2b36cc95d26cb9ac">  125</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a7f94cb36c5ff96af2b36cc95d26cb9ac">predict_to_slice</a> = -1;</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="keywordtype">int</span> predict_sum_times = 0;          </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span> </div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="comment">// weights</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a4fdfcde32dec21be5559fbbc89eaae5a">  130</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Params.html#a4fdfcde32dec21be5559fbbc89eaae5a">case_wgt</a> = 1;                 </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span> </div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="comment">// ada boost mode</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a20027d7514fad877717d8bf12c1131cf">  133</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a20027d7514fad877717d8bf12c1131cf">nrounds</a> = 1;                    </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#aaa3638e64e196a66e5abe9991b59839c">  134</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Params.html#aaa3638e64e196a66e5abe9991b59839c">min_p</a> = (float)0.01;          </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a8cac6996a5d79c958769af76d30e7415">  135</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Params.html#a8cac6996a5d79c958769af76d30e7415">max_p</a> = (float)0.99;          </div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a7200bfd81847e582bcde49c60a083573">  136</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Params.html#a7200bfd81847e582bcde49c60a083573">alpha</a> = 1;                    </div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#abca76d54d19109dc31c2db42d5bbda8e">  137</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Params.html#abca76d54d19109dc31c2db42d5bbda8e">wgts_pow</a> = 2;                 </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span> </div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="comment">// lists</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a46234a46bc1ba061c628643c387aafe4">  140</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Params.html#a46234a46bc1ba061c628643c387aafe4">tuning_size</a> = 0;              </div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a970c99528ab261e6e0246377c64bde1b">  141</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a970c99528ab261e6e0246377c64bde1b">tune_max_depth</a> = 0;             </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a3bc3c3127b45faa5288bcdd76b7b9d78">  142</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a3bc3c3127b45faa5288bcdd76b7b9d78">tune_min_node_size</a> = 0;         </div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span> </div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="comment">// tuning gradient descent parameters</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#ab54b42ad15d6356aaf361c293126448a">  145</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Params.html#ab54b42ad15d6356aaf361c293126448a">gd_rate</a> = (float)0.01;        </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a4779f9d49bc3f8e12f9e824e155f66bc">  146</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a4779f9d49bc3f8e12f9e824e155f66bc">gd_batch</a> = 1000;                </div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a0c5fd41d70262de551768498cc112d1b">  147</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Params.html#a0c5fd41d70262de551768498cc112d1b">gd_momentum</a> = (float)0.95;    </div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a05dfa132258037ccb2b12c929c676a2a">  148</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Params.html#a05dfa132258037ccb2b12c929c676a2a">gd_lambda</a> = 0;                </div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a58bb3d281aaf4d28164e7db7cdad805a">  149</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a58bb3d281aaf4d28164e7db7cdad805a">gd_epochs</a> = 0;                  </div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span> </div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    <span class="comment">// verbosity</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#adfa1d65e9cbd0d7fe7466c3630f98edd">  152</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#adfa1d65e9cbd0d7fe7466c3630f98edd">verbosity</a> = 0;                  </div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a95910b8404a39b76787080fc39b386c8">  153</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a95910b8404a39b76787080fc39b386c8">ids_to_print</a> = 30;              </div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno"><a class="line" href="classTQRF__Params.html#a48bc8edaa901dc6e8f65d3a85349c555">  154</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Params.html#a48bc8edaa901dc6e8f65d3a85349c555">debug</a> = 0;                      </div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    <span class="comment">//========================================================================================================================</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span> </div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="classTQRF__Params.html#ac5857b5cbed459fbf51a3cc77da40dd0">init</a>(map&lt;string, string&gt;&amp; map);</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span> </div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <span class="comment">// next are non serialized helpers we keep here as they are common to ALL the forest</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    vector&lt;double&gt; log_table;</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span> </div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <span class="comment">// Serialization</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    ADD_CLASS_NAME(<a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a>)</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <a class="code hl_define" href="SerializableObject_8h.html#a152224225f53c73826c3ad5e3b08c4db">ADD_SERIALIZATION_FUNCS</a>(init_string, <a class="code hl_variable" href="classTQRF__Params.html#aed1c9500eddda80ec98c05ad5cd62a67">samples_time_unit</a>, samples_time_unit_i, <a class="code hl_variable" href="classTQRF__Params.html#a87fd4be453d777c39c90bbc68e9e62fe">ncateg</a>, <a class="code hl_variable" href="classTQRF__Params.html#a2d6bb18312056f077c30a6187d5e84e2">time_slice_unit</a>, time_slice_unit_i, <a class="code hl_variable" href="classTQRF__Params.html#a85be455a8128ae72529531a2ffde4d03">time_slice_size</a>, <a class="code hl_variable" href="classTQRF__Params.html#aa79873ad34495be067a4b7b10fe70fc8">n_time_slices</a>,</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>        <a class="code hl_variable" href="classTQRF__Params.html#ad8cc792b5553066629f4080f57f4285c">time_slices</a>, <a class="code hl_variable" href="classTQRF__Params.html#a76a74d7a9658cb67687ddb0eb93da691">time_slices_wgts</a>, <a class="code hl_variable" href="classTQRF__Params.html#ad66fc1e87555b2e2d2061f2d3f09c972">censor_cases</a>, <a class="code hl_variable" href="classTQRF__Params.html#ad640502560e49c5cecfe6e9379c66832">max_q</a>, <a class="code hl_variable" href="classTQRF__Params.html#a828c7e38a1608c2f5da0f1bcc0c92273">tree_type</a>, <a class="code hl_variable" href="classTQRF__Params.html#afe116e34ecc42092173b92105731d35f">tree_type_i</a>, <a class="code hl_variable" href="classTQRF__Params.html#a8d9ffb95d7f3a681af5dec335ca54e08">ntrees</a>, <a class="code hl_variable" href="classTQRF__Params.html#a5e96a5207610143e72aa79f96bf29980">max_depth</a>, <a class="code hl_variable" href="classTQRF__Params.html#a72a268306fb75577b79ecdb6e0e0cf02">min_node_last_slice</a>, <a class="code hl_variable" href="classTQRF__Params.html#a32922bca5e62f76d763a7c23da7ec492">min_node</a>, <a class="code hl_variable" href="classTQRF__Params.html#a64b709ed873ae1287541cf924e9be71c">random_split_prob</a>, <a class="code hl_variable" href="classTQRF__Params.html#ada004c28a06d42262cbf11a25b41dab6">ntry</a>, <a class="code hl_variable" href="classTQRF__Params.html#a8cccc0732550d7f4575b2705f772ce97">ntry_prob</a>,</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>        <a class="code hl_variable" href="classTQRF__Params.html#ad85acac8ed51af0c477eb45425a9e7bc">nsplits</a>, <a class="code hl_variable" href="classTQRF__Params.html#a3518ad8380af74327b3c014564ff3d50">max_node_test_samples</a>, <a class="code hl_variable" href="classTQRF__Params.html#a17e781848eca082c38ab016c3824269c">single_sample_per_pid</a>, <a class="code hl_variable" href="classTQRF__Params.html#ac5c219175b2313027b3218ed534e285e">bag_with_repeats</a>, <a class="code hl_variable" href="classTQRF__Params.html#a22723f6e263c07c2e5e66d9df7f24094">bag_prob</a>, <a class="code hl_variable" href="classTQRF__Params.html#a832bd5d872f421ba83f39843a62fff8a">bag_ratio</a>, <a class="code hl_variable" href="classTQRF__Params.html#ac3b6eb427a9c6eaddca13033f340df31">bag_feat</a>, <a class="code hl_variable" href="classTQRF__Params.html#ae33e6ef16f4a0bb20cfef18881f4e70e">qpoints_per_split</a>, <a class="code hl_variable" href="classTQRF__Params.html#a6bb9eb0d28f9fdd12782263a01dbb699">nvals_for_categorial</a>, <a class="code hl_variable" href="classTQRF__Params.html#a4f8b97ddd7b9bba195ff9df382fff60f">categorial_str</a>,</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>        <a class="code hl_variable" href="classTQRF__Params.html#ad471a7160d94591a974004ab4994a73c">categorial_tags</a>, <a class="code hl_variable" href="classTQRF__Params.html#a983d1578bd24ac1cba3ee337ace5c4fe">missing_val</a>, <a class="code hl_variable" href="classTQRF__Params.html#aaa695d7dbc68621e928bf8162ed1ad53">missing_method_str</a>, <a class="code hl_variable" href="classTQRF__Params.html#afeaf78c3248907a2546a3313cf3992a8">missing_method</a>, <a class="code hl_variable" href="classTQRF__Params.html#aae6aa516c5cff8f5f20b1e0ab9617e03">test_for_inf</a>, <a class="code hl_variable" href="classTQRF__Params.html#a71c06f4363267b2100a4c0201abbc6b1">test_for_missing</a>, <a class="code hl_variable" href="classTQRF__Params.html#adb88e9f97856d87ee06e0e767cfb0f97">only_this_categ</a>, <a class="code hl_variable" href="classTQRF__Params.html#a621d9af61338285012cccc1fb62800b3">predict_from_slice</a>, <a class="code hl_variable" href="classTQRF__Params.html#a7f94cb36c5ff96af2b36cc95d26cb9ac">predict_to_slice</a>,</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>        predict_sum_times, <a class="code hl_variable" href="classTQRF__Params.html#a4fdfcde32dec21be5559fbbc89eaae5a">case_wgt</a>, <a class="code hl_variable" href="classTQRF__Params.html#a20027d7514fad877717d8bf12c1131cf">nrounds</a>, <a class="code hl_variable" href="classTQRF__Params.html#aaa3638e64e196a66e5abe9991b59839c">min_p</a>, <a class="code hl_variable" href="classTQRF__Params.html#a8cac6996a5d79c958769af76d30e7415">max_p</a>, <a class="code hl_variable" href="classTQRF__Params.html#a7200bfd81847e582bcde49c60a083573">alpha</a>, <a class="code hl_variable" href="classTQRF__Params.html#abca76d54d19109dc31c2db42d5bbda8e">wgts_pow</a>, <a class="code hl_variable" href="classTQRF__Params.html#a46234a46bc1ba061c628643c387aafe4">tuning_size</a>, <a class="code hl_variable" href="classTQRF__Params.html#a970c99528ab261e6e0246377c64bde1b">tune_max_depth</a>, <a class="code hl_variable" href="classTQRF__Params.html#a3bc3c3127b45faa5288bcdd76b7b9d78">tune_min_node_size</a>, <a class="code hl_variable" href="classTQRF__Params.html#ab54b42ad15d6356aaf361c293126448a">gd_rate</a>, <a class="code hl_variable" href="classTQRF__Params.html#a4779f9d49bc3f8e12f9e824e155f66bc">gd_batch</a>, <a class="code hl_variable" href="classTQRF__Params.html#a0c5fd41d70262de551768498cc112d1b">gd_momentum</a>,</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        <a class="code hl_variable" href="classTQRF__Params.html#a05dfa132258037ccb2b12c929c676a2a">gd_lambda</a>, <a class="code hl_variable" href="classTQRF__Params.html#a58bb3d281aaf4d28164e7db7cdad805a">gd_epochs</a>, <a class="code hl_variable" href="classTQRF__Params.html#adfa1d65e9cbd0d7fe7466c3630f98edd">verbosity</a>, <a class="code hl_variable" href="classTQRF__Params.html#a95910b8404a39b76787080fc39b386c8">ids_to_print</a>, <a class="code hl_variable" href="classTQRF__Params.html#a48bc8edaa901dc6e8f65d3a85349c555">debug</a>)</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="comment">//ADD_SERIALIZATION_FUNCS(init_string, samples_time_unit, time_slice_unit, time_slice_size, time_slices, max_q, max_q_sample, tree_type, ntrees, max_depth, min_node_last_slice, min_node, )</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>};</div>
</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span> </div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span><span class="comment">//==========================================================================================================================</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="comment">// contains all the needed data for training including all quantizations (features, time slices) that are needed</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span><span class="comment">//==========================================================================================================================</span></div>
<div class="foldopen" id="foldopen00182" data-start="{" data-end="};">
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno"><a class="line" href="classQuantized__Feat.html">  182</a></span><span class="keyword">class </span><a class="code hl_class" href="classQuantized__Feat.html">Quantized_Feat</a> : <span class="keyword">public</span> <a class="code hl_class" href="classSerializableObject.html">SerializableObject</a> {</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    vector&lt;vector&lt;short&gt;&gt; qx;       </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno"><a class="line" href="classQuantized__Feat.html#a0561b36fda447892c8a8e025d5033f0b">  186</a></span>    vector&lt;vector&lt;float&gt;&gt; <a class="code hl_variable" href="classQuantized__Feat.html#a0561b36fda447892c8a8e025d5033f0b">q_to_val</a>; </div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno"><a class="line" href="classQuantized__Feat.html#a6acc068db0b8f23852721cb39b923cb4">  188</a></span>    <span class="keyword">const</span> <a class="code hl_class" href="classMedFeatures.html">MedFeatures</a> *<a class="code hl_variable" href="classQuantized__Feat.html#a6acc068db0b8f23852721cb39b923cb4">orig_medf</a>;              </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno"><a class="line" href="classQuantized__Feat.html#a019b601ad76cbbfc4e29baa71fbe02e3">  190</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classQuantized__Feat.html#a019b601ad76cbbfc4e29baa71fbe02e3">nfeat</a> = 0;                  </div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno"><a class="line" href="classQuantized__Feat.html#a5668b006df57579a9fa0b4ca061be346">  191</a></span>    vector&lt;string&gt; <a class="code hl_variable" href="classQuantized__Feat.html#a5668b006df57579a9fa0b4ca061be346">feature_names</a>;   </div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno"><a class="line" href="classQuantized__Feat.html#ab0d2c924d392333c231c49966a41f015">  192</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classQuantized__Feat.html#ab0d2c924d392333c231c49966a41f015">ncateg</a> = 0;                 </div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno"><a class="line" href="classQuantized__Feat.html#aae3d3d8ac2e23e99a5a24fe4ae20c621">  193</a></span>    vector&lt;const vector&lt;float&gt; *&gt; <a class="code hl_variable" href="classQuantized__Feat.html#aae3d3d8ac2e23e99a5a24fe4ae20c621">orig_data</a>; </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno"><a class="line" href="classQuantized__Feat.html#a6b049082bf4133bc229b3e8f2a94a660">  194</a></span>    vector&lt;string&gt; <a class="code hl_variable" href="classQuantized__Feat.html#a6b049082bf4133bc229b3e8f2a94a660">feat_names</a>;         </div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno"><a class="line" href="classQuantized__Feat.html#ab452095b1771189b65b8af54511daf41">  195</a></span>    vector&lt;float&gt; <a class="code hl_variable" href="classQuantized__Feat.html#ab452095b1771189b65b8af54511daf41">y</a>;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    vector&lt;int&gt; y_i;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    vector&lt;int&gt; last_time_slice;    </div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno"><a class="line" href="classQuantized__Feat.html#acd0bee412d16375bc743e58a32dfaea2">  198</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classQuantized__Feat.html#acd0bee412d16375bc743e58a32dfaea2">n_time_slices</a>;              </div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno"><a class="line" href="classQuantized__Feat.html#ace8360badeaa09935bffa836088d2149">  199</a></span>    vector&lt;int&gt; <a class="code hl_variable" href="classQuantized__Feat.html#ace8360badeaa09935bffa836088d2149">slice_counts</a>[2];    </div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno"><a class="line" href="classQuantized__Feat.html#af44da7a952158bbdf297b3e50dbde604">  201</a></span>    vector&lt;vector&lt;int&gt;&gt; <a class="code hl_variable" href="classQuantized__Feat.html#af44da7a952158bbdf297b3e50dbde604">lists</a>;      </div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span> </div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno"><a class="line" href="classQuantized__Feat.html#aeb18cc17e97364e82c3efc2b968a0f02">  205</a></span>    vector&lt;int&gt; <a class="code hl_variable" href="classQuantized__Feat.html#aeb18cc17e97364e82c3efc2b968a0f02">is_categorial_feat</a>;</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span> </div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <span class="comment">// next are pre computed for bagging purposes</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    vector&lt;vector&lt;vector&lt;int&gt;&gt;&gt; time_categ_pids;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    vector&lt;vector&lt;vector&lt;int&gt;&gt;&gt; time_categ_idx;</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    vector&lt;vector&lt;int&gt;&gt; categ_pids;</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    vector&lt;vector&lt;int&gt;&gt; categ_idx;</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    unordered_map&lt;int, vector&lt;vector&lt;vector&lt;int&gt;&gt;&gt;&gt; pid2time_categ_idx;</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span> </div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <span class="comment">// next are helper arrays used when doind adaboost</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    vector&lt;float&gt; wgts;</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    vector&lt;float&gt; orig_wgts;</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    vector&lt;float&gt; probs;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    vector&lt;float&gt; w_to_sum;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    vector&lt;vector&lt;float&gt;&gt; sum_over_trees;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="keywordtype">float</span> alpha0;</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span> </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <span class="keywordtype">int</span> init(<span class="keyword">const</span> <a class="code hl_class" href="classMedFeatures.html">MedFeatures</a> &amp;medf, <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params);</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span> </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <a class="code hl_class" href="classQuantized__Feat.html">~Quantized_Feat</a>() {  pid2time_categ_idx.clear(); }</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="keywordtype">int</span> quantize_feat(<span class="keywordtype">int</span> i_feat, <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params);</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="keywordtype">int</span> init_time_slices(<span class="keyword">const</span> <a class="code hl_class" href="classMedFeatures.html">MedFeatures</a> &amp;medf, <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params);</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="keywordtype">int</span> init_pre_bagging(<a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params);</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <span class="keywordtype">int</span> init_lists(<span class="keyword">const</span> <a class="code hl_class" href="classMedFeatures.html">MedFeatures</a> &amp;medf, <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params);</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span> </div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>};</div>
</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span> </div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span> </div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span><span class="comment">//==========================================================================================================================</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span><span class="comment">// a basic node class : currently a single node type serves all trees .... could be changed to </span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span><span class="comment">//==========================================================================================================================</span></div>
<div class="foldopen" id="foldopen00238" data-start="{" data-end="};">
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno"><a class="line" href="classTQRF__Node.html">  238</a></span><span class="keyword">class </span><a class="code hl_class" href="classTQRF__Node.html">TQRF_Node</a> : <span class="keyword">public</span> <a class="code hl_class" href="classSerializableObject.html">SerializableObject</a> {</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    <span class="comment">// Next are must for every node and are ALWAYS serialized</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <span class="keywordtype">int</span> node_idx = -1;          </div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno"><a class="line" href="classTQRF__Node.html#a9ad7eb2e8ce650cc00fb89fa9d88c26f">  242</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Node.html#a9ad7eb2e8ce650cc00fb89fa9d88c26f">i_feat</a> = -1;                </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno"><a class="line" href="classTQRF__Node.html#aa5a66a556fd4b0cd8caf02e696e2324a">  243</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="classTQRF__Node.html#aa5a66a556fd4b0cd8caf02e696e2324a">bound</a> = (float)-1e10;     </div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno"><a class="line" href="classTQRF__Node.html#a6793453c3812370023442eb583bc68be">  244</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Node.html#a6793453c3812370023442eb583bc68be">is_terminal</a> = 0;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    <span class="keywordtype">int</span> left_node = -1;</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    <span class="keywordtype">int</span> right_node = -1;</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <span class="keywordtype">int</span> depth = -1;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    <span class="keywordtype">int</span> missing_direction = TQRF_MISSING_DIRECTION_RAND_EACH_SAMPLE;    </div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    <span class="comment">// next are needed while learning , and if asked to keep samples in nodes - we keep them always for now</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno"><a class="line" href="classTQRF__Node.html#a5f9bb4ab476c4ebe7f94539c43c6eba6">  251</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Node.html#a5f9bb4ab476c4ebe7f94539c43c6eba6">from_idx</a> = -1;      </div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno"><a class="line" href="classTQRF__Node.html#a86f67616da9ff508042f491c8593e711">  252</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Node.html#a86f67616da9ff508042f491c8593e711">to_idx</a> = -1;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    <span class="keywordtype">int</span> size() { <span class="keywordflow">return</span> <a class="code hl_variable" href="classTQRF__Node.html#a86f67616da9ff508042f491c8593e711">to_idx</a>-<a class="code hl_variable" href="classTQRF__Node.html#a5f9bb4ab476c4ebe7f94539c43c6eba6">from_idx</a>+1; }</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span> </div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    <span class="keywordtype">int</span> node_serialization_mask = 0x1; </div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno"><a class="line" href="classTQRF__Node.html#aaf2f81a4c8dba5a9d7c190d1e179a172">  256</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="classTQRF__Node.html#aaf2f81a4c8dba5a9d7c190d1e179a172">beta_idx</a> = -1;</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span> </div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    <span class="comment">// categorical : mask |= 0x1 , time_categ_count[t][c] : how many counts in this node are in timeslice t and category c</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    vector&lt;vector&lt;float&gt;&gt; time_categ_count;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span> </div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    <span class="comment">// regression : mask |= 0x2</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="comment">//float pred_mean = (float)-1e10;</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    <span class="comment">//float pred_std = (float)1;</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span> </div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    <span class="comment">// quantiles: mask |= 0x4</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    <span class="comment">//vector&lt;pair&lt;float, float&gt;&gt; quantiles;</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span> </div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <span class="comment">// following are never serialized - only for learn time</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <span class="keywordtype">int</span> state = TQRF_Node_State_Initiated; <span class="comment">// 0 - created 1 - in process 2 - done with</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span> </div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    ADD_CLASS_NAME(<a class="code hl_class" href="classTQRF__Node.html">TQRF_Node</a>)</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <a class="code hl_define" href="SerializableObject_8h.html#a152224225f53c73826c3ad5e3b08c4db">ADD_SERIALIZATION_FUNCS</a>(node_idx, <a class="code hl_variable" href="classTQRF__Node.html#a9ad7eb2e8ce650cc00fb89fa9d88c26f">i_feat</a>, <a class="code hl_variable" href="classTQRF__Node.html#aa5a66a556fd4b0cd8caf02e696e2324a">bound</a>, <a class="code hl_variable" href="classTQRF__Node.html#a6793453c3812370023442eb583bc68be">is_terminal</a>, left_node, right_node, depth, missing_direction, <a class="code hl_variable" href="classTQRF__Node.html#a5f9bb4ab476c4ebe7f94539c43c6eba6">from_idx</a>, <a class="code hl_variable" href="classTQRF__Node.html#a86f67616da9ff508042f491c8593e711">to_idx</a>,</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        node_serialization_mask, <a class="code hl_variable" href="classTQRF__Node.html#aaf2f81a4c8dba5a9d7c190d1e179a172">beta_idx</a>, time_categ_count, state)</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>};</div>
</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span> </div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span><span class="comment">//----------------------------------------------------------------------------------------------------------------------</span></div>
<div class="foldopen" id="foldopen00278" data-start="{" data-end="};">
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno"><a class="line" href="classTQRF__Node__Categorial.html">  278</a></span><span class="keyword">class </span><a class="code hl_class" href="classTQRF__Node__Categorial.html">TQRF_Node_Categorial</a> : <a class="code hl_class" href="classTQRF__Node.html">TQRF_Node</a> {</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span> </div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>};</div>
</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span> </div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span><span class="comment">//==========================================================================================================================</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span><span class="comment">// Split_Stat contains the quantized data structures used in order to make a split decision</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span><span class="comment">// Basically : </span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span><span class="comment">// for categorial outcomes:</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span><span class="comment">// for each time slot, for each quanta -&gt; counts for each category</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span><span class="comment">// for regression outcomes:</span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span><span class="comment">// for each time slot, for each quanta -&gt; nvals and sum (??)</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span><span class="comment">//==========================================================================================================================</span></div>
<div class="foldopen" id="foldopen00290" data-start="{" data-end="};">
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno"><a class="line" href="classTQRF__Split__Stat.html">  290</a></span><span class="keyword">class </span><a class="code hl_class" href="classTQRF__Split__Stat.html">TQRF_Split_Stat</a> {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span> </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    <span class="comment">// categorial case</span></div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    <span class="comment">// vector&lt;vector&lt;vector&lt;int&gt;&gt;&gt; counts; /// counts[t][q][c] = how many counts were in time slot t, quanta q, and category c.</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span> </div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    <span class="comment">// suggestion (categorial case):</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>    <span class="comment">// TQRF_Split will get a node with indexes, and then:</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    <span class="comment">// (1) Go over all the samples in the node and for each one add +1 to the relevant counts[t][q][c]</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>    <span class="comment">// (2) Will enable going over counts and choose the best q for splitting given some params (score type, minimal size, minimal change, etc)</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    <span class="comment">//</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    <span class="comment">// This may allow a very elegant code for a tree in which all the hard stuff is implemented inside.</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>    <span class="comment">// </span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <span class="comment">// issues to think about:</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    <span class="comment">// parallelism over nodes</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    <span class="comment">// memory allocation - we want it single time</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>    <span class="comment">// tricks for efficient calculation of counts and the scores</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span> </div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classTQRF__Split__Stat.html">~TQRF_Split_Stat</a>() {};</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span> </div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    <span class="keyword">virtual</span> <span class="keywordtype">int</span> init(<a class="code hl_class" href="classQuantized__Feat.html">Quantized_Feat</a> &amp;qf, <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params) { <span class="keywordflow">return</span> 0;};</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    <span class="keyword">virtual</span> <span class="keywordtype">int</span> prep_histograms(<span class="keywordtype">int</span> i_feat, <a class="code hl_class" href="classTQRF__Node.html">TQRF_Node</a> &amp;node, vector&lt;int&gt; &amp;indexes, <a class="code hl_class" href="classQuantized__Feat.html">Quantized_Feat</a> &amp;qf, <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params) { <span class="keywordflow">return</span> 0; };</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <span class="keyword">virtual</span> <span class="keywordtype">int</span> get_best_split(<a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params, <span class="keywordtype">int</span> &amp;best_q, <span class="keywordtype">double</span> &amp;best_score) { <span class="keywordflow">return</span> 0; };</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <span class="keywordtype">int</span> get_q_test_points(<span class="keywordtype">int</span> feat_max_q, <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params, vector&lt;int&gt; &amp;qpoints);</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span> </div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span> </div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="comment">// helper vector for qpoints</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    vector&lt;int&gt; qpoints;</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    <span class="comment">// debug</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> print_histograms() { <span class="keywordflow">return</span>; };</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span> </div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    <span class="comment">// the actual number of q values used (full or after qpoints squeeze if it was done)</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    <span class="keywordtype">int</span> counts_q = 0;</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    <span class="keyword">static</span> <a class="code hl_class" href="classTQRF__Split__Stat.html">TQRF_Split_Stat</a> *make_tqrf_split_stat(<span class="keywordtype">int</span> tree_type);</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>};</div>
</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span> </div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span><span class="comment">//==========================================================================================================================</span></div>
<div class="foldopen" id="foldopen00331" data-start="{" data-end="};">
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno"><a class="line" href="classTQRF__Split__Categorial.html">  331</a></span><span class="keyword">class </span><a class="code hl_class" href="classTQRF__Split__Categorial.html">TQRF_Split_Categorial</a> : <span class="keyword">public</span> <a class="code hl_class" href="classTQRF__Split__Stat.html">TQRF_Split_Stat</a> {</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <span class="comment">// categorial case : counts[t][q][c] : time_slice , quanta, category : number of elements</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    vector&lt;vector&lt;vector&lt;int&gt;&gt;&gt; counts;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span> </div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <span class="comment">// sums[t][c] = number of samples in time slice t and category c summed on all q vals</span></div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <span class="comment">// this is needed for a more efficient computation of scores later</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    vector&lt;vector&lt;int&gt;&gt; sums;</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span> </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    <span class="comment">// sums_t[t] = number of samples in time slice t (needed later for more efficient calculations)</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    vector&lt;int&gt; sums_t;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    <span class="keywordtype">int</span> total_sum = 0; <span class="comment">// sum of the sum_t vector</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span> </div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    <a class="code hl_class" href="classTQRF__Split__Categorial.html">~TQRF_Split_Categorial</a>() {};</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span> </div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <span class="comment">// next are for easy access</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <span class="keywordtype">int</span> ncateg = 0;</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    <span class="keywordtype">int</span> nslices = 0;</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    <span class="keywordtype">int</span> maxq = 0; <span class="comment">// overall</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span> </div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    <span class="comment">// API&#39;s</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    <span class="keywordtype">int</span> init(<a class="code hl_class" href="classQuantized__Feat.html">Quantized_Feat</a> &amp;qf, <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params);</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <span class="keywordtype">int</span> prep_histograms(<span class="keywordtype">int</span> i_feat, <a class="code hl_class" href="classTQRF__Node.html">TQRF_Node</a> &amp;node, vector&lt;int&gt; &amp;indexes, <a class="code hl_class" href="classQuantized__Feat.html">Quantized_Feat</a> &amp;qf, <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params);</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <span class="comment">//virtual int get_best_split(TQRF_Params &amp;params, int &amp;best_q, float &amp;best_score);</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span> </div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <span class="keywordtype">void</span> print_histograms();</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>};</div>
</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span> </div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span> </div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span><span class="comment">//==========================================================================================================================</span></div>
<div class="foldopen" id="foldopen00362" data-start="{" data-end="};">
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno"><a class="line" href="classTQRF__Split__Likelihood.html">  362</a></span><span class="keyword">class </span><a class="code hl_class" href="classTQRF__Split__Likelihood.html">TQRF_Split_Likelihood</a> : <span class="keyword">public</span> <a class="code hl_class" href="classTQRF__Split__Categorial.html">TQRF_Split_Categorial</a> {</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    <span class="keywordtype">int</span> get_best_split(<a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params, <span class="keywordtype">int</span> &amp;best_q, <span class="keywordtype">double</span> &amp;best_score);</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>};</div>
</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span> </div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span><span class="comment">//==========================================================================================================================</span></div>
<div class="foldopen" id="foldopen00369" data-start="{" data-end="};">
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno"><a class="line" href="classTQRF__Split__Entropy.html">  369</a></span><span class="keyword">class </span><a class="code hl_class" href="classTQRF__Split__Entropy.html">TQRF_Split_Entropy</a> : <span class="keyword">public</span> <a class="code hl_class" href="classTQRF__Split__Categorial.html">TQRF_Split_Categorial</a> {</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    <span class="keywordtype">int</span> get_best_split(<a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params, <span class="keywordtype">int</span> &amp;best_q, <span class="keywordtype">double</span> &amp;best_score);</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>};</div>
</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span> </div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span><span class="comment">//==========================================================================================================================</span></div>
<div class="foldopen" id="foldopen00375" data-start="{" data-end="};">
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno"><a class="line" href="classTQRF__Split__Weighted__Categorial.html">  375</a></span><span class="keyword">class </span><a class="code hl_class" href="classTQRF__Split__Weighted__Categorial.html">TQRF_Split_Weighted_Categorial</a> : <span class="keyword">public</span> <a class="code hl_class" href="classTQRF__Split__Stat.html">TQRF_Split_Stat</a> {</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    <span class="comment">// categorial case : counts[t][q][c] : time_slice , quanta, category : number of elements</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    vector&lt;vector&lt;vector&lt;float&gt;&gt;&gt; counts;</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <span class="comment">// sums[t][c] = number of samples in time slice t and category c summed on all q vals</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <span class="comment">// this is needed for a more efficient computation of scores later</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    vector&lt;vector&lt;float&gt;&gt; sums;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span> </div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <span class="comment">// sums_t[t] = number of samples in time slice t (needed later for more efficient calculations)</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    vector&lt;float&gt; sums_t;</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span> </div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <span class="keywordtype">float</span> total_sum = 0; <span class="comment">// sum of the sum_t vector</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <a class="code hl_class" href="classTQRF__Split__Weighted__Categorial.html">~TQRF_Split_Weighted_Categorial</a>() {};</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span> </div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <span class="comment">// next are for easy access</span></div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <span class="keywordtype">int</span> ncateg = 0;</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <span class="keywordtype">int</span> nslices = 0;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    <span class="keywordtype">int</span> maxq = 0; <span class="comment">// overall</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span> </div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                  <span class="comment">// API&#39;s</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <span class="keywordtype">int</span> init(<a class="code hl_class" href="classQuantized__Feat.html">Quantized_Feat</a> &amp;qf, <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params);</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    <span class="keywordtype">int</span> prep_histograms(<span class="keywordtype">int</span> i_feat, <a class="code hl_class" href="classTQRF__Node.html">TQRF_Node</a> &amp;node, vector&lt;int&gt; &amp;indexes, <a class="code hl_class" href="classQuantized__Feat.html">Quantized_Feat</a> &amp;qf, <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params);</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    <span class="comment">//virtual int get_best_split(TQRF_Params &amp;params, int &amp;best_q, float &amp;best_score);</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span> </div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    <span class="keywordtype">void</span> print_histograms();</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>};</div>
</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span> </div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span><span class="comment">//==========================================================================================================================</span></div>
<div class="foldopen" id="foldopen00405" data-start="{" data-end="};">
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno"><a class="line" href="classTQRF__Split__Weighted__Likelihood.html">  405</a></span><span class="keyword">class </span><a class="code hl_class" href="classTQRF__Split__Weighted__Likelihood.html">TQRF_Split_Weighted_Likelihood</a> : <span class="keyword">public</span> <a class="code hl_class" href="classTQRF__Split__Weighted__Categorial.html">TQRF_Split_Weighted_Categorial</a> {</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    <span class="keywordtype">int</span> get_best_split(<a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params, <span class="keywordtype">int</span> &amp;best_q, <span class="keywordtype">double</span> &amp;best_score);</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>};</div>
</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span> </div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span><span class="comment">//==========================================================================================================================</span></div>
<div class="foldopen" id="foldopen00411" data-start="{" data-end="};">
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno"><a class="line" href="classTQRF__Split__Dev.html">  411</a></span><span class="keyword">class </span><a class="code hl_class" href="classTQRF__Split__Dev.html">TQRF_Split_Dev</a> : <span class="keyword">public</span> <a class="code hl_class" href="classTQRF__Split__Categorial.html">TQRF_Split_Categorial</a> {</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    <a class="code hl_class" href="classTQRF__Split__Dev.html">~TQRF_Split_Dev</a>() {};</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <span class="keywordtype">int</span> get_best_split(<a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params, <span class="keywordtype">int</span> &amp;best_q, <span class="keywordtype">double</span> &amp;best_score) { <span class="keywordflow">return</span> 0; };</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>};</div>
</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span> </div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span><span class="comment">//==========================================================================================================================</span></div>
<div class="foldopen" id="foldopen00418" data-start="{" data-end="};">
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno"><a class="line" href="classTQRF__Split__Regression.html">  418</a></span><span class="keyword">class </span><a class="code hl_class" href="classTQRF__Split__Regression.html">TQRF_Split_Regression</a> : <span class="keyword">public</span> <a class="code hl_class" href="classTQRF__Split__Stat.html">TQRF_Split_Stat</a> {</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    <span class="comment">// categorial case</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    vector&lt;vector&lt;vector&lt;pair&lt;float,int&gt;&gt;&gt;&gt; sum_num;</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span> </div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    <span class="keywordtype">int</span> init(<a class="code hl_class" href="classQuantized__Feat.html">Quantized_Feat</a> &amp;qf, <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params) { <span class="keywordflow">return</span> 0; };</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    <span class="keywordtype">int</span> prep_histograms(<span class="keywordtype">int</span> i_feat, <a class="code hl_class" href="classTQRF__Node.html">TQRF_Node</a> &amp;node, vector&lt;int&gt; &amp;indexes, <a class="code hl_class" href="classQuantized__Feat.html">Quantized_Feat</a> &amp;qf, <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params) { <span class="keywordflow">return</span> 0; };</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    <span class="keywordtype">int</span> get_best_split(<a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params, <span class="keywordtype">int</span> &amp;best_q, <span class="keywordtype">double</span> &amp;best_score) { <span class="keywordflow">return</span> 0; };</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>};</div>
</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span> </div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span><span class="comment">//==========================================================================================================================</span></div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span><span class="comment">// A tree base class</span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span><span class="comment">//==========================================================================================================================</span></div>
<div class="foldopen" id="foldopen00431" data-start="{" data-end="};">
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno"><a class="line" href="classTQRF__Tree.html">  431</a></span><span class="keyword">class </span><a class="code hl_class" href="classTQRF__Tree.html">TQRF_Tree</a> : <span class="keyword">public</span> <a class="code hl_class" href="classSerializableObject.html">SerializableObject</a> {</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span> </div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    <span class="comment">// next are needed also for predictions, and hence should be serialized</span></div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <span class="keywordtype">int</span> tree_type;</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    <span class="keywordtype">int</span> id;                     <span class="comment">// for debug prints - a specific tree identifier</span></div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>    <span class="keywordtype">int</span> keep_indexes = 0;</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>    vector&lt;int&gt; indexes;        <span class="comment">// indexes[i] = an index of a sample in the given Quantized_Feat</span></div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    vector&lt;TQRF_Node&gt; nodes;    <span class="comment">// this node supports currently all possible nodes for all trees... to save ugly templated code</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span> </div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    <span class="comment">// next variables are no-need-to-serialize helpers</span></div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>    vector&lt;int&gt; i_feats;        <span class="comment">// feature indexes to be used in this tree (they can be bagged as well)</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span> </div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    <a class="code hl_class" href="classTQRF__Tree.html">TQRF_Tree</a>() {};</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span> </div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>    <span class="keywordtype">void</span> init(<a class="code hl_class" href="classQuantized__Feat.html">Quantized_Feat</a> &amp;qfeat, <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params) { _qfeat = &amp;qfeat; _params = &amp;params; }</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    <span class="keywordtype">int</span> Train(<a class="code hl_class" href="classQuantized__Feat.html">Quantized_Feat</a> &amp;qfeat, <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> &amp;params) { init(qfeat, params); <span class="keywordflow">return</span> Train(); }</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span> </div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    <span class="keyword">const</span> <a class="code hl_class" href="classTQRF__Node.html">TQRF_Node</a> *Get_Node_for_predict(<a class="code hl_class" href="classMedMat.html">MedMat&lt;float&gt;</a> &amp;x, <span class="keywordtype">int</span> i_row, <span class="keywordtype">float</span> missing_val, <span class="keywordtype">int</span> &amp;beta_idx) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    <a class="code hl_class" href="classTQRF__Node.html">TQRF_Node</a> *Get_Node(<a class="code hl_class" href="classMedMat.html">MedMat&lt;float&gt;</a> &amp;x, <span class="keywordtype">int</span> i_row, <span class="keywordtype">float</span> missing_val);</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span> </div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>    <span class="keywordtype">int</span> Train();</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span> </div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>    <span class="comment">// helpers inside Train:</span></div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span> </div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    <span class="comment">// get indexes vector ready</span></div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    <span class="keywordtype">int</span> get_bagged_indexes();</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span> </div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>    <span class="comment">// initialize root node</span></div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    <span class="keywordtype">int</span> init_root_node();</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span> </div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    <span class="comment">// get the next node to work on</span></div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    <span class="keywordtype">int</span> get_next_node(<span class="keywordtype">int</span> curr_node);</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span> </div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    <span class="comment">// get the list of features to work on</span></div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>    <span class="keywordtype">int</span> get_feats_to_test(vector&lt;int&gt; &amp;feats_to_test);</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span> </div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    <span class="comment">// init the vector for splits: to nfeat, right sizes, and right type + a free mem api</span></div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    <span class="keywordtype">int</span> init_split_stats(vector&lt;TQRF_Split_Stat *&gt; &amp;tqs);</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    <span class="keywordtype">void</span> free_split_stats(vector&lt;TQRF_Split_Stat *&gt; &amp;tqs);</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span> </div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    <span class="comment">// close work on current node and make the split if needed</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <span class="keywordtype">int</span> node_splitter(<span class="keywordtype">int</span> i_curr_node, <span class="keywordtype">int</span> i_best, <span class="keywordtype">int</span> q_best);</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span> </div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    <span class="comment">// once a node is finalized : prepares its internal counts (with or without taking weights into account)</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>    <span class="keywordtype">float</span> prep_node_counts(<span class="keywordtype">int</span> i_curr_node, <span class="keywordtype">int</span> use_wgts_flag);</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span> </div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span> </div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>    <span class="keywordtype">void</span> pre_serialization() { <span class="keywordflow">if</span> (keep_indexes == 0) indexes.clear(); }</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    ADD_CLASS_NAME(<a class="code hl_class" href="classTQRF__Tree.html">TQRF_Tree</a>)</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    <a class="code hl_define" href="SerializableObject_8h.html#a152224225f53c73826c3ad5e3b08c4db">ADD_SERIALIZATION_FUNCS</a>(tree_type, <span class="keywordtype">id</span>, keep_indexes, indexes, nodes)</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span> </div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    <a class="code hl_class" href="classQuantized__Feat.html">Quantized_Feat</a> *_qfeat;</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> *_params;</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span> </div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    <span class="comment">// next used to manage nodes while building</span></div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>    <span class="keywordtype">int</span> n_nodes_in_process = 0;</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>    <span class="keywordtype">int</span> i_last_node_in_process = 0;</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span> </div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>    <span class="keywordtype">int</span> bag_chooser(<span class="keywordtype">float</span> p, <span class="keywordtype">int</span> _t, <span class="keywordtype">int</span> _c, <span class="comment">/* OUT APPEND */</span> vector&lt;int&gt; &amp;_indexes);</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>    <span class="keywordtype">int</span> bag_chooser(<span class="keywordtype">int</span> choose_with_repeats, <span class="keywordtype">int</span> single_sample_per_id, <span class="keywordtype">float</span> p, vector&lt;int&gt; &amp;pids, vector&lt;int&gt; &amp;idx, unordered_map&lt;<span class="keywordtype">int</span>, vector&lt;int&gt;&gt; &amp;pid2idx, <span class="comment">/* OUT APPEND */</span> vector&lt;int&gt; &amp;_indexes);</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span> </div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span> </div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>};</div>
</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span> </div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span> </div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span> </div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span><span class="comment">//==========================================================================================================================</span></div>
<div class="foldopen" id="foldopen00500" data-start="{" data-end="};">
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno"><a class="line" href="classTQRF__Forest.html">  500</a></span><span class="keyword">class </span><a class="code hl_class" href="classTQRF__Forest.html">TQRF_Forest</a> : <span class="keyword">public</span> <a class="code hl_class" href="classSerializableObject.html">SerializableObject</a> {</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span> </div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span> </div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    <a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a> params;</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    vector&lt;TQRF_Tree&gt; trees;</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>    vector&lt;float&gt; alphas;</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>    vector&lt;float&gt; betas;</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span> </div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno"><a class="line" href="classTQRF__Forest.html#a99764150ffa046c6a5dc0c99e8602658">  509</a></span>    <span class="keywordtype">int</span> <a class="code hl_function" href="classTQRF__Forest.html#a99764150ffa046c6a5dc0c99e8602658">init</a>(map&lt;string, string&gt;&amp; map) { <span class="keywordflow">return</span> params.init(map); }</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    <span class="keywordtype">int</span> init_from_string(<span class="keywordtype">string</span> init_string) { params.init_string = init_string; <span class="keywordflow">return</span> <a class="code hl_function" href="classSerializableObject.html#a21abb36f80fd484aa2e620432087ea05">SerializableObject::init_from_string</a>(init_string); }</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span> </div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>    <span class="keywordtype">void</span> init_tables(<a class="code hl_class" href="classQuantized__Feat.html">Quantized_Feat</a> &amp;qfeat);</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span> </div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="classTQRF__Forest.html#a341060e04941d559bab6526b531a1ac9">Train</a>(<span class="keyword">const</span> <a class="code hl_class" href="classMedFeatures.html">MedFeatures</a> &amp;medf, <span class="keyword">const</span> <a class="code hl_class" href="classMedMat.html">MedMat&lt;float&gt;</a> &amp;Y);</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="classTQRF__Forest.html#a341060e04941d559bab6526b531a1ac9">Train</a>(<span class="keyword">const</span> <a class="code hl_class" href="classMedFeatures.html">MedFeatures</a> &amp;medf) { <a class="code hl_class" href="classMedMat.html">MedMat&lt;float&gt;</a> dummy; <span class="keywordflow">return</span> <a class="code hl_function" href="classTQRF__Forest.html#a341060e04941d559bab6526b531a1ac9">Train</a>(medf, dummy); }</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span> </div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    <span class="keywordtype">int</span> Train_AdaBoost(<span class="keyword">const</span> <a class="code hl_class" href="classMedFeatures.html">MedFeatures</a> &amp;medf, <span class="keyword">const</span> <a class="code hl_class" href="classMedMat.html">MedMat&lt;float&gt;</a> &amp;Y);</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    <span class="keywordtype">int</span> update_counts(vector&lt;vector&lt;float&gt;&gt; &amp;sample_counts, <a class="code hl_class" href="classMedMat.html">MedMat&lt;float&gt;</a> &amp;x, <a class="code hl_class" href="classQuantized__Feat.html">Quantized_Feat</a> &amp;qf, <span class="keywordtype">int</span> zero_counts, <span class="keywordtype">int</span> round);</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span> </div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="classTQRF__Forest.html#a8ced20e410d09ae54eac4bea518a74d7">tune_betas</a>(<a class="code hl_class" href="classQuantized__Feat.html">Quantized_Feat</a> &amp;qfeat);</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    <span class="keywordtype">int</span> solve_betas_gd(<a class="code hl_class" href="classMedMat.html">MedMat&lt;float&gt;</a>&amp; C, <a class="code hl_class" href="classMedMat.html">MedMat&lt;float&gt;</a>&amp; S, vector&lt;float&gt; &amp;b);</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span> </div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="classTQRF__Forest.html#aeb9144f42f4d606705bece2d8a06035f">Predict</a>(<a class="code hl_class" href="classMedMat.html">MedMat&lt;float&gt;</a> &amp;x, vector&lt;float&gt; &amp;preds) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <span class="keywordtype">int</span> n_preds_per_sample() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span> </div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    <span class="keywordtype">int</span> Predict_Categorial(<a class="code hl_class" href="classMedMat.html">MedMat&lt;float&gt;</a> &amp;x, vector&lt;float&gt; &amp;preds) <span class="keyword">const</span>; <span class="comment">// currently like this... with time should consider inheritance to do it right.</span></div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span> </div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <span class="comment">// print average bagging reports</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    <span class="keywordtype">void</span> print_average_bagging(<span class="keywordtype">int</span> _n_time_slices, <span class="keywordtype">int</span> _n_categ);</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span> </div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    <span class="comment">// simple helpers</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> get_tree_type(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;str);</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> get_missing_value_method(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;str);</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span> </div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    ADD_CLASS_NAME(<a class="code hl_class" href="classTQRF__Forest.html">TQRF_Forest</a>)</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>    <a class="code hl_define" href="SerializableObject_8h.html#a152224225f53c73826c3ad5e3b08c4db">ADD_SERIALIZATION_FUNCS</a>(params, trees, alphas, betas)</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span> </div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span> </div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>};</div>
</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span> </div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span><span class="comment">// helper struct</span></div>
<div class="foldopen" id="foldopen00551" data-start="{" data-end="};">
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno"><a class="line" href="structTreeNodeIdx.html">  551</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structTreeNodeIdx.html">TreeNodeIdx</a> {</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>    <span class="keywordtype">int</span> i_tree = -1;</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>    <span class="keywordtype">int</span> i_node = -1;</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    <a class="code hl_struct" href="structTreeNodeIdx.html">TreeNodeIdx</a>(<span class="keywordtype">int</span> i_t, <span class="keywordtype">int</span> i_n) { i_tree = i_t; i_node = i_n; }</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>};</div>
</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span> </div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span> </div>
<div class="foldopen" id="foldopen00559" data-start="{" data-end="};">
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno"><a class="line" href="classAllIndexes.html">  559</a></span><span class="keyword">class </span><a class="code hl_class" href="classAllIndexes.html">AllIndexes</a> : <span class="keyword">public</span> <a class="code hl_class" href="classSerializableObject.html">SerializableObject</a> {</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span> </div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span> </div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>    vector&lt;vector&lt;int&gt;&gt; all_indexes;</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span> </div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>    <span class="keywordtype">void</span> init_all_indexes(vector&lt;TQRF_Tree&gt; &amp;trees) {</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;tree : trees)</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>            all_indexes.push_back(tree.indexes);</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>    }</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span> </div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>    ADD_CLASS_NAME(<a class="code hl_class" href="classAllIndexes.html">AllIndexes</a>)</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>    <a class="code hl_define" href="SerializableObject_8h.html#a152224225f53c73826c3ad5e3b08c4db">ADD_SERIALIZATION_FUNCS</a>(all_indexes)</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>};</div>
</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span> </div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span><span class="comment">//========================================</span></div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span><span class="comment">// Join the serialization Waggon</span></div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span><span class="comment">//========================================</span></div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span><a class="code hl_define" href="SerializableObject_8h.html#a36e8feaba0b8cd9fbcd13b03911524fc">MEDSERIALIZE_SUPPORT</a>(<a class="code hl_class" href="classTQRF__Params.html">TQRF_Params</a>);</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span><a class="code hl_define" href="SerializableObject_8h.html#a36e8feaba0b8cd9fbcd13b03911524fc">MEDSERIALIZE_SUPPORT</a>(<a class="code hl_class" href="classTQRF__Node.html">TQRF_Node</a>);</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span><a class="code hl_define" href="SerializableObject_8h.html#a36e8feaba0b8cd9fbcd13b03911524fc">MEDSERIALIZE_SUPPORT</a>(<a class="code hl_class" href="classTQRF__Tree.html">TQRF_Tree</a>);</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span><a class="code hl_define" href="SerializableObject_8h.html#a36e8feaba0b8cd9fbcd13b03911524fc">MEDSERIALIZE_SUPPORT</a>(<a class="code hl_class" href="classTQRF__Forest.html">TQRF_Forest</a>);</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span><a class="code hl_define" href="SerializableObject_8h.html#a36e8feaba0b8cd9fbcd13b03911524fc">MEDSERIALIZE_SUPPORT</a>(<a class="code hl_class" href="classAllIndexes.html">AllIndexes</a>)</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span> </div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span><span class="preprocessor">#endif</span></div>
<div class="ttc" id="aLogger_8h_html"><div class="ttname"><a href="Logger_8h.html">Logger.h</a></div><div class="ttdoc">Logger.h - allowing logs with more control.</div></div>
<div class="ttc" id="aMedTime_8h_html"><div class="ttname"><a href="MedTime_8h.html">MedTime.h</a></div><div class="ttdoc">MedTime.h.</div></div>
<div class="ttc" id="aSerializableObject_8h_html"><div class="ttname"><a href="SerializableObject_8h.html">SerializableObject.h</a></div><div class="ttdoc">An Abstract class that can be serialized and written/read from file.</div></div>
<div class="ttc" id="aSerializableObject_8h_html_a152224225f53c73826c3ad5e3b08c4db"><div class="ttname"><a href="SerializableObject_8h.html#a152224225f53c73826c3ad5e3b08c4db">ADD_SERIALIZATION_FUNCS</a></div><div class="ttdeci">#define ADD_SERIALIZATION_FUNCS(...)</div><div class="ttdef"><b>Definition</b> SerializableObject.h:122</div></div>
<div class="ttc" id="aSerializableObject_8h_html_a36e8feaba0b8cd9fbcd13b03911524fc"><div class="ttname"><a href="SerializableObject_8h.html#a36e8feaba0b8cd9fbcd13b03911524fc">MEDSERIALIZE_SUPPORT</a></div><div class="ttdeci">#define MEDSERIALIZE_SUPPORT(Type)</div><div class="ttdef"><b>Definition</b> SerializableObject.h:108</div></div>
<div class="ttc" id="aclassAllIndexes_html"><div class="ttname"><a href="classAllIndexes.html">AllIndexes</a></div><div class="ttdoc">next is for debugging</div><div class="ttdef"><b>Definition</b> TQRF.h:559</div></div>
<div class="ttc" id="aclassMedFeatures_html"><div class="ttname"><a href="classMedFeatures.html">MedFeatures</a></div><div class="ttdoc">A class for holding features data as a virtual matrix</div><div class="ttdef"><b>Definition</b> MedFeatures.h:47</div></div>
<div class="ttc" id="aclassMedMat_html"><div class="ttname"><a href="classMedMat.html">MedMat</a></div><div class="ttdef"><b>Definition</b> MedMat.h:63</div></div>
<div class="ttc" id="aclassQuantized__Feat_html"><div class="ttname"><a href="classQuantized__Feat.html">Quantized_Feat</a></div><div class="ttdef"><b>Definition</b> TQRF.h:182</div></div>
<div class="ttc" id="aclassQuantized__Feat_html_a019b601ad76cbbfc4e29baa71fbe02e3"><div class="ttname"><a href="classQuantized__Feat.html#a019b601ad76cbbfc4e29baa71fbe02e3">Quantized_Feat::nfeat</a></div><div class="ttdeci">int nfeat</div><div class="ttdoc">pointer to the original MedFeatures</div><div class="ttdef"><b>Definition</b> TQRF.h:190</div></div>
<div class="ttc" id="aclassQuantized__Feat_html_a0561b36fda447892c8a8e025d5033f0b"><div class="ttname"><a href="classQuantized__Feat.html#a0561b36fda447892c8a8e025d5033f0b">Quantized_Feat::q_to_val</a></div><div class="ttdeci">vector&lt; vector&lt; float &gt; &gt; q_to_val</div><div class="ttdoc">a vector of features that mimics the input x_in features matrix, but coded into quantized values</div><div class="ttdef"><b>Definition</b> TQRF.h:186</div></div>
<div class="ttc" id="aclassQuantized__Feat_html_a5668b006df57579a9fa0b4ca061be346"><div class="ttname"><a href="classQuantized__Feat.html#a5668b006df57579a9fa0b4ca061be346">Quantized_Feat::feature_names</a></div><div class="ttdeci">vector&lt; string &gt; feature_names</div><div class="ttdoc">just an easy helper that = qx.size()</div><div class="ttdef"><b>Definition</b> TQRF.h:191</div></div>
<div class="ttc" id="aclassQuantized__Feat_html_a6acc068db0b8f23852721cb39b923cb4"><div class="ttname"><a href="classQuantized__Feat.html#a6acc068db0b8f23852721cb39b923cb4">Quantized_Feat::orig_medf</a></div><div class="ttdeci">const MedFeatures * orig_medf</div><div class="ttdoc">from a q value to float value : q=0 is reserved for missing value the range for q&gt;0 is : [q_to_val[q]...</div><div class="ttdef"><b>Definition</b> TQRF.h:188</div></div>
<div class="ttc" id="aclassQuantized__Feat_html_a6b049082bf4133bc229b3e8f2a94a660"><div class="ttname"><a href="classQuantized__Feat.html#a6b049082bf4133bc229b3e8f2a94a660">Quantized_Feat::feat_names</a></div><div class="ttdeci">vector&lt; string &gt; feat_names</div><div class="ttdoc">pointers to the original data given</div><div class="ttdef"><b>Definition</b> TQRF.h:194</div></div>
<div class="ttc" id="aclassQuantized__Feat_html_aae3d3d8ac2e23e99a5a24fe4ae20c621"><div class="ttname"><a href="classQuantized__Feat.html#aae3d3d8ac2e23e99a5a24fe4ae20c621">Quantized_Feat::orig_data</a></div><div class="ttdeci">vector&lt; const vector&lt; float &gt; * &gt; orig_data</div><div class="ttdoc">ncateg 0 is regression, otherwise categories are assumed to be 0 ... ncateg-1</div><div class="ttdef"><b>Definition</b> TQRF.h:193</div></div>
<div class="ttc" id="aclassQuantized__Feat_html_ab0d2c924d392333c231c49966a41f015"><div class="ttname"><a href="classQuantized__Feat.html#ab0d2c924d392333c231c49966a41f015">Quantized_Feat::ncateg</a></div><div class="ttdeci">int ncateg</div><div class="ttdoc">useful for debugging</div><div class="ttdef"><b>Definition</b> TQRF.h:192</div></div>
<div class="ttc" id="aclassQuantized__Feat_html_ab452095b1771189b65b8af54511daf41"><div class="ttname"><a href="classQuantized__Feat.html#ab452095b1771189b65b8af54511daf41">Quantized_Feat::y</a></div><div class="ttdeci">vector&lt; float &gt; y</div><div class="ttdoc">as given in train</div><div class="ttdef"><b>Definition</b> TQRF.h:195</div></div>
<div class="ttc" id="aclassQuantized__Feat_html_acd0bee412d16375bc743e58a32dfaea2"><div class="ttname"><a href="classQuantized__Feat.html#acd0bee412d16375bc743e58a32dfaea2">Quantized_Feat::n_time_slices</a></div><div class="ttdeci">int n_time_slices</div><div class="ttdoc">when there's more than 1 time slice there may be censoring involved and the last_time_slice is the la...</div><div class="ttdef"><b>Definition</b> TQRF.h:198</div></div>
<div class="ttc" id="aclassQuantized__Feat_html_ace8360badeaa09935bffa836088d2149"><div class="ttname"><a href="classQuantized__Feat.html#ace8360badeaa09935bffa836088d2149">Quantized_Feat::slice_counts</a></div><div class="ttdeci">vector&lt; int &gt; slice_counts[2]</div><div class="ttdoc">1 time slice is simply the regular case of a label for the whole future</div><div class="ttdef"><b>Definition</b> TQRF.h:199</div></div>
<div class="ttc" id="aclassQuantized__Feat_html_aeb18cc17e97364e82c3efc2b968a0f02"><div class="ttname"><a href="classQuantized__Feat.html#aeb18cc17e97364e82c3efc2b968a0f02">Quantized_Feat::is_categorial_feat</a></div><div class="ttdeci">vector&lt; int &gt; is_categorial_feat</div><div class="ttdoc">lists[0] is always the lines used for training the trees in round 1 the others can be used for later ...</div><div class="ttdef"><b>Definition</b> TQRF.h:205</div></div>
<div class="ttc" id="aclassQuantized__Feat_html_af44da7a952158bbdf297b3e50dbde604"><div class="ttname"><a href="classQuantized__Feat.html#af44da7a952158bbdf297b3e50dbde604">Quantized_Feat::lists</a></div><div class="ttdeci">vector&lt; vector&lt; int &gt; &gt; lists</div><div class="ttdoc">counts of elements in slices (in case of non regression trees). slices with no variability are not in...</div><div class="ttdef"><b>Definition</b> TQRF.h:201</div></div>
<div class="ttc" id="aclassSerializableObject_html"><div class="ttname"><a href="classSerializableObject.html">SerializableObject</a></div><div class="ttdef"><b>Definition</b> SerializableObject.h:32</div></div>
<div class="ttc" id="aclassSerializableObject_html_a21abb36f80fd484aa2e620432087ea05"><div class="ttname"><a href="classSerializableObject.html#a21abb36f80fd484aa2e620432087ea05">SerializableObject::init_from_string</a></div><div class="ttdeci">int init_from_string(string init_string)</div><div class="ttdoc">Init from string.</div><div class="ttdef"><b>Definition</b> SerializableObject.cpp:121</div></div>
<div class="ttc" id="aclassTQRF__Forest_html"><div class="ttname"><a href="classTQRF__Forest.html">TQRF_Forest</a></div><div class="ttdef"><b>Definition</b> TQRF.h:500</div></div>
<div class="ttc" id="aclassTQRF__Forest_html_a341060e04941d559bab6526b531a1ac9"><div class="ttname"><a href="classTQRF__Forest.html#a341060e04941d559bab6526b531a1ac9">TQRF_Forest::Train</a></div><div class="ttdeci">int Train(const MedFeatures &amp;medf, const MedMat&lt; float &gt; &amp;Y)</div><div class="ttdoc">The basic train matrix for TQRF is MedFeatures (!!) the reason is that it contains everything in one ...</div><div class="ttdef"><b>Definition</b> TQRF.cpp:622</div></div>
<div class="ttc" id="aclassTQRF__Forest_html_a8ced20e410d09ae54eac4bea518a74d7"><div class="ttname"><a href="classTQRF__Forest.html#a8ced20e410d09ae54eac4bea518a74d7">TQRF_Forest::tune_betas</a></div><div class="ttdeci">int tune_betas(Quantized_Feat &amp;qfeat)</div><div class="ttdoc">tuning : solving a gd problem of finding the optimal betas for nodes at some certain chosen depth in ...</div><div class="ttdef"><b>Definition</b> TQRF.cpp:2266</div></div>
<div class="ttc" id="aclassTQRF__Forest_html_a99764150ffa046c6a5dc0c99e8602658"><div class="ttname"><a href="classTQRF__Forest.html#a99764150ffa046c6a5dc0c99e8602658">TQRF_Forest::init</a></div><div class="ttdeci">int init(map&lt; string, string &gt; &amp;map)</div><div class="ttdoc">Virtual to init object from parsed fields.</div><div class="ttdef"><b>Definition</b> TQRF.h:509</div></div>
<div class="ttc" id="aclassTQRF__Forest_html_aeb9144f42f4d606705bece2d8a06035f"><div class="ttname"><a href="classTQRF__Forest.html#aeb9144f42f4d606705bece2d8a06035f">TQRF_Forest::Predict</a></div><div class="ttdeci">int Predict(MedMat&lt; float &gt; &amp;x, vector&lt; float &gt; &amp;preds) const</div><div class="ttdoc">However - the basic predict for this model is MedMat !! , as here it is much simpler : we only need t...</div><div class="ttdef"><b>Definition</b> TQRF.cpp:882</div></div>
<div class="ttc" id="aclassTQRF__Node__Categorial_html"><div class="ttname"><a href="classTQRF__Node__Categorial.html">TQRF_Node_Categorial</a></div><div class="ttdef"><b>Definition</b> TQRF.h:278</div></div>
<div class="ttc" id="aclassTQRF__Node_html"><div class="ttname"><a href="classTQRF__Node.html">TQRF_Node</a></div><div class="ttdef"><b>Definition</b> TQRF.h:238</div></div>
<div class="ttc" id="aclassTQRF__Node_html_a5f9bb4ab476c4ebe7f94539c43c6eba6"><div class="ttname"><a href="classTQRF__Node.html#a5f9bb4ab476c4ebe7f94539c43c6eba6">TQRF_Node::from_idx</a></div><div class="ttdeci">int from_idx</div><div class="ttdoc">0: left , 1: right , 2: randomize each sample</div><div class="ttdef"><b>Definition</b> TQRF.h:251</div></div>
<div class="ttc" id="aclassTQRF__Node_html_a6793453c3812370023442eb583bc68be"><div class="ttname"><a href="classTQRF__Node.html#a6793453c3812370023442eb583bc68be">TQRF_Node::is_terminal</a></div><div class="ttdeci">int is_terminal</div><div class="ttdoc">samples with &lt;= bound go to Left , the other to Right</div><div class="ttdef"><b>Definition</b> TQRF.h:244</div></div>
<div class="ttc" id="aclassTQRF__Node_html_a86f67616da9ff508042f491c8593e711"><div class="ttname"><a href="classTQRF__Node.html#a86f67616da9ff508042f491c8593e711">TQRF_Node::to_idx</a></div><div class="ttdeci">int to_idx</div><div class="ttdoc">the node elements are those given in its tree indexes from place from_idx, to to_idx.</div><div class="ttdef"><b>Definition</b> TQRF.h:252</div></div>
<div class="ttc" id="aclassTQRF__Node_html_a9ad7eb2e8ce650cc00fb89fa9d88c26f"><div class="ttname"><a href="classTQRF__Node.html#a9ad7eb2e8ce650cc00fb89fa9d88c26f">TQRF_Node::i_feat</a></div><div class="ttdeci">int i_feat</div><div class="ttdoc">for debugging and prints</div><div class="ttdef"><b>Definition</b> TQRF.h:242</div></div>
<div class="ttc" id="aclassTQRF__Node_html_aa5a66a556fd4b0cd8caf02e696e2324a"><div class="ttname"><a href="classTQRF__Node.html#aa5a66a556fd4b0cd8caf02e696e2324a">TQRF_Node::bound</a></div><div class="ttdeci">float bound</div><div class="ttdoc">index of feature used in this node</div><div class="ttdef"><b>Definition</b> TQRF.h:243</div></div>
<div class="ttc" id="aclassTQRF__Node_html_aaf2f81a4c8dba5a9d7c190d1e179a172"><div class="ttname"><a href="classTQRF__Node.html#aaf2f81a4c8dba5a9d7c190d1e179a172">TQRF_Node::beta_idx</a></div><div class="ttdeci">int beta_idx</div><div class="ttdoc">choose which of the following to serialize</div><div class="ttdef"><b>Definition</b> TQRF.h:256</div></div>
<div class="ttc" id="aclassTQRF__Params_html"><div class="ttname"><a href="classTQRF__Params.html">TQRF_Params</a></div><div class="ttdef"><b>Definition</b> TQRF.h:55</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a05dfa132258037ccb2b12c929c676a2a"><div class="ttname"><a href="classTQRF__Params.html#a05dfa132258037ccb2b12c929c676a2a">TQRF_Params::gd_lambda</a></div><div class="ttdeci">float gd_lambda</div><div class="ttdoc">gradient descent momentum</div><div class="ttdef"><b>Definition</b> TQRF.h:148</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a0c5fd41d70262de551768498cc112d1b"><div class="ttname"><a href="classTQRF__Params.html#a0c5fd41d70262de551768498cc112d1b">TQRF_Params::gd_momentum</a></div><div class="ttdeci">float gd_momentum</div><div class="ttdoc">gradient descent batch size</div><div class="ttdef"><b>Definition</b> TQRF.h:147</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a17e781848eca082c38ab016c3824269c"><div class="ttname"><a href="classTQRF__Params.html#a17e781848eca082c38ab016c3824269c">TQRF_Params::single_sample_per_pid</a></div><div class="ttdeci">int single_sample_per_pid</div><div class="ttdoc">when a node is bigger than this number : choose this number of random samples to make decisions</div><div class="ttdef"><b>Definition</b> TQRF.h:99</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a20027d7514fad877717d8bf12c1131cf"><div class="ttname"><a href="classTQRF__Params.html#a20027d7514fad877717d8bf12c1131cf">TQRF_Params::nrounds</a></div><div class="ttdeci">int nrounds</div><div class="ttdoc">the weight to use for cases with y!=0 in a weighted case</div><div class="ttdef"><b>Definition</b> TQRF.h:133</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a22723f6e263c07c2e5e66d9df7f24094"><div class="ttname"><a href="classTQRF__Params.html#a22723f6e263c07c2e5e66d9df7f24094">TQRF_Params::bag_prob</a></div><div class="ttdeci">float bag_prob</div><div class="ttdoc">weather to bag with repeats or not</div><div class="ttdef"><b>Definition</b> TQRF.h:101</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a2d6bb18312056f077c30a6187d5e84e2"><div class="ttname"><a href="classTQRF__Params.html#a2d6bb18312056f077c30a6187d5e84e2">TQRF_Params::time_slice_unit</a></div><div class="ttdeci">string time_slice_unit</div><div class="ttdoc">number of categories (1 for regression)</div><div class="ttdef"><b>Definition</b> TQRF.h:68</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a32922bca5e62f76d763a7c23da7ec492"><div class="ttname"><a href="classTQRF__Params.html#a32922bca5e62f76d763a7c23da7ec492">TQRF_Params::min_node</a></div><div class="ttdeci">int min_node</div><div class="ttdoc">stopping criteria : minimal number of samples in a node in the last time slice</div><div class="ttdef"><b>Definition</b> TQRF.h:87</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a3518ad8380af74327b3c014564ff3d50"><div class="ttname"><a href="classTQRF__Params.html#a3518ad8380af74327b3c014564ff3d50">TQRF_Params::max_node_test_samples</a></div><div class="ttdeci">int max_node_test_samples</div><div class="ttdoc">-1: check all splits for each feature , then split the max, &gt; 0: choose this number of split points a...</div><div class="ttdef"><b>Definition</b> TQRF.h:96</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a3bc3c3127b45faa5288bcdd76b7b9d78"><div class="ttname"><a href="classTQRF__Params.html#a3bc3c3127b45faa5288bcdd76b7b9d78">TQRF_Params::tune_min_node_size</a></div><div class="ttdeci">int tune_min_node_size</div><div class="ttdoc">max depth of a node to get a weight for. 0 means 1 weight per tree.</div><div class="ttdef"><b>Definition</b> TQRF.h:142</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a46234a46bc1ba061c628643c387aafe4"><div class="ttname"><a href="classTQRF__Params.html#a46234a46bc1ba061c628643c387aafe4">TQRF_Params::tuning_size</a></div><div class="ttdeci">float tuning_size</div><div class="ttdoc">power for the pow(-log(p), wgts_pow) used for adaboost weights</div><div class="ttdef"><b>Definition</b> TQRF.h:140</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a4779f9d49bc3f8e12f9e824e155f66bc"><div class="ttname"><a href="classTQRF__Params.html#a4779f9d49bc3f8e12f9e824e155f66bc">TQRF_Params::gd_batch</a></div><div class="ttdeci">int gd_batch</div><div class="ttdoc">gradient descent step size</div><div class="ttdef"><b>Definition</b> TQRF.h:146</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a48bc8edaa901dc6e8f65d3a85349c555"><div class="ttname"><a href="classTQRF__Params.html#a48bc8edaa901dc6e8f65d3a85349c555">TQRF_Params::debug</a></div><div class="ttdeci">int debug</div><div class="ttdoc">control debug prints in certain places</div><div class="ttdef"><b>Definition</b> TQRF.h:154</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a4f8b97ddd7b9bba195ff9df382fff60f"><div class="ttname"><a href="classTQRF__Params.html#a4f8b97ddd7b9bba195ff9df382fff60f">TQRF_Params::categorial_str</a></div><div class="ttdeci">vector&lt; string &gt; categorial_str</div><div class="ttdoc">features with number of different values below nvals_for_categ will be assumed categorial</div><div class="ttdef"><b>Definition</b> TQRF.h:108</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a4fdfcde32dec21be5559fbbc89eaae5a"><div class="ttname"><a href="classTQRF__Params.html#a4fdfcde32dec21be5559fbbc89eaae5a">TQRF_Params::case_wgt</a></div><div class="ttdeci">float case_wgt</div><div class="ttdoc">will sum predictions over different times</div><div class="ttdef"><b>Definition</b> TQRF.h:130</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a58bb3d281aaf4d28164e7db7cdad805a"><div class="ttname"><a href="classTQRF__Params.html#a58bb3d281aaf4d28164e7db7cdad805a">TQRF_Params::gd_epochs</a></div><div class="ttdeci">int gd_epochs</div><div class="ttdoc">regularization</div><div class="ttdef"><b>Definition</b> TQRF.h:149</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a5e96a5207610143e72aa79f96bf29980"><div class="ttname"><a href="classTQRF__Params.html#a5e96a5207610143e72aa79f96bf29980">TQRF_Params::max_depth</a></div><div class="ttdeci">int max_depth</div><div class="ttdoc">number of trees to learn</div><div class="ttdef"><b>Definition</b> TQRF.h:85</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a621d9af61338285012cccc1fb62800b3"><div class="ttname"><a href="classTQRF__Params.html#a621d9af61338285012cccc1fb62800b3">TQRF_Params::predict_from_slice</a></div><div class="ttdeci">int predict_from_slice</div><div class="ttdoc">relavant only to categorial predictions: -1: give all categs, 0 and above: give only those categs rem...</div><div class="ttdef"><b>Definition</b> TQRF.h:124</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a64b709ed873ae1287541cf924e9be71c"><div class="ttname"><a href="classTQRF__Params.html#a64b709ed873ae1287541cf924e9be71c">TQRF_Params::random_split_prob</a></div><div class="ttdeci">float random_split_prob</div><div class="ttdoc">stopping criteria : minimal number of samples in a node in the first time slice</div><div class="ttdef"><b>Definition</b> TQRF.h:88</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a6bb9eb0d28f9fdd12782263a01dbb699"><div class="ttname"><a href="classTQRF__Params.html#a6bb9eb0d28f9fdd12782263a01dbb699">TQRF_Params::nvals_for_categorial</a></div><div class="ttdeci">int nvals_for_categorial</div><div class="ttdoc">if &gt; 0 : will only choose this random number of points to test split points at, otherwise will test a...</div><div class="ttdef"><b>Definition</b> TQRF.h:107</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a71c06f4363267b2100a4c0201abbc6b1"><div class="ttname"><a href="classTQRF__Params.html#a71c06f4363267b2100a4c0201abbc6b1">TQRF_Params::test_for_missing</a></div><div class="ttdeci">int test_for_missing</div><div class="ttdoc">will fail on non finite values in input data</div><div class="ttdef"><b>Definition</b> TQRF.h:119</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a7200bfd81847e582bcde49c60a083573"><div class="ttname"><a href="classTQRF__Params.html#a7200bfd81847e582bcde49c60a083573">TQRF_Params::alpha</a></div><div class="ttdeci">float alpha</div><div class="ttdoc">maximal probability to trip to when recalculating weights</div><div class="ttdef"><b>Definition</b> TQRF.h:136</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a72a268306fb75577b79ecdb6e0e0cf02"><div class="ttname"><a href="classTQRF__Params.html#a72a268306fb75577b79ecdb6e0e0cf02">TQRF_Params::min_node_last_slice</a></div><div class="ttdeci">int min_node_last_slice</div><div class="ttdoc">maximal depth of tree</div><div class="ttdef"><b>Definition</b> TQRF.h:86</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a76a74d7a9658cb67687ddb0eb93da691"><div class="ttname"><a href="classTQRF__Params.html#a76a74d7a9658cb67687ddb0eb93da691">TQRF_Params::time_slices_wgts</a></div><div class="ttdeci">vector&lt; float &gt; time_slices_wgts</div><div class="ttdoc">if not empty: defines the borders of all the time lines. Enables a very flexible time slicing strateg...</div><div class="ttdef"><b>Definition</b> TQRF.h:74</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a7f94cb36c5ff96af2b36cc95d26cb9ac"><div class="ttname"><a href="classTQRF__Params.html#a7f94cb36c5ff96af2b36cc95d26cb9ac">TQRF_Params::predict_to_slice</a></div><div class="ttdeci">int predict_to_slice</div><div class="ttdoc">will give predictions for slices [predict_from_slice,...,predict_to_slice]. if negative: all slices.</div><div class="ttdef"><b>Definition</b> TQRF.h:125</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a828c7e38a1608c2f5da0f1bcc0c92273"><div class="ttname"><a href="classTQRF__Params.html#a828c7e38a1608c2f5da0f1bcc0c92273">TQRF_Params::tree_type</a></div><div class="ttdeci">string tree_type</div><div class="ttdoc">maximal quantization</div><div class="ttdef"><b>Definition</b> TQRF.h:82</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a832bd5d872f421ba83f39843a62fff8a"><div class="ttname"><a href="classTQRF__Params.html#a832bd5d872f421ba83f39843a62fff8a">TQRF_Params::bag_ratio</a></div><div class="ttdeci">float bag_ratio</div><div class="ttdoc">random choice of samples for each tree prob</div><div class="ttdef"><b>Definition</b> TQRF.h:102</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a85be455a8128ae72529531a2ffde4d03"><div class="ttname"><a href="classTQRF__Params.html#a85be455a8128ae72529531a2ffde4d03">TQRF_Params::time_slice_size</a></div><div class="ttdeci">int time_slice_size</div><div class="ttdoc">calculated upon init</div><div class="ttdef"><b>Definition</b> TQRF.h:70</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a87fd4be453d777c39c90bbc68e9e62fe"><div class="ttname"><a href="classTQRF__Params.html#a87fd4be453d777c39c90bbc68e9e62fe">TQRF_Params::ncateg</a></div><div class="ttdeci">int ncateg</div><div class="ttdoc">calculated upon init</div><div class="ttdef"><b>Definition</b> TQRF.h:65</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a8cac6996a5d79c958769af76d30e7415"><div class="ttname"><a href="classTQRF__Params.html#a8cac6996a5d79c958769af76d30e7415">TQRF_Params::max_p</a></div><div class="ttdeci">float max_p</div><div class="ttdoc">minimal probability to trim to when recalculating weights</div><div class="ttdef"><b>Definition</b> TQRF.h:135</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a8cccc0732550d7f4575b2705f772ce97"><div class="ttname"><a href="classTQRF__Params.html#a8cccc0732550d7f4575b2705f772ce97">TQRF_Params::ntry_prob</a></div><div class="ttdeci">float ntry_prob</div><div class="ttdoc">-1: use the ntry_prob rule, &gt; 0 : choose this number of features.</div><div class="ttdef"><b>Definition</b> TQRF.h:92</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a8d9ffb95d7f3a681af5dec335ca54e08"><div class="ttname"><a href="classTQRF__Params.html#a8d9ffb95d7f3a681af5dec335ca54e08">TQRF_Params::ntrees</a></div><div class="ttdeci">int ntrees</div><div class="ttdoc">tree type code : calulated from tree_type the string</div><div class="ttdef"><b>Definition</b> TQRF.h:84</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a95910b8404a39b76787080fc39b386c8"><div class="ttname"><a href="classTQRF__Params.html#a95910b8404a39b76787080fc39b386c8">TQRF_Params::ids_to_print</a></div><div class="ttdeci">int ids_to_print</div><div class="ttdoc">for debug prints</div><div class="ttdef"><b>Definition</b> TQRF.h:153</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a970c99528ab261e6e0246377c64bde1b"><div class="ttname"><a href="classTQRF__Params.html#a970c99528ab261e6e0246377c64bde1b">TQRF_Params::tune_max_depth</a></div><div class="ttdeci">int tune_max_depth</div><div class="ttdoc">size of group to tune tree weights by.</div><div class="ttdef"><b>Definition</b> TQRF.h:141</div></div>
<div class="ttc" id="aclassTQRF__Params_html_a983d1578bd24ac1cba3ee337ace5c4fe"><div class="ttname"><a href="classTQRF__Params.html#a983d1578bd24ac1cba3ee337ace5c4fe">TQRF_Params::missing_val</a></div><div class="ttdeci">float missing_val</div><div class="ttdoc">all features containing these tags will be assumed categorial</div><div class="ttdef"><b>Definition</b> TQRF.h:113</div></div>
<div class="ttc" id="aclassTQRF__Params_html_aa79873ad34495be067a4b7b10fe70fc8"><div class="ttname"><a href="classTQRF__Params.html#aa79873ad34495be067a4b7b10fe70fc8">TQRF_Params::n_time_slices</a></div><div class="ttdeci">int n_time_slices</div><div class="ttdoc">the size of the basic time slice, -1: is like infinity: a single time slice like a regular QRF</div><div class="ttdef"><b>Definition</b> TQRF.h:71</div></div>
<div class="ttc" id="aclassTQRF__Params_html_aaa3638e64e196a66e5abe9991b59839c"><div class="ttname"><a href="classTQRF__Params.html#aaa3638e64e196a66e5abe9991b59839c">TQRF_Params::min_p</a></div><div class="ttdeci">float min_p</div><div class="ttdoc">a single round means simply running TQRF as defined with no boosting applied</div><div class="ttdef"><b>Definition</b> TQRF.h:134</div></div>
<div class="ttc" id="aclassTQRF__Params_html_aaa695d7dbc68621e928bf8162ed1ad53"><div class="ttname"><a href="classTQRF__Params.html#aaa695d7dbc68621e928bf8162ed1ad53">TQRF_Params::missing_method_str</a></div><div class="ttdeci">string missing_method_str</div><div class="ttdoc">missing value</div><div class="ttdef"><b>Definition</b> TQRF.h:114</div></div>
<div class="ttc" id="aclassTQRF__Params_html_aae6aa516c5cff8f5f20b1e0ab9617e03"><div class="ttname"><a href="classTQRF__Params.html#aae6aa516c5cff8f5f20b1e0ab9617e03">TQRF_Params::test_for_inf</a></div><div class="ttdeci">int test_for_inf</div><div class="ttdoc">to be initialized from missing_method_str</div><div class="ttdef"><b>Definition</b> TQRF.h:118</div></div>
<div class="ttc" id="aclassTQRF__Params_html_ab54b42ad15d6356aaf361c293126448a"><div class="ttname"><a href="classTQRF__Params.html#ab54b42ad15d6356aaf361c293126448a">TQRF_Params::gd_rate</a></div><div class="ttdeci">float gd_rate</div><div class="ttdoc">min node size for a node to have a weight</div><div class="ttdef"><b>Definition</b> TQRF.h:145</div></div>
<div class="ttc" id="aclassTQRF__Params_html_abca76d54d19109dc31c2db42d5bbda8e"><div class="ttname"><a href="classTQRF__Params.html#abca76d54d19109dc31c2db42d5bbda8e">TQRF_Params::wgts_pow</a></div><div class="ttdeci">float wgts_pow</div><div class="ttdoc">shrinkage factor</div><div class="ttdef"><b>Definition</b> TQRF.h:137</div></div>
<div class="ttc" id="aclassTQRF__Params_html_ac3b6eb427a9c6eaddca13033f340df31"><div class="ttname"><a href="classTQRF__Params.html#ac3b6eb427a9c6eaddca13033f340df31">TQRF_Params::bag_feat</a></div><div class="ttdeci">float bag_feat</div><div class="ttdoc">control ratio of #0 : #NonZero of labels, if &lt; -1 , leave as is.</div><div class="ttdef"><b>Definition</b> TQRF.h:103</div></div>
<div class="ttc" id="aclassTQRF__Params_html_ac5857b5cbed459fbf51a3cc77da40dd0"><div class="ttname"><a href="classTQRF__Params.html#ac5857b5cbed459fbf51a3cc77da40dd0">TQRF_Params::init</a></div><div class="ttdeci">int init(map&lt; string, string &gt; &amp;map)</div><div class="ttdoc">extra param for use when debugging</div><div class="ttdef"><b>Definition</b> TQRF.cpp:19</div></div>
<div class="ttc" id="aclassTQRF__Params_html_ac5c219175b2313027b3218ed534e285e"><div class="ttname"><a href="classTQRF__Params.html#ac5c219175b2313027b3218ed534e285e">TQRF_Params::bag_with_repeats</a></div><div class="ttdeci">int bag_with_repeats</div><div class="ttdoc">when bagging select a single sample per pid (which in itself can be repeated)</div><div class="ttdef"><b>Definition</b> TQRF.h:100</div></div>
<div class="ttc" id="aclassTQRF__Params_html_ad471a7160d94591a974004ab4994a73c"><div class="ttname"><a href="classTQRF__Params.html#ad471a7160d94591a974004ab4994a73c">TQRF_Params::categorial_tags</a></div><div class="ttdeci">vector&lt; string &gt; categorial_tags</div><div class="ttdoc">all features containing one of the strings defined here in their name will be assumed categorial</div><div class="ttdef"><b>Definition</b> TQRF.h:109</div></div>
<div class="ttc" id="aclassTQRF__Params_html_ad640502560e49c5cecfe6e9379c66832"><div class="ttname"><a href="classTQRF__Params.html#ad640502560e49c5cecfe6e9379c66832">TQRF_Params::max_q</a></div><div class="ttdeci">int max_q</div><div class="ttdoc">when calclating the time slices distributions we have an option to NOT count the preciding 0's of non...</div><div class="ttdef"><b>Definition</b> TQRF.h:78</div></div>
<div class="ttc" id="aclassTQRF__Params_html_ad66fc1e87555b2e2d2061f2d3f09c972"><div class="ttname"><a href="classTQRF__Params.html#ad66fc1e87555b2e2d2061f2d3f09c972">TQRF_Params::censor_cases</a></div><div class="ttdeci">int censor_cases</div><div class="ttdoc">default is all 1.0 , but can be assigned by the user, will be used to weight the scores from differen...</div><div class="ttdef"><b>Definition</b> TQRF.h:75</div></div>
<div class="ttc" id="aclassTQRF__Params_html_ad85acac8ed51af0c477eb45425a9e7bc"><div class="ttname"><a href="classTQRF__Params.html#ad85acac8ed51af0c477eb45425a9e7bc">TQRF_Params::nsplits</a></div><div class="ttdeci">int nsplits</div><div class="ttdoc">choose ntry_prob * nfeat features each time</div><div class="ttdef"><b>Definition</b> TQRF.h:93</div></div>
<div class="ttc" id="aclassTQRF__Params_html_ad8cc792b5553066629f4080f57f4285c"><div class="ttname"><a href="classTQRF__Params.html#ad8cc792b5553066629f4080f57f4285c">TQRF_Params::time_slices</a></div><div class="ttdeci">vector&lt; int &gt; time_slices</div><div class="ttdoc">if time_slices vector is not given, one will be created using time_slice_size and this parameter.</div><div class="ttdef"><b>Definition</b> TQRF.h:72</div></div>
<div class="ttc" id="aclassTQRF__Params_html_ada004c28a06d42262cbf11a25b41dab6"><div class="ttname"><a href="classTQRF__Params.html#ada004c28a06d42262cbf11a25b41dab6">TQRF_Params::ntry</a></div><div class="ttdeci">int ntry</div><div class="ttdoc">at this probability we will split a node in a random manner, in order to add noise to the tree.</div><div class="ttdef"><b>Definition</b> TQRF.h:91</div></div>
<div class="ttc" id="aclassTQRF__Params_html_adb88e9f97856d87ee06e0e767cfb0f97"><div class="ttname"><a href="classTQRF__Params.html#adb88e9f97856d87ee06e0e767cfb0f97">TQRF_Params::only_this_categ</a></div><div class="ttdeci">int only_this_categ</div><div class="ttdoc">will fail if missing value found in data</div><div class="ttdef"><b>Definition</b> TQRF.h:122</div></div>
<div class="ttc" id="aclassTQRF__Params_html_adfa1d65e9cbd0d7fe7466c3630f98edd"><div class="ttname"><a href="classTQRF__Params.html#adfa1d65e9cbd0d7fe7466c3630f98edd">TQRF_Params::verbosity</a></div><div class="ttdeci">int verbosity</div><div class="ttdoc">0 : stop automatically , Otherwise: do this number of epochs</div><div class="ttdef"><b>Definition</b> TQRF.h:152</div></div>
<div class="ttc" id="aclassTQRF__Params_html_ae33e6ef16f4a0bb20cfef18881f4e70e"><div class="ttname"><a href="classTQRF__Params.html#ae33e6ef16f4a0bb20cfef18881f4e70e">TQRF_Params::qpoints_per_split</a></div><div class="ttdeci">int qpoints_per_split</div><div class="ttdoc">proportion of random features chosen for each tree</div><div class="ttdef"><b>Definition</b> TQRF.h:104</div></div>
<div class="ttc" id="aclassTQRF__Params_html_aed1c9500eddda80ec98c05ad5cd62a67"><div class="ttname"><a href="classTQRF__Params.html#aed1c9500eddda80ec98c05ad5cd62a67">TQRF_Params::samples_time_unit</a></div><div class="ttdeci">string samples_time_unit</div><div class="ttdoc">sometimes it helps to keep it for debugging</div><div class="ttdef"><b>Definition</b> TQRF.h:62</div></div>
<div class="ttc" id="aclassTQRF__Params_html_afe116e34ecc42092173b92105731d35f"><div class="ttname"><a href="classTQRF__Params.html#afe116e34ecc42092173b92105731d35f">TQRF_Params::tree_type_i</a></div><div class="ttdeci">int tree_type_i</div><div class="ttdoc">options: regression, entropy, logrank</div><div class="ttdef"><b>Definition</b> TQRF.h:83</div></div>
<div class="ttc" id="aclassTQRF__Params_html_afeaf78c3248907a2546a3313cf3992a8"><div class="ttname"><a href="classTQRF__Params.html#afeaf78c3248907a2546a3313cf3992a8">TQRF_Params::missing_method</a></div><div class="ttdeci">int missing_method</div><div class="ttdoc">how to handle missing values: median , left, right, mean, rand</div><div class="ttdef"><b>Definition</b> TQRF.h:115</div></div>
<div class="ttc" id="aclassTQRF__Split__Categorial_html"><div class="ttname"><a href="classTQRF__Split__Categorial.html">TQRF_Split_Categorial</a></div><div class="ttdef"><b>Definition</b> TQRF.h:331</div></div>
<div class="ttc" id="aclassTQRF__Split__Dev_html"><div class="ttname"><a href="classTQRF__Split__Dev.html">TQRF_Split_Dev</a></div><div class="ttdef"><b>Definition</b> TQRF.h:411</div></div>
<div class="ttc" id="aclassTQRF__Split__Entropy_html"><div class="ttname"><a href="classTQRF__Split__Entropy.html">TQRF_Split_Entropy</a></div><div class="ttdef"><b>Definition</b> TQRF.h:369</div></div>
<div class="ttc" id="aclassTQRF__Split__Likelihood_html"><div class="ttname"><a href="classTQRF__Split__Likelihood.html">TQRF_Split_Likelihood</a></div><div class="ttdef"><b>Definition</b> TQRF.h:362</div></div>
<div class="ttc" id="aclassTQRF__Split__Regression_html"><div class="ttname"><a href="classTQRF__Split__Regression.html">TQRF_Split_Regression</a></div><div class="ttdef"><b>Definition</b> TQRF.h:418</div></div>
<div class="ttc" id="aclassTQRF__Split__Stat_html"><div class="ttname"><a href="classTQRF__Split__Stat.html">TQRF_Split_Stat</a></div><div class="ttdef"><b>Definition</b> TQRF.h:290</div></div>
<div class="ttc" id="aclassTQRF__Split__Weighted__Categorial_html"><div class="ttname"><a href="classTQRF__Split__Weighted__Categorial.html">TQRF_Split_Weighted_Categorial</a></div><div class="ttdef"><b>Definition</b> TQRF.h:375</div></div>
<div class="ttc" id="aclassTQRF__Split__Weighted__Likelihood_html"><div class="ttname"><a href="classTQRF__Split__Weighted__Likelihood.html">TQRF_Split_Weighted_Likelihood</a></div><div class="ttdef"><b>Definition</b> TQRF.h:405</div></div>
<div class="ttc" id="aclassTQRF__Tree_html"><div class="ttname"><a href="classTQRF__Tree.html">TQRF_Tree</a></div><div class="ttdef"><b>Definition</b> TQRF.h:431</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition</b> StdDeque.h:58</div></div>
<div class="ttc" id="astructTreeNodeIdx_html"><div class="ttname"><a href="structTreeNodeIdx.html">TreeNodeIdx</a></div><div class="ttdef"><b>Definition</b> TQRF.h:551</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Nov 3 2025 15:05:39 for Medial Code Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
