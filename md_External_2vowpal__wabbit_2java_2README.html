<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Medial Code Documentation: Summary</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Medial Code Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Summary</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md95"></a>The Java layer for Vowpal Wabbit uses the <a href="https://en.wikipedia.org/wiki/Java_Native_Interface">Java Native Interface</a> to communicate between Java and the native Vowpal Wabbit C code. The philosophy of this layer is that we want to expose a simple type safe, thread safe interface so a Java programmer can use Vowpal Wabbit for either learning or scoring. An example usage is shown below</p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_struct" href="structFoo.html">Foo</a> {</div>
<div class="line">    <span class="keyword">static</span> {</div>
<div class="line">        <span class="comment">// Create the model.  The model type is checked here</span></div>
<div class="line">        VWScalarLearner learner = VWLearners.create(<span class="stringliteral">&quot;-f model.vw&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Learn some data</span></div>
<div class="line">        learner.learn(<span class="stringliteral">&quot;0 | price:.23 sqft:.25 age:.05 2006&quot;</span>);</div>
<div class="line">        learner.learn(<span class="stringliteral">&quot;1 2 &#39;second_house | price:.18 sqft:.15 age:.35 1976&quot;</span>);</div>
<div class="line">        learner.learn(<span class="stringliteral">&quot;0 1 0.5 &#39;third_house | price:.53 sqft:.32 age:.87 1924&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Closing finalizes the model and frees up the native memory</span></div>
<div class="line">        learner.close();</div>
<div class="line"> </div>
<div class="line">        VWScalarLearner learner = VWLearners.create(<span class="stringliteral">&quot;-i model.vw -t --quiet&quot;</span>);</div>
<div class="line">        <span class="comment">// Get a prediction.</span></div>
<div class="line">        <span class="keywordtype">float</span> prediction = learner.predict(<span class="stringliteral">&quot;| price:0.23 sqft:0.25 age:0.05 2006&quot;</span>);</div>
<div class="line">        learner.close();</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="astructFoo_html"><div class="ttname"><a href="structFoo.html">Foo</a></div><div class="ttdef"><b>Definition</b> fwdtest.cpp:29</div></div>
</div><!-- fragment --><p>More examples can be found in the <a href="src/test/java/vowpalWabbit/learner">Java tests</a>.</p>
<h1><a class="anchor" id="autotoc_md96"></a>
Important Notes</h1>
<ol type="1">
<li>Most standard Vowpal Wabbit command line options are supported when calling create. If you find some that work from the regular command line and not within the JNI please file a bug.</li>
<li>The type returned from the create function is checked on the C side. This means that the type will vary depending on the arguments supplied to create. While this doesn't give full compile time safety it does fail as early as possible at runtime. This also means that the expected output type can be safely used and checked at compile time.</li>
<li>There is only a small amount of memory used on the Java side including a pointer to the <a class="el" href="namespaceVW.html">VW</a> model on the C side. Because of this the Java base interface implements <code>Closeable</code> and models MUST BE CLOSED or else you will leak memory. The Java garbage collector will not clean up the C memory.</li>
</ol>
<h1><a class="anchor" id="autotoc_md97"></a>
Installation</h1>
<p>The Java artifacts are periodically released to <a href="https://mvnrepository.com/artifact/com.github.johnlangford/vw-jni">Maven Central</a> and can be included like any other Java dependency. Prior to version 8.4.1 some precompiled native libraries were included in the jar. This made usage easier for users on supported platforms but became a nightmare to manage as the number of platforms grew. It also added problems as these precompiled libraries used specific boost versions that had to be matched. This is no longer the case as from 8.4.1 onwards the jars are much slimmer and only contain Java code. The following is called within the Java code</p>
<div class="fragment"><div class="line"><span class="keyword">final</span> <span class="keyword">public</span> <span class="keyword">class </span>VWLearners {</div>
<div class="line">    <span class="keyword">static</span> {</div>
<div class="line">        System.loadLibrary(<span class="stringliteral">&quot;vw_jni&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>The implication here is that platform specific library must be on your <code>java.library.path</code> with the <a href="https://stackoverflow.com/questions/37203247/while-loading-jni-library-how-the-mapping-happens-with-the-actual-library-name">appropriate name</a>. Creating this file is already part of the standard build process of <a class="el" href="namespaceVW.html">VW</a>, therefore you only have to execute <code>make java</code> to create the shared library. After executing this a file will be created under <code>java/target/*vw_jni*</code> where the <code>*</code> are platform specific. This file then needs to be put somewhere on the <code>java.library.path</code> of the machine you wish to use the JNI library from.</p>
<p>It should also be noted that Vowpal Wabbit makes all attempts at compatibility between versions, but the only true way to guarantee compatibility to use the exact same git hash that was used when creating the jar. I will try and keep this list up to date as new versions are released.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><a class="el" href="namespaceVW.html">VW</a> Version   </th><th class="markdownTableHeadNone">Git Commit <a class="el" href="structHash.html">Hash</a>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">8.4.1   </td><td class="markdownTableBodyNone">10bd09ab06f59291e04ad7805e88fd3e693b7159    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">8.1.0   </td><td class="markdownTableBodyNone">9e5831a72d5b0a124c845dcaec75879f498b355f   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 7 2025 10:36:59 for Medial Code Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
