<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Medial Code Documentation: rabit::engine::AllreduceBase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Medial Code Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacerabit.html">rabit</a></li><li class="navelem"><a class="el" href="namespacerabit_1_1engine.html">engine</a></li><li class="navelem"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html">AllreduceBase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle"><div class="title">rabit::engine::AllreduceBase Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>implementation of basic Allreduce engine  
 <a href="classrabit_1_1engine_1_1AllreduceBase.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="allreduce__base_8h_source.html">allreduce_base.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for rabit::engine::AllreduceBase:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classrabit_1_1engine_1_1AllreduceBase.png" usemap="#rabit::engine::AllreduceBase_map" alt=""/>
  <map id="rabit::engine::AllreduceBase_map" name="rabit::engine::AllreduceBase_map">
<area href="classrabit_1_1engine_1_1IEngine.html" title="interface of core Allreduce engine" alt="rabit::engine::IEngine" shape="rect" coords="0,0,173,24"/>
<area href="classrabit_1_1engine_1_1AllreduceMock.html" alt="rabit::engine::AllreduceMock" shape="rect" coords="0,112,173,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1LinkRecord.html">LinkRecord</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1RefLinkVector.html">RefLinkVector</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">simple data structure that works like a vector but takes reference instead of space  <a href="structrabit_1_1engine_1_1AllreduceBase_1_1RefLinkVector.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">ReturnType</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">struct return type to avoid implicit conversion to int/bool  <a href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3b7f1a555aa1bf479fbb7b05648d4a48" id="r_a3b7f1a555aa1bf479fbb7b05648d4a48"><td class="memItemLeft" align="right" valign="top"><a id="a3b7f1a555aa1bf479fbb7b05648d4a48" name="a3b7f1a555aa1bf479fbb7b05648d4a48"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>Init</b> (int argc, char *argv[])</td></tr>
<tr class="separator:a3b7f1a555aa1bf479fbb7b05648d4a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0439cf800a95353a93aa9ade5776dcd1" id="r_a0439cf800a95353a93aa9ade5776dcd1"><td class="memItemLeft" align="right" valign="top"><a id="a0439cf800a95353a93aa9ade5776dcd1" name="a0439cf800a95353a93aa9ade5776dcd1"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>Shutdown</b> ()</td></tr>
<tr class="separator:a0439cf800a95353a93aa9ade5776dcd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88398ac17402e872418b676cf291b97b" id="r_a88398ac17402e872418b676cf291b97b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a88398ac17402e872418b676cf291b97b">SetParam</a> (const char *name, const char *val)</td></tr>
<tr class="memdesc:a88398ac17402e872418b676cf291b97b"><td class="mdescLeft">&#160;</td><td class="mdescRight">set parameters to the engine  <br /></td></tr>
<tr class="separator:a88398ac17402e872418b676cf291b97b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d9be819d4f34e9a1a0f144a61f5ea5e" id="r_a2d9be819d4f34e9a1a0f144a61f5ea5e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a2d9be819d4f34e9a1a0f144a61f5ea5e">TrackerPrint</a> (const std::string &amp;msg) override</td></tr>
<tr class="memdesc:a2d9be819d4f34e9a1a0f144a61f5ea5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">print the msg in the tracker, this function can be used to communicate the information of the progress to the user who monitors the tracker  <br /></td></tr>
<tr class="separator:a2d9be819d4f34e9a1a0f144a61f5ea5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d1f8a466f116f092165a6db9443bc57" id="r_a7d1f8a466f116f092165a6db9443bc57"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a7d1f8a466f116f092165a6db9443bc57">GetRingPrevRank</a> () const override</td></tr>
<tr class="memdesc:a7d1f8a466f116f092165a6db9443bc57"><td class="mdescLeft">&#160;</td><td class="mdescRight">get rank of previous node in ring topology  <br /></td></tr>
<tr class="separator:a7d1f8a466f116f092165a6db9443bc57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8e8c285c20a249eac8fdef64ba23f95" id="r_aa8e8c285c20a249eac8fdef64ba23f95"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#aa8e8c285c20a249eac8fdef64ba23f95">GetRank</a> () const override</td></tr>
<tr class="memdesc:aa8e8c285c20a249eac8fdef64ba23f95"><td class="mdescLeft">&#160;</td><td class="mdescRight">get rank  <br /></td></tr>
<tr class="separator:aa8e8c285c20a249eac8fdef64ba23f95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06b14b20b4f75ddf15c315f8dab50f19" id="r_a06b14b20b4f75ddf15c315f8dab50f19"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a06b14b20b4f75ddf15c315f8dab50f19">GetWorldSize</a> () const override</td></tr>
<tr class="memdesc:a06b14b20b4f75ddf15c315f8dab50f19"><td class="mdescLeft">&#160;</td><td class="mdescRight">get rank  <br /></td></tr>
<tr class="separator:a06b14b20b4f75ddf15c315f8dab50f19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d7e21b533243a033aa1f24f0405961" id="r_ac6d7e21b533243a033aa1f24f0405961"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#ac6d7e21b533243a033aa1f24f0405961">IsDistributed</a> () const override</td></tr>
<tr class="memdesc:ac6d7e21b533243a033aa1f24f0405961"><td class="mdescLeft">&#160;</td><td class="mdescRight">whether is distributed or not  <br /></td></tr>
<tr class="separator:ac6d7e21b533243a033aa1f24f0405961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7290c5ffd5b43a3a893b96498fadf840" id="r_a7290c5ffd5b43a3a893b96498fadf840"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a7290c5ffd5b43a3a893b96498fadf840">GetHost</a> () const override</td></tr>
<tr class="memdesc:a7290c5ffd5b43a3a893b96498fadf840"><td class="mdescLeft">&#160;</td><td class="mdescRight">get rank  <br /></td></tr>
<tr class="separator:a7290c5ffd5b43a3a893b96498fadf840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8f5666b0270f571c8ed7a22eee384c7" id="r_ae8f5666b0270f571c8ed7a22eee384c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#ae8f5666b0270f571c8ed7a22eee384c7">Allgather</a> (void *sendrecvbuf_, size_t total_size, size_t slice_begin, size_t slice_end, size_t size_prev_slice) override</td></tr>
<tr class="memdesc:ae8f5666b0270f571c8ed7a22eee384c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">internal Allgather function, each node have a segment of data in the ring of sendrecvbuf, the data provided by current node k is [slice_begin, slice_end), the next node's segment must start with slice_end after the call of Allgather, sendrecvbuf_ contains all the contents including all segments use a ring based algorithm  <br /></td></tr>
<tr class="separator:ae8f5666b0270f571c8ed7a22eee384c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae6d845feb208168bcfc1a3e1ed7ead" id="r_a8ae6d845feb208168bcfc1a3e1ed7ead"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a8ae6d845feb208168bcfc1a3e1ed7ead">Allreduce</a> (void *sendrecvbuf_, size_t type_nbytes, size_t count, <a class="el" href="classrabit_1_1engine_1_1IEngine.html#a8f8113cd6e05949b68fb7b1d23b4e9cf">ReduceFunction</a> reducer, <a class="el" href="classrabit_1_1engine_1_1IEngine.html#a81d49a1de53963a70c38e5ebf1025d8b">PreprocFunction</a> prepare_fun=nullptr, void *prepare_arg=nullptr) override</td></tr>
<tr class="memdesc:a8ae6d845feb208168bcfc1a3e1ed7ead"><td class="mdescLeft">&#160;</td><td class="mdescRight">perform in-place allreduce, on sendrecvbuf this function is NOT thread-safe  <br /></td></tr>
<tr class="separator:a8ae6d845feb208168bcfc1a3e1ed7ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabf58aec0b3b44ca29f44a17509c1e32" id="r_aabf58aec0b3b44ca29f44a17509c1e32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#aabf58aec0b3b44ca29f44a17509c1e32">Broadcast</a> (void *sendrecvbuf_, size_t total_size, int root) override</td></tr>
<tr class="memdesc:aabf58aec0b3b44ca29f44a17509c1e32"><td class="mdescLeft">&#160;</td><td class="mdescRight">broadcast data from root to all nodes  <br /></td></tr>
<tr class="separator:aabf58aec0b3b44ca29f44a17509c1e32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab665123f39f79121065a67e860bbbb7b" id="r_ab665123f39f79121065a67e860bbbb7b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#ab665123f39f79121065a67e860bbbb7b">LoadCheckPoint</a> () override</td></tr>
<tr class="memdesc:ab665123f39f79121065a67e860bbbb7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated  <br /></td></tr>
<tr class="separator:ab665123f39f79121065a67e860bbbb7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3196d2b9f1f1d1d4ccfd6ac6ef5a90db" id="r_a3196d2b9f1f1d1d4ccfd6ac6ef5a90db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a3196d2b9f1f1d1d4ccfd6ac6ef5a90db">CheckPoint</a> () override</td></tr>
<tr class="memdesc:a3196d2b9f1f1d1d4ccfd6ac6ef5a90db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increase internal version number. Deprecated.  <br /></td></tr>
<tr class="separator:a3196d2b9f1f1d1d4ccfd6ac6ef5a90db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d3f1dce689dc6491dbaa3756e2fb68" id="r_a63d3f1dce689dc6491dbaa3756e2fb68"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a63d3f1dce689dc6491dbaa3756e2fb68">VersionNumber</a> () const override</td></tr>
<tr class="separator:a63d3f1dce689dc6491dbaa3756e2fb68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29851ac971e62ee7a4930bf7ebf7d5b7" id="r_a29851ac971e62ee7a4930bf7ebf7d5b7"><td class="memItemLeft" align="right" valign="top"><a id="a29851ac971e62ee7a4930bf7ebf7d5b7" name="a29851ac971e62ee7a4930bf7ebf7d5b7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ReportStatus</b> () const</td></tr>
<tr class="memdesc:a29851ac971e62ee7a4930bf7ebf7d5b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">report current status to the job tracker depending on the job tracker we are in <br /></td></tr>
<tr class="separator:a29851ac971e62ee7a4930bf7ebf7d5b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classrabit_1_1engine_1_1IEngine"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classrabit_1_1engine_1_1IEngine')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classrabit_1_1engine_1_1IEngine.html">rabit::engine::IEngine</a></td></tr>
<tr class="memitem:a30715571cb98b8afa8b740cf5044e0fe inherit pub_methods_classrabit_1_1engine_1_1IEngine" id="r_a30715571cb98b8afa8b740cf5044e0fe"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><b>~IEngine</b> ()=default</td></tr>
<tr class="memdesc:a30715571cb98b8afa8b740cf5044e0fe inherit pub_methods_classrabit_1_1engine_1_1IEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">virtual destructor <br /></td></tr>
<tr class="separator:a30715571cb98b8afa8b740cf5044e0fe inherit pub_methods_classrabit_1_1engine_1_1IEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a0316f3970f83021394ac651af489f7ed" id="r_a0316f3970f83021394ac651af489f7ed"><td class="memItemLeft" align="right" valign="top"><a id="a0316f3970f83021394ac651af489f7ed" name="a0316f3970f83021394ac651af489f7ed"></a>
static const int&#160;</td><td class="memItemRight" valign="bottom"><b>kMagic</b> = 0xff99</td></tr>
<tr class="separator:a0316f3970f83021394ac651af489f7ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-types" name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:af3d38ae375d83c5eadd2ec948374ead1" id="r_af3d38ae375d83c5eadd2ec948374ead1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#af3d38ae375d83c5eadd2ec948374ead1">ReturnTypeEnum</a> { <br />
&#160;&#160;<a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#af3d38ae375d83c5eadd2ec948374ead1aa1520a748ea9ff0b995d48c378132dd0">kSuccess</a>
, <a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#af3d38ae375d83c5eadd2ec948374ead1a7b5ee55f4fd4f4bfee624cec99107441">kConnReset</a>
, <a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#af3d38ae375d83c5eadd2ec948374ead1a21be1370a1e27c862741a92d7abfd5fe">kRecvZeroLen</a>
, <a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#af3d38ae375d83c5eadd2ec948374ead1a5d9619931f95c1319c86d7d78c6f26d2">kSockError</a>
, <br />
&#160;&#160;<a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#af3d38ae375d83c5eadd2ec948374ead1a3172030c3d0500d87479d38331f1d90d">kGetExcept</a>
<br />
 }</td></tr>
<tr class="memdesc:af3d38ae375d83c5eadd2ec948374ead1"><td class="mdescLeft">&#160;</td><td class="mdescRight">enumeration of possible returning results from Try functions  <a href="classrabit_1_1engine_1_1AllreduceBase.html#af3d38ae375d83c5eadd2ec948374ead1">More...</a><br /></td></tr>
<tr class="separator:af3d38ae375d83c5eadd2ec948374ead1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a898df9406dc0956a43e4bf28350284e5" id="r_a898df9406dc0956a43e4bf28350284e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classxgboost_1_1collective_1_1TCPSocket.html">xgboost::collective::TCPSocket</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a898df9406dc0956a43e4bf28350284e5">ConnectTracker</a> () const</td></tr>
<tr class="memdesc:a898df9406dc0956a43e4bf28350284e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialize connection to the tracker  <br /></td></tr>
<tr class="separator:a898df9406dc0956a43e4bf28350284e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcfcf207a6b40239c437522a284d8ff0" id="r_abcfcf207a6b40239c437522a284d8ff0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#abcfcf207a6b40239c437522a284d8ff0">ReConnectLinks</a> (const char *cmd=&quot;start&quot;)</td></tr>
<tr class="memdesc:abcfcf207a6b40239c437522a284d8ff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">connect to the tracker to fix the the missing links this function is also used when the engine start up  <br /></td></tr>
<tr class="separator:abcfcf207a6b40239c437522a284d8ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f56797c87ba6d2d7eaff17e4819500a" id="r_a5f56797c87ba6d2d7eaff17e4819500a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">ReturnType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a5f56797c87ba6d2d7eaff17e4819500a">TryAllreduce</a> (void *sendrecvbuf_, size_t type_nbytes, size_t count, <a class="el" href="classrabit_1_1engine_1_1IEngine.html#a8f8113cd6e05949b68fb7b1d23b4e9cf">ReduceFunction</a> reducer)</td></tr>
<tr class="memdesc:a5f56797c87ba6d2d7eaff17e4819500a"><td class="mdescLeft">&#160;</td><td class="mdescRight">perform in-place allreduce, on sendrecvbuf, this function can fail, and will return the cause of failure  <br /></td></tr>
<tr class="separator:a5f56797c87ba6d2d7eaff17e4819500a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24d8926e1277018dbec87dbaaad3737f" id="r_a24d8926e1277018dbec87dbaaad3737f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">ReturnType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a24d8926e1277018dbec87dbaaad3737f">TryBroadcast</a> (void *sendrecvbuf_, size_t size, int root)</td></tr>
<tr class="memdesc:a24d8926e1277018dbec87dbaaad3737f"><td class="mdescLeft">&#160;</td><td class="mdescRight">broadcast data from root to all nodes, this function can fail,and will return the cause of failure  <br /></td></tr>
<tr class="separator:a24d8926e1277018dbec87dbaaad3737f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ffbde890b4e55ebbd5fe95984e6b061" id="r_a2ffbde890b4e55ebbd5fe95984e6b061"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">ReturnType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a2ffbde890b4e55ebbd5fe95984e6b061">TryAllreduceTree</a> (void *sendrecvbuf_, size_t type_nbytes, size_t count, <a class="el" href="classrabit_1_1engine_1_1IEngine.html#a8f8113cd6e05949b68fb7b1d23b4e9cf">ReduceFunction</a> reducer)</td></tr>
<tr class="memdesc:a2ffbde890b4e55ebbd5fe95984e6b061"><td class="mdescLeft">&#160;</td><td class="mdescRight">perform in-place allreduce, on sendrecvbuf, this function implements tree-shape reduction  <br /></td></tr>
<tr class="separator:a2ffbde890b4e55ebbd5fe95984e6b061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ab2aa43c249a8d5db28ec1de64f7db9" id="r_a4ab2aa43c249a8d5db28ec1de64f7db9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">ReturnType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a4ab2aa43c249a8d5db28ec1de64f7db9">TryAllgatherRing</a> (void *sendrecvbuf_, size_t total_size, size_t slice_begin, size_t slice_end, size_t size_prev_slice)</td></tr>
<tr class="memdesc:a4ab2aa43c249a8d5db28ec1de64f7db9"><td class="mdescLeft">&#160;</td><td class="mdescRight">internal Allgather function, each node have a segment of data in the ring of sendrecvbuf, the data provided by current node k is [slice_begin, slice_end), the next node's segment must start with slice_end after the call of Allgather, sendrecvbuf_ contains all the contents including all segments use a ring based algorithm  <br /></td></tr>
<tr class="separator:a4ab2aa43c249a8d5db28ec1de64f7db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2369393464f90b039506c338ca1b657f" id="r_a2369393464f90b039506c338ca1b657f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">ReturnType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a2369393464f90b039506c338ca1b657f">TryReduceScatterRing</a> (void *sendrecvbuf_, size_t type_nbytes, size_t count, <a class="el" href="classrabit_1_1engine_1_1IEngine.html#a8f8113cd6e05949b68fb7b1d23b4e9cf">ReduceFunction</a> reducer)</td></tr>
<tr class="memdesc:a2369393464f90b039506c338ca1b657f"><td class="mdescLeft">&#160;</td><td class="mdescRight">perform in-place allreduce, reduce on the sendrecvbuf,  <br /></td></tr>
<tr class="separator:a2369393464f90b039506c338ca1b657f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2993d70419a47595f16114a2799e311" id="r_ab2993d70419a47595f16114a2799e311"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">ReturnType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#ab2993d70419a47595f16114a2799e311">TryAllreduceRing</a> (void *sendrecvbuf_, size_t type_nbytes, size_t count, <a class="el" href="classrabit_1_1engine_1_1IEngine.html#a8f8113cd6e05949b68fb7b1d23b4e9cf">ReduceFunction</a> reducer)</td></tr>
<tr class="memdesc:ab2993d70419a47595f16114a2799e311"><td class="mdescLeft">&#160;</td><td class="mdescRight">perform in-place allreduce, on sendrecvbuf use a ring based algorithm, reduce-scatter + allgather  <br /></td></tr>
<tr class="separator:ab2993d70419a47595f16114a2799e311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a340b95621b59c3bc5e9cf91f5f754f12" id="r_a340b95621b59c3bc5e9cf91f5f754f12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">ReturnType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a340b95621b59c3bc5e9cf91f5f754f12">ReportError</a> (<a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1LinkRecord.html">LinkRecord</a> *link, <a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">ReturnType</a> err)</td></tr>
<tr class="memdesc:a340b95621b59c3bc5e9cf91f5f754f12"><td class="mdescLeft">&#160;</td><td class="mdescRight">function used to report error when a link goes wrong  <br /></td></tr>
<tr class="separator:a340b95621b59c3bc5e9cf91f5f754f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:ab5ea276cc206f3eabf444278a8b146b6" id="r_ab5ea276cc206f3eabf444278a8b146b6"><td class="memItemLeft" align="right" valign="top"><a id="ab5ea276cc206f3eabf444278a8b146b6" name="ab5ea276cc206f3eabf444278a8b146b6"></a>
static <a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">ReturnType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Errno2Return</b> ()</td></tr>
<tr class="memdesc:ab5ea276cc206f3eabf444278a8b146b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">translate errno to return type <br /></td></tr>
<tr class="separator:ab5ea276cc206f3eabf444278a8b146b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a0b69846567a30e8952c7d65bda2d78db" id="r_a0b69846567a30e8952c7d65bda2d78db"><td class="memItemLeft" align="right" valign="top"><a id="a0b69846567a30e8952c7d65bda2d78db" name="a0b69846567a30e8952c7d65bda2d78db"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>seq_counter</b> {0}</td></tr>
<tr class="separator:a0b69846567a30e8952c7d65bda2d78db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4ec8784372e68418e4887cd7e6d0ac9" id="r_af4ec8784372e68418e4887cd7e6d0ac9"><td class="memItemLeft" align="right" valign="top"><a id="af4ec8784372e68418e4887cd7e6d0ac9" name="af4ec8784372e68418e4887cd7e6d0ac9"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>version_number</b> {0}</td></tr>
<tr class="separator:af4ec8784372e68418e4887cd7e6d0ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85d43e99e82e612a10c47ae8e2f519ba" id="r_a85d43e99e82e612a10c47ae8e2f519ba"><td class="memItemLeft" align="right" valign="top"><a id="a85d43e99e82e612a10c47ae8e2f519ba" name="a85d43e99e82e612a10c47ae8e2f519ba"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hadoop_mode</b></td></tr>
<tr class="separator:a85d43e99e82e612a10c47ae8e2f519ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eba26191ccee4795d1e34c9a35fcee6" id="r_a7eba26191ccee4795d1e34c9a35fcee6"><td class="memItemLeft" align="right" valign="top"><a id="a7eba26191ccee4795d1e34c9a35fcee6" name="a7eba26191ccee4795d1e34c9a35fcee6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>parent_index</b></td></tr>
<tr class="separator:a7eba26191ccee4795d1e34c9a35fcee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48c73d5dc20c4ad3b1a790fe19947490" id="r_a48c73d5dc20c4ad3b1a790fe19947490"><td class="memItemLeft" align="right" valign="top"><a id="a48c73d5dc20c4ad3b1a790fe19947490" name="a48c73d5dc20c4ad3b1a790fe19947490"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>parent_rank</b></td></tr>
<tr class="separator:a48c73d5dc20c4ad3b1a790fe19947490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad59809884bb2b94c4c756cf7558e5579" id="r_ad59809884bb2b94c4c756cf7558e5579"><td class="memItemLeft" align="right" valign="top"><a id="ad59809884bb2b94c4c756cf7558e5579" name="ad59809884bb2b94c4c756cf7558e5579"></a>
std::vector&lt; <a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1LinkRecord.html">LinkRecord</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>all_links</b></td></tr>
<tr class="separator:ad59809884bb2b94c4c756cf7558e5579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69799a323b2d28977a2f0fa9bfa83b79" id="r_a69799a323b2d28977a2f0fa9bfa83b79"><td class="memItemLeft" align="right" valign="top"><a id="a69799a323b2d28977a2f0fa9bfa83b79" name="a69799a323b2d28977a2f0fa9bfa83b79"></a>
<a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1LinkRecord.html">LinkRecord</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>err_link</b></td></tr>
<tr class="separator:a69799a323b2d28977a2f0fa9bfa83b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a214ced48c1362276ab3e8291f97460c3" id="r_a214ced48c1362276ab3e8291f97460c3"><td class="memItemLeft" align="right" valign="top"><a id="a214ced48c1362276ab3e8291f97460c3" name="a214ced48c1362276ab3e8291f97460c3"></a>
<a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1RefLinkVector.html">RefLinkVector</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tree_links</b></td></tr>
<tr class="separator:a214ced48c1362276ab3e8291f97460c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac203949bfba131895d4ec7bfa88d25f4" id="r_ac203949bfba131895d4ec7bfa88d25f4"><td class="memItemLeft" align="right" valign="top"><a id="ac203949bfba131895d4ec7bfa88d25f4" name="ac203949bfba131895d4ec7bfa88d25f4"></a>
<a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1LinkRecord.html">LinkRecord</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>ring_prev</b></td></tr>
<tr class="separator:ac203949bfba131895d4ec7bfa88d25f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a559a674bd85fd1301abbef79927b451b" id="r_a559a674bd85fd1301abbef79927b451b"><td class="memItemLeft" align="right" valign="top"><a id="a559a674bd85fd1301abbef79927b451b" name="a559a674bd85fd1301abbef79927b451b"></a>
<a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1LinkRecord.html">LinkRecord</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>ring_next</b></td></tr>
<tr class="separator:a559a674bd85fd1301abbef79927b451b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4bd1e0bea180bab6b297853b5bb609c" id="r_ab4bd1e0bea180bab6b297853b5bb609c"><td class="memItemLeft" align="right" valign="top"><a id="ab4bd1e0bea180bab6b297853b5bb609c" name="ab4bd1e0bea180bab6b297853b5bb609c"></a>
std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>env_vars</b></td></tr>
<tr class="separator:ab4bd1e0bea180bab6b297853b5bb609c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add694e9914f1442792827b0754c3631b" id="r_add694e9914f1442792827b0754c3631b"><td class="memItemLeft" align="right" valign="top"><a id="add694e9914f1442792827b0754c3631b" name="add694e9914f1442792827b0754c3631b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>task_id</b></td></tr>
<tr class="separator:add694e9914f1442792827b0754c3631b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31d2fa275cf12567ff830adfe754f35e" id="r_a31d2fa275cf12567ff830adfe754f35e"><td class="memItemLeft" align="right" valign="top"><a id="a31d2fa275cf12567ff830adfe754f35e" name="a31d2fa275cf12567ff830adfe754f35e"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>host_uri</b></td></tr>
<tr class="separator:a31d2fa275cf12567ff830adfe754f35e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6069489276e0f2c3a2bd0e234efdfc1" id="r_aa6069489276e0f2c3a2bd0e234efdfc1"><td class="memItemLeft" align="right" valign="top"><a id="aa6069489276e0f2c3a2bd0e234efdfc1" name="aa6069489276e0f2c3a2bd0e234efdfc1"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>tracker_uri</b></td></tr>
<tr class="separator:aa6069489276e0f2c3a2bd0e234efdfc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab81a2eb8d6879ef95c358b78bb23a612" id="r_ab81a2eb8d6879ef95c358b78bb23a612"><td class="memItemLeft" align="right" valign="top"><a id="ab81a2eb8d6879ef95c358b78bb23a612" name="ab81a2eb8d6879ef95c358b78bb23a612"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>dmlc_role</b></td></tr>
<tr class="separator:ab81a2eb8d6879ef95c358b78bb23a612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a3fb02cae16b3e95b5d6d2933b457f6" id="r_a7a3fb02cae16b3e95b5d6d2933b457f6"><td class="memItemLeft" align="right" valign="top"><a id="a7a3fb02cae16b3e95b5d6d2933b457f6" name="a7a3fb02cae16b3e95b5d6d2933b457f6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>tracker_port</b></td></tr>
<tr class="separator:a7a3fb02cae16b3e95b5d6d2933b457f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dbb5cc44b9c8cfb53721f6b8e1ba862" id="r_a5dbb5cc44b9c8cfb53721f6b8e1ba862"><td class="memItemLeft" align="right" valign="top"><a id="a5dbb5cc44b9c8cfb53721f6b8e1ba862" name="a5dbb5cc44b9c8cfb53721f6b8e1ba862"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>reduce_buffer_size</b></td></tr>
<tr class="separator:a5dbb5cc44b9c8cfb53721f6b8e1ba862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5486cac14fc1ab27decf19b6b7ed22fd" id="r_a5486cac14fc1ab27decf19b6b7ed22fd"><td class="memItemLeft" align="right" valign="top"><a id="a5486cac14fc1ab27decf19b6b7ed22fd" name="a5486cac14fc1ab27decf19b6b7ed22fd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>reduce_method</b></td></tr>
<tr class="separator:a5486cac14fc1ab27decf19b6b7ed22fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa0b0b80b89e84fd1a7f664fd8e15321" id="r_afa0b0b80b89e84fd1a7f664fd8e15321"><td class="memItemLeft" align="right" valign="top"><a id="afa0b0b80b89e84fd1a7f664fd8e15321" name="afa0b0b80b89e84fd1a7f664fd8e15321"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>reduce_ring_mincount</b></td></tr>
<tr class="separator:afa0b0b80b89e84fd1a7f664fd8e15321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7479659c25b750417b952a483205b9e9" id="r_a7479659c25b750417b952a483205b9e9"><td class="memItemLeft" align="right" valign="top"><a id="a7479659c25b750417b952a483205b9e9" name="a7479659c25b750417b952a483205b9e9"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>tree_reduce_minsize</b></td></tr>
<tr class="separator:a7479659c25b750417b952a483205b9e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf94d758f0015a320667689b1d3efdf8" id="r_aaf94d758f0015a320667689b1d3efdf8"><td class="memItemLeft" align="right" valign="top"><a id="aaf94d758f0015a320667689b1d3efdf8" name="aaf94d758f0015a320667689b1d3efdf8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>rank</b></td></tr>
<tr class="separator:aaf94d758f0015a320667689b1d3efdf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac338ed433d991c233fb2ebcb4b6a3796" id="r_ac338ed433d991c233fb2ebcb4b6a3796"><td class="memItemLeft" align="right" valign="top"><a id="ac338ed433d991c233fb2ebcb4b6a3796" name="ac338ed433d991c233fb2ebcb4b6a3796"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>world_size</b></td></tr>
<tr class="separator:ac338ed433d991c233fb2ebcb4b6a3796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf94c378835a708f6c0297bbd4a75885" id="r_acf94c378835a708f6c0297bbd4a75885"><td class="memItemLeft" align="right" valign="top"><a id="acf94c378835a708f6c0297bbd4a75885" name="acf94c378835a708f6c0297bbd4a75885"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>connect_retry</b></td></tr>
<tr class="separator:acf94c378835a708f6c0297bbd4a75885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd86e87f896e3185c57e81d48870ee10" id="r_acd86e87f896e3185c57e81d48870ee10"><td class="memItemLeft" align="right" valign="top"><a id="acd86e87f896e3185c57e81d48870ee10" name="acd86e87f896e3185c57e81d48870ee10"></a>
std::chrono::seconds&#160;</td><td class="memItemRight" valign="bottom"><b>timeout_sec</b> {std::chrono::seconds{1800}}</td></tr>
<tr class="separator:acd86e87f896e3185c57e81d48870ee10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78073ed0681318b852b9bb3163db15d3" id="r_a78073ed0681318b852b9bb3163db15d3"><td class="memItemLeft" align="right" valign="top"><a id="a78073ed0681318b852b9bb3163db15d3" name="a78073ed0681318b852b9bb3163db15d3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>rabit_timeout</b> = false</td></tr>
<tr class="separator:a78073ed0681318b852b9bb3163db15d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6fc87b586703665b43aae2abace545f" id="r_aa6fc87b586703665b43aae2abace545f"><td class="memItemLeft" align="right" valign="top"><a id="aa6fc87b586703665b43aae2abace545f" name="aa6fc87b586703665b43aae2abace545f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>rabit_enable_tcp_no_delay</b> = false</td></tr>
<tr class="separator:aa6fc87b586703665b43aae2abace545f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classrabit_1_1engine_1_1IEngine"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classrabit_1_1engine_1_1IEngine')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classrabit_1_1engine_1_1IEngine.html">rabit::engine::IEngine</a></td></tr>
<tr class="memitem:a81d49a1de53963a70c38e5ebf1025d8b inherit pub_types_classrabit_1_1engine_1_1IEngine" id="r_a81d49a1de53963a70c38e5ebf1025d8b"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1IEngine.html#a81d49a1de53963a70c38e5ebf1025d8b">PreprocFunction</a>(void *arg)</td></tr>
<tr class="memdesc:a81d49a1de53963a70c38e5ebf1025d8b inherit pub_types_classrabit_1_1engine_1_1IEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preprocessing function, that is called before AllReduce, used to prepare the data used by AllReduce.  <br /></td></tr>
<tr class="separator:a81d49a1de53963a70c38e5ebf1025d8b inherit pub_types_classrabit_1_1engine_1_1IEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f8113cd6e05949b68fb7b1d23b4e9cf inherit pub_types_classrabit_1_1engine_1_1IEngine" id="r_a8f8113cd6e05949b68fb7b1d23b4e9cf"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrabit_1_1engine_1_1IEngine.html#a8f8113cd6e05949b68fb7b1d23b4e9cf">ReduceFunction</a>(const void *src, void *dst, int count, const <a class="el" href="classMPI_1_1Datatype.html">MPI::Datatype</a> &amp;dtype)</td></tr>
<tr class="memdesc:a8f8113cd6e05949b68fb7b1d23b4e9cf inherit pub_types_classrabit_1_1engine_1_1IEngine"><td class="mdescLeft">&#160;</td><td class="mdescRight">reduce function, the same form of MPI reduce function is used, to be compatible with MPI interface In all the functions, the memory is ensured to aligned to 64-bit which means it is OK to cast src,dst to double* int* etc  <br /></td></tr>
<tr class="separator:a8f8113cd6e05949b68fb7b1d23b4e9cf inherit pub_types_classrabit_1_1engine_1_1IEngine"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>implementation of basic Allreduce engine </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="af3d38ae375d83c5eadd2ec948374ead1" name="af3d38ae375d83c5eadd2ec948374ead1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3d38ae375d83c5eadd2ec948374ead1">&#9670;&#160;</a></span>ReturnTypeEnum</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#af3d38ae375d83c5eadd2ec948374ead1">rabit::engine::AllreduceBase::ReturnTypeEnum</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>enumeration of possible returning results from Try functions </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af3d38ae375d83c5eadd2ec948374ead1aa1520a748ea9ff0b995d48c378132dd0" name="af3d38ae375d83c5eadd2ec948374ead1aa1520a748ea9ff0b995d48c378132dd0"></a>kSuccess&#160;</td><td class="fielddoc"><p>execution is successful </p>
</td></tr>
<tr><td class="fieldname"><a id="af3d38ae375d83c5eadd2ec948374ead1a7b5ee55f4fd4f4bfee624cec99107441" name="af3d38ae375d83c5eadd2ec948374ead1a7b5ee55f4fd4f4bfee624cec99107441"></a>kConnReset&#160;</td><td class="fielddoc"><p>a link was reset by peer </p>
</td></tr>
<tr><td class="fieldname"><a id="af3d38ae375d83c5eadd2ec948374ead1a21be1370a1e27c862741a92d7abfd5fe" name="af3d38ae375d83c5eadd2ec948374ead1a21be1370a1e27c862741a92d7abfd5fe"></a>kRecvZeroLen&#160;</td><td class="fielddoc"><p>received a zero length message </p>
</td></tr>
<tr><td class="fieldname"><a id="af3d38ae375d83c5eadd2ec948374ead1a5d9619931f95c1319c86d7d78c6f26d2" name="af3d38ae375d83c5eadd2ec948374ead1a5d9619931f95c1319c86d7d78c6f26d2"></a>kSockError&#160;</td><td class="fielddoc"><p>a neighbor node go down, the connection is dropped </p>
</td></tr>
<tr><td class="fieldname"><a id="af3d38ae375d83c5eadd2ec948374ead1a3172030c3d0500d87479d38331f1d90d" name="af3d38ae375d83c5eadd2ec948374ead1a3172030c3d0500d87479d38331f1d90d"></a>kGetExcept&#160;</td><td class="fielddoc"><p>another node which is not my neighbor go down, get Out-of-Band exception notification from my neighbor </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae8f5666b0270f571c8ed7a22eee384c7" name="ae8f5666b0270f571c8ed7a22eee384c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8f5666b0270f571c8ed7a22eee384c7">&#9670;&#160;</a></span>Allgather()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rabit::engine::AllreduceBase::Allgather </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sendrecvbuf_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>total_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>slice_begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>slice_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size_prev_slice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>internal Allgather function, each node have a segment of data in the ring of sendrecvbuf, the data provided by current node k is [slice_begin, slice_end), the next node's segment must start with slice_end after the call of Allgather, sendrecvbuf_ contains all the contents including all segments use a ring based algorithm </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sendrecvbuf_</td><td>buffer for both sending and receiving data, it is a ring conceptually </td></tr>
    <tr><td class="paramname">total_size</td><td>total size of data to be gathered </td></tr>
    <tr><td class="paramname">slice_begin</td><td>beginning of the current slice </td></tr>
    <tr><td class="paramname">slice_end</td><td>end of the current slice </td></tr>
    <tr><td class="paramname">size_prev_slice</td><td>size of the previous slice i.e. slice of node (rank - 1) % world_size </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classrabit_1_1engine_1_1IEngine.html#af837a184b4d75c420f5bdd5ab57c112c">rabit::engine::IEngine</a>.</p>

<p>Reimplemented in <a class="el" href="classrabit_1_1engine_1_1AllreduceMock.html#a808fba0e6ab4575fd31b92f5d13ebdf8">rabit::engine::AllreduceMock</a>.</p>

</div>
</div>
<a id="a8ae6d845feb208168bcfc1a3e1ed7ead" name="a8ae6d845feb208168bcfc1a3e1ed7ead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae6d845feb208168bcfc1a3e1ed7ead">&#9670;&#160;</a></span>Allreduce()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rabit::engine::AllreduceBase::Allreduce </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sendrecvbuf_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>type_nbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrabit_1_1engine_1_1IEngine.html#a8f8113cd6e05949b68fb7b1d23b4e9cf">ReduceFunction</a>&#160;</td>
          <td class="paramname"><em>reducer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrabit_1_1engine_1_1IEngine.html#a81d49a1de53963a70c38e5ebf1025d8b">PreprocFunction</a>&#160;</td>
          <td class="paramname"><em>prepare_fun</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>prepare_arg</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>perform in-place allreduce, on sendrecvbuf this function is NOT thread-safe </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sendrecvbuf_</td><td>buffer for both sending and receiving data </td></tr>
    <tr><td class="paramname">type_nbytes</td><td>the unit number of bytes the type have </td></tr>
    <tr><td class="paramname">count</td><td>number of elements to be reduced </td></tr>
    <tr><td class="paramname">reducer</td><td>reduce function </td></tr>
    <tr><td class="paramname">prepare_func</td><td>Lazy preprocessing function, lazy prepare_fun(prepare_arg) will be called by the function before performing Allreduce, to initialize the data in sendrecvbuf_. If the result of Allreduce can be recovered directly, then prepare_func will NOT be called </td></tr>
    <tr><td class="paramname">prepare_arg</td><td>argument used to passed into the lazy preprocessing function </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classrabit_1_1engine_1_1IEngine.html#a1300b4cc1ecf010298c11d576d38d417">rabit::engine::IEngine</a>.</p>

<p>Reimplemented in <a class="el" href="classrabit_1_1engine_1_1AllreduceMock.html#a409281d61968d094290d3a945736bb47">rabit::engine::AllreduceMock</a>.</p>

</div>
</div>
<a id="aabf58aec0b3b44ca29f44a17509c1e32" name="aabf58aec0b3b44ca29f44a17509c1e32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabf58aec0b3b44ca29f44a17509c1e32">&#9670;&#160;</a></span>Broadcast()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rabit::engine::AllreduceBase::Broadcast </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sendrecvbuf_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>total_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>broadcast data from root to all nodes </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sendrecvbuf_</td><td>buffer for both sending and receiving data </td></tr>
    <tr><td class="paramname">size</td><td>the size of the data to be broadcasted </td></tr>
    <tr><td class="paramname">root</td><td>the root worker id to broadcast the data </td></tr>
    <tr><td class="paramname">_file</td><td>caller file name used to generate unique cache key </td></tr>
    <tr><td class="paramname">_line</td><td>caller line number used to generate unique cache key </td></tr>
    <tr><td class="paramname">_caller</td><td>caller function name used to generate unique cache key </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classrabit_1_1engine_1_1IEngine.html#ab0f3fd37fc853fbd80268b6e11e03776">rabit::engine::IEngine</a>.</p>

<p>Reimplemented in <a class="el" href="classrabit_1_1engine_1_1AllreduceMock.html#a66d0ca1285f4045fb5f38464651daa48">rabit::engine::AllreduceMock</a>.</p>

</div>
</div>
<a id="a3196d2b9f1f1d1d4ccfd6ac6ef5a90db" name="a3196d2b9f1f1d1d4ccfd6ac6ef5a90db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3196d2b9f1f1d1d4ccfd6ac6ef5a90db">&#9670;&#160;</a></span>CheckPoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rabit::engine::AllreduceBase::CheckPoint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increase internal version number. Deprecated. </p>

<p>Implements <a class="el" href="classrabit_1_1engine_1_1IEngine.html#ae2dbc389342dfeaa2a0422cfa9e07d7a">rabit::engine::IEngine</a>.</p>

<p>Reimplemented in <a class="el" href="classrabit_1_1engine_1_1AllreduceMock.html#a5e31d59143b86780bd9e1794043e25ac">rabit::engine::AllreduceMock</a>.</p>

</div>
</div>
<a id="a898df9406dc0956a43e4bf28350284e5" name="a898df9406dc0956a43e4bf28350284e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a898df9406dc0956a43e4bf28350284e5">&#9670;&#160;</a></span>ConnectTracker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classxgboost_1_1collective_1_1TCPSocket.html">xgboost::collective::TCPSocket</a> rabit::engine::AllreduceBase::ConnectTracker </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>initialize connection to the tracker </p>
<dl class="section return"><dt>Returns</dt><dd>a socket that initializes the connection </dd></dl>

</div>
</div>
<a id="a7290c5ffd5b43a3a893b96498fadf840" name="a7290c5ffd5b43a3a893b96498fadf840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7290c5ffd5b43a3a893b96498fadf840">&#9670;&#160;</a></span>GetHost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string rabit::engine::AllreduceBase::GetHost </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get rank </p>

<p>Implements <a class="el" href="classrabit_1_1engine_1_1IEngine.html#ad1c300d4bcd27125eb9e27b1e88b1f67">rabit::engine::IEngine</a>.</p>

</div>
</div>
<a id="aa8e8c285c20a249eac8fdef64ba23f95" name="aa8e8c285c20a249eac8fdef64ba23f95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8e8c285c20a249eac8fdef64ba23f95">&#9670;&#160;</a></span>GetRank()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rabit::engine::AllreduceBase::GetRank </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get rank </p>

<p>Implements <a class="el" href="classrabit_1_1engine_1_1IEngine.html#a69a07d46e13fc69b855d4c844cfd774f">rabit::engine::IEngine</a>.</p>

</div>
</div>
<a id="a7d1f8a466f116f092165a6db9443bc57" name="a7d1f8a466f116f092165a6db9443bc57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d1f8a466f116f092165a6db9443bc57">&#9670;&#160;</a></span>GetRingPrevRank()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rabit::engine::AllreduceBase::GetRingPrevRank </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get rank of previous node in ring topology </p>

<p>Implements <a class="el" href="classrabit_1_1engine_1_1IEngine.html#adacfd0f9fc8cdf154644576d271dd049">rabit::engine::IEngine</a>.</p>

</div>
</div>
<a id="a06b14b20b4f75ddf15c315f8dab50f19" name="a06b14b20b4f75ddf15c315f8dab50f19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06b14b20b4f75ddf15c315f8dab50f19">&#9670;&#160;</a></span>GetWorldSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rabit::engine::AllreduceBase::GetWorldSize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get rank </p>

<p>Implements <a class="el" href="classrabit_1_1engine_1_1IEngine.html#ab88af1f07c20aead165112095e2ce097">rabit::engine::IEngine</a>.</p>

</div>
</div>
<a id="ac6d7e21b533243a033aa1f24f0405961" name="ac6d7e21b533243a033aa1f24f0405961"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6d7e21b533243a033aa1f24f0405961">&#9670;&#160;</a></span>IsDistributed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool rabit::engine::AllreduceBase::IsDistributed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>whether is distributed or not </p>

<p>Implements <a class="el" href="classrabit_1_1engine_1_1IEngine.html#a102b89576b26704b8264a9df6ad47dfb">rabit::engine::IEngine</a>.</p>

</div>
</div>
<a id="ab665123f39f79121065a67e860bbbb7b" name="ab665123f39f79121065a67e860bbbb7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab665123f39f79121065a67e860bbbb7b">&#9670;&#160;</a></span>LoadCheckPoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rabit::engine::AllreduceBase::LoadCheckPoint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>deprecated </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a3196d2b9f1f1d1d4ccfd6ac6ef5a90db" title="Increase internal version number. Deprecated.">CheckPoint</a>, <a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a63d3f1dce689dc6491dbaa3756e2fb68">VersionNumber</a> </dd></dl>

<p>Implements <a class="el" href="classrabit_1_1engine_1_1IEngine.html#aac14aef8d630db947512a7b4dcea9ca0">rabit::engine::IEngine</a>.</p>

<p>Reimplemented in <a class="el" href="classrabit_1_1engine_1_1AllreduceMock.html#ab8a3652fb21ed149a313a2913db8cc4b">rabit::engine::AllreduceMock</a>.</p>

</div>
</div>
<a id="abcfcf207a6b40239c437522a284d8ff0" name="abcfcf207a6b40239c437522a284d8ff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcfcf207a6b40239c437522a284d8ff0">&#9670;&#160;</a></span>ReConnectLinks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool rabit::engine::AllreduceBase::ReConnectLinks </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em> = <code>&quot;start&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>connect to the tracker to fix the the missing links this function is also used when the engine start up </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>possible command to sent to tracker </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a340b95621b59c3bc5e9cf91f5f754f12" name="a340b95621b59c3bc5e9cf91f5f754f12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a340b95621b59c3bc5e9cf91f5f754f12">&#9670;&#160;</a></span>ReportError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">ReturnType</a> rabit::engine::AllreduceBase::ReportError </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1LinkRecord.html">LinkRecord</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">ReturnType</a>&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>function used to report error when a link goes wrong </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">link</td><td>the pointer to the link who causes the error </td></tr>
    <tr><td class="paramname">err</td><td>the error type </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a88398ac17402e872418b676cf291b97b" name="a88398ac17402e872418b676cf291b97b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88398ac17402e872418b676cf291b97b">&#9670;&#160;</a></span>SetParam()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rabit::engine::AllreduceBase::SetParam </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set parameters to the engine </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>parameter name </td></tr>
    <tr><td class="paramname">val</td><td>parameter value </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classrabit_1_1engine_1_1AllreduceMock.html#af1c4529a15cf95c555538baba6632e1b">rabit::engine::AllreduceMock</a>.</p>

</div>
</div>
<a id="a2d9be819d4f34e9a1a0f144a61f5ea5e" name="a2d9be819d4f34e9a1a0f144a61f5ea5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d9be819d4f34e9a1a0f144a61f5ea5e">&#9670;&#160;</a></span>TrackerPrint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rabit::engine::AllreduceBase::TrackerPrint </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>print the msg in the tracker, this function can be used to communicate the information of the progress to the user who monitors the tracker </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>message to be printed in the tracker </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classrabit_1_1engine_1_1IEngine.html#a31152e8739203b08087e2838c41d5548">rabit::engine::IEngine</a>.</p>

</div>
</div>
<a id="a4ab2aa43c249a8d5db28ec1de64f7db9" name="a4ab2aa43c249a8d5db28ec1de64f7db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ab2aa43c249a8d5db28ec1de64f7db9">&#9670;&#160;</a></span>TryAllgatherRing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">AllreduceBase::ReturnType</a> rabit::engine::AllreduceBase::TryAllgatherRing </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sendrecvbuf_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>total_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>slice_begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>slice_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size_prev_slice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>internal Allgather function, each node have a segment of data in the ring of sendrecvbuf, the data provided by current node k is [slice_begin, slice_end), the next node's segment must start with slice_end after the call of Allgather, sendrecvbuf_ contains all the contents including all segments use a ring based algorithm </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sendrecvbuf_</td><td>buffer for both sending and receiving data, it is a ring conceptually </td></tr>
    <tr><td class="paramname">total_size</td><td>total size of data to be gathered </td></tr>
    <tr><td class="paramname">slice_begin</td><td>beginning of the current slice </td></tr>
    <tr><td class="paramname">slice_end</td><td>end of the current slice </td></tr>
    <tr><td class="paramname">size_prev_slice</td><td>size of the previous slice i.e. slice of node (rank - 1) % world_size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>this function can return kSuccess, kSockError, kGetExcept, see <a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a> for details </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sendrecvbuf_</td><td>buffer for both sending and receiving data, it is a ring conceptually </td></tr>
    <tr><td class="paramname">total_size</td><td>total size of data to be gathered </td></tr>
    <tr><td class="paramname">slice_begin</td><td>beginning of the current slice </td></tr>
    <tr><td class="paramname">slice_end</td><td>end of the current slice </td></tr>
    <tr><td class="paramname">size_prev_slice</td><td>size of the previous slice i.e. slice of node (rank - 1) % world_size </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5f56797c87ba6d2d7eaff17e4819500a" name="a5f56797c87ba6d2d7eaff17e4819500a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f56797c87ba6d2d7eaff17e4819500a">&#9670;&#160;</a></span>TryAllreduce()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">AllreduceBase::ReturnType</a> rabit::engine::AllreduceBase::TryAllreduce </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sendrecvbuf_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>type_nbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrabit_1_1engine_1_1IEngine.html#a8f8113cd6e05949b68fb7b1d23b4e9cf">ReduceFunction</a>&#160;</td>
          <td class="paramname"><em>reducer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>perform in-place allreduce, on sendrecvbuf, this function can fail, and will return the cause of failure </p>
<p>NOTE on Allreduce: The kSuccess TryAllreduce does NOT mean every node have successfully finishes TryAllreduce. It only means the current node get the correct result of Allreduce. However, it means every node finishes LAST call(instead of this one) of Allreduce/Bcast</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sendrecvbuf_</td><td>buffer for both sending and receiving data </td></tr>
    <tr><td class="paramname">type_nbytes</td><td>the unit number of bytes the type have </td></tr>
    <tr><td class="paramname">count</td><td>number of elements to be reduced </td></tr>
    <tr><td class="paramname">reducer</td><td>reduce function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>this function can return kSuccess, kSockError, kGetExcept, see <a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a> for details </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a> </dd></dl>

</div>
</div>
<a id="ab2993d70419a47595f16114a2799e311" name="ab2993d70419a47595f16114a2799e311"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2993d70419a47595f16114a2799e311">&#9670;&#160;</a></span>TryAllreduceRing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">AllreduceBase::ReturnType</a> rabit::engine::AllreduceBase::TryAllreduceRing </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sendrecvbuf_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>type_nbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrabit_1_1engine_1_1IEngine.html#a8f8113cd6e05949b68fb7b1d23b4e9cf">ReduceFunction</a>&#160;</td>
          <td class="paramname"><em>reducer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>perform in-place allreduce, on sendrecvbuf use a ring based algorithm, reduce-scatter + allgather </p>
<p>perform in-place allreduce, on sendrecvbuf use a ring based algorithm</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sendrecvbuf_</td><td>buffer for both sending and receiving data </td></tr>
    <tr><td class="paramname">type_nbytes</td><td>the unit number of bytes the type have </td></tr>
    <tr><td class="paramname">count</td><td>number of elements to be reduced </td></tr>
    <tr><td class="paramname">reducer</td><td>reduce function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>this function can return kSuccess, kSockError, kGetExcept, see <a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a> for details </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a> </dd></dl>

</div>
</div>
<a id="a2ffbde890b4e55ebbd5fe95984e6b061" name="a2ffbde890b4e55ebbd5fe95984e6b061"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ffbde890b4e55ebbd5fe95984e6b061">&#9670;&#160;</a></span>TryAllreduceTree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">AllreduceBase::ReturnType</a> rabit::engine::AllreduceBase::TryAllreduceTree </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sendrecvbuf_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>type_nbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrabit_1_1engine_1_1IEngine.html#a8f8113cd6e05949b68fb7b1d23b4e9cf">ReduceFunction</a>&#160;</td>
          <td class="paramname"><em>reducer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>perform in-place allreduce, on sendrecvbuf, this function implements tree-shape reduction </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sendrecvbuf_</td><td>buffer for both sending and receiving data </td></tr>
    <tr><td class="paramname">type_nbytes</td><td>the unit number of bytes the type have </td></tr>
    <tr><td class="paramname">count</td><td>number of elements to be reduced </td></tr>
    <tr><td class="paramname">reducer</td><td>reduce function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>this function can return kSuccess, kSockError, kGetExcept, see <a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a> for details </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a> </dd></dl>

</div>
</div>
<a id="a24d8926e1277018dbec87dbaaad3737f" name="a24d8926e1277018dbec87dbaaad3737f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24d8926e1277018dbec87dbaaad3737f">&#9670;&#160;</a></span>TryBroadcast()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">AllreduceBase::ReturnType</a> rabit::engine::AllreduceBase::TryBroadcast </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sendrecvbuf_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>total_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>broadcast data from root to all nodes, this function can fail,and will return the cause of failure </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sendrecvbuf_</td><td>buffer for both sending and receiving data </td></tr>
    <tr><td class="paramname">size</td><td>the size of the data to be broadcasted </td></tr>
    <tr><td class="paramname">root</td><td>the root worker id to broadcast the data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>this function can return kSuccess, kSockError, kGetExcept, see <a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a> for details </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sendrecvbuf_</td><td>buffer for both sending and receiving data </td></tr>
    <tr><td class="paramname">total_size</td><td>the size of the data to be broadcasted </td></tr>
    <tr><td class="paramname">root</td><td>the root worker id to broadcast the data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>this function can return kSuccess, kSockError, kGetExcept, see <a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a> for details </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a> </dd></dl>

</div>
</div>
<a id="a2369393464f90b039506c338ca1b657f" name="a2369393464f90b039506c338ca1b657f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2369393464f90b039506c338ca1b657f">&#9670;&#160;</a></span>TryReduceScatterRing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html">AllreduceBase::ReturnType</a> rabit::engine::AllreduceBase::TryReduceScatterRing </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sendrecvbuf_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>type_nbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrabit_1_1engine_1_1IEngine.html#a8f8113cd6e05949b68fb7b1d23b4e9cf">ReduceFunction</a>&#160;</td>
          <td class="paramname"><em>reducer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>perform in-place allreduce, reduce on the sendrecvbuf, </p>
<p>perform in-place allreduce, on sendrecvbuf, this function can fail, and will return the cause of failure</p>
<p>after the function, node k get k-th segment of the reduction result the k-th segment is defined by [k * step, min((k + 1) * step,count) ) where step = ceil(count / world_size)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sendrecvbuf_</td><td>buffer for both sending and receiving data </td></tr>
    <tr><td class="paramname">type_nbytes</td><td>the unit number of bytes the type have </td></tr>
    <tr><td class="paramname">count</td><td>number of elements to be reduced </td></tr>
    <tr><td class="paramname">reducer</td><td>reduce function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>this function can return kSuccess, kSockError, kGetExcept, see <a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a> for details </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a>, <a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a5f56797c87ba6d2d7eaff17e4819500a" title="perform in-place allreduce, on sendrecvbuf, this function can fail, and will return the cause of fail...">TryAllreduce</a></dd></dl>
<p>Ring-based algorithm</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sendrecvbuf_</td><td>buffer for both sending and receiving data </td></tr>
    <tr><td class="paramname">type_nbytes</td><td>the unit number of bytes the type have </td></tr>
    <tr><td class="paramname">count</td><td>number of elements to be reduced </td></tr>
    <tr><td class="paramname">reducer</td><td>reduce function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>this function can return kSuccess, kSockError, kGetExcept, see <a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a> for details </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structrabit_1_1engine_1_1AllreduceBase_1_1ReturnType.html" title="struct return type to avoid implicit conversion to int/bool">ReturnType</a>, <a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a5f56797c87ba6d2d7eaff17e4819500a" title="perform in-place allreduce, on sendrecvbuf, this function can fail, and will return the cause of fail...">TryAllreduce</a> </dd></dl>

</div>
</div>
<a id="a63d3f1dce689dc6491dbaa3756e2fb68" name="a63d3f1dce689dc6491dbaa3756e2fb68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63d3f1dce689dc6491dbaa3756e2fb68">&#9670;&#160;</a></span>VersionNumber()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rabit::engine::AllreduceBase::VersionNumber </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>version number of current stored model, which means how many calls to CheckPoint we made so far </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#ab665123f39f79121065a67e860bbbb7b" title="deprecated">LoadCheckPoint</a>, <a class="el" href="classrabit_1_1engine_1_1AllreduceBase.html#a3196d2b9f1f1d1d4ccfd6ac6ef5a90db" title="Increase internal version number. Deprecated.">CheckPoint</a> </dd></dl>

<p>Implements <a class="el" href="classrabit_1_1engine_1_1IEngine.html#ab0e37b9b3be772566f4b54675672975a">rabit::engine::IEngine</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>External/xgboost/rabit/src/<a class="el" href="allreduce__base_8h_source.html">allreduce_base.h</a></li>
<li>External/xgboost/rabit/src/<a class="el" href="allreduce__base_8cc.html">allreduce_base.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 5 2025 13:00:19 for Medial Code Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
