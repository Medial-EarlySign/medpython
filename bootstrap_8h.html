<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Medial Code Documentation: Internal/MedStat/MedStat/bootstrap.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Medial Code Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_fe10b436a84a20bae4af599f57964cc6.html">Internal</a></li><li class="navelem"><a class="el" href="dir_1d193ba1b3ed2c3c8b2f8275191afb1e.html">MedStat</a></li><li class="navelem"><a class="el" href="dir_c98538d2b07f04e5d76ee5025673d88f.html">MedStat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">bootstrap.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This is the infrastracture of bootstrap.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;vector&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;random&gt;</code><br />
<code>#include &lt;<a class="el" href="MedTime_8h_source.html">MedTime/MedTime/MedTime.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="SerializableObject_8h_source.html">SerializableObject/SerializableObject/SerializableObject.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="Logger_8h_source.html">Logger/Logger/Logger.h</a>&gt;</code><br />
<code>#include &lt;MedStat/MedStat/MedStat.h&gt;</code><br />
</div>
<p><a href="bootstrap_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class which fetches the samples in bootstrap manner in lazy way.  <a href="classLazy__Iterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMem__Iterator.html">Mem_Iterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class which fetches the samples in bootstrap manner in memort way.  <a href="classMem__Iterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMeasurement__Params.html">Measurement_Params</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A base class for measurements parameter.  <a href="classMeasurement__Params.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIncident__Stats.html">Incident_Stats</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Incident Object which holds the gender, age incidence stats.  <a href="classIncident__Stats.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classROC__Params.html">ROC_Params</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameter object for calc_roc_measures functions.  <a href="classROC__Params.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMulticlass__Params.html">Multiclass_Params</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameter object for Multiclass measure functions.  <a href="classMulticlass__Params.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRegression__Params.html">Regression_Params</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameter object for Regression measure functions.  <a href="classRegression__Params.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFilter__Param.html">Filter_Param</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameter object for filter_params functions.  <a href="classFilter__Param.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structROC__And__Filter__Params.html">ROC_And_Filter_Params</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a56de3493e58e56897976b74558929ed0" id="r_a56de3493e58e56897976b74558929ed0"><td class="memItemLeft" align="right" valign="top">typedef map&lt; string, float &gt;(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#a56de3493e58e56897976b74558929ed0">MeasurementFunctions</a>) (<a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *iterator, int thread_num, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *function_params)</td></tr>
<tr class="memdesc:a56de3493e58e56897976b74558929ed0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function which recieves <a class="el" href="classLazy__Iterator.html" title="A class which fetches the samples in bootstrap manner in lazy way.">Lazy_Iterator</a> and the thread num for iterating the predictions and labels.  <br /></td></tr>
<tr class="separator:a56de3493e58e56897976b74558929ed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8b4faa5c45e18d9fc95c231a5cad096" id="r_ac8b4faa5c45e18d9fc95c231a5cad096"><td class="memItemLeft" align="right" valign="top"><a id="ac8b4faa5c45e18d9fc95c231a5cad096" name="ac8b4faa5c45e18d9fc95c231a5cad096"></a>
typedef bool(*&#160;</td><td class="memItemRight" valign="bottom"><b>FilterCohortFunc</b>) (const map&lt; string, vector&lt; float &gt; &gt; &amp;record_info, int index, void *cohort_params)</td></tr>
<tr class="memdesc:ac8b4faa5c45e18d9fc95c231a5cad096"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function which recieves map from feature name to vector of all samples value, sample index and cohort definition params and return true\false if to include the sample in the cohort. <br /></td></tr>
<tr class="separator:ac8b4faa5c45e18d9fc95c231a5cad096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a172ef1a65bc921e1492d9da891ef5a0b" id="r_a172ef1a65bc921e1492d9da891ef5a0b"><td class="memItemLeft" align="right" valign="top"><a id="a172ef1a65bc921e1492d9da891ef5a0b" name="a172ef1a65bc921e1492d9da891ef5a0b"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>ProcessMeasurementParamFunc</b>) (const map&lt; string, vector&lt; float &gt; &gt; &amp;additional_info, const vector&lt; float &gt; &amp;y, const vector&lt; int &gt; &amp;pids, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *function_params, const vector&lt; int &gt; &amp;filtered_indexes, const vector&lt; float &gt; &amp;y_full, const vector&lt; int &gt; &amp;pids_full)</td></tr>
<tr class="memdesc:a172ef1a65bc921e1492d9da891ef5a0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">a function to process and maniplulate function params based on the given cohort - for example sotring incedince information for the cohort <br /></td></tr>
<tr class="separator:a172ef1a65bc921e1492d9da891ef5a0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d44c9600eff599a14602c273fb9416" id="r_ac2d44c9600eff599a14602c273fb9416"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#ac2d44c9600eff599a14602c273fb9416">PreprocessScoresFunc</a>) (vector&lt; float &gt; &amp;preds, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *function_params)</td></tr>
<tr class="memdesc:ac2d44c9600eff599a14602c273fb9416"><td class="mdescLeft">&#160;</td><td class="mdescRight">a funtion to preprocess the prediction scores (binning for example to speed up bootstrap).  <br /></td></tr>
<tr class="separator:ac2d44c9600eff599a14602c273fb9416"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afe3de0a4a8aba5aac6d1c2e8395393d9" id="r_afe3de0a4a8aba5aac6d1c2e8395393d9"><td class="memItemLeft" align="right" valign="top">map&lt; string, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#afe3de0a4a8aba5aac6d1c2e8395393d9">calc_npos_nneg</a> (<a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *iterator, int thread_num, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *function_params)</td></tr>
<tr class="memdesc:afe3de0a4a8aba5aac6d1c2e8395393d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Function to calculate only NPOS,NNEG (already calculated in calc_roc_measures_with_inc).  <br /></td></tr>
<tr class="separator:afe3de0a4a8aba5aac6d1c2e8395393d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb63fe969dd112432556c0d2cf1e0cb7" id="r_aeb63fe969dd112432556c0d2cf1e0cb7"><td class="memItemLeft" align="right" valign="top">map&lt; string, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#aeb63fe969dd112432556c0d2cf1e0cb7">calc_only_auc</a> (<a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *iterator, int thread_num, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *function_params)</td></tr>
<tr class="memdesc:aeb63fe969dd112432556c0d2cf1e0cb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Function to calculate only AUC (already calculated in calc_roc_measures_with_inc).  <br /></td></tr>
<tr class="separator:aeb63fe969dd112432556c0d2cf1e0cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f6a63829d76c175d24e19c990115259" id="r_a1f6a63829d76c175d24e19c990115259"><td class="memItemLeft" align="right" valign="top">map&lt; string, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#a1f6a63829d76c175d24e19c990115259">calc_roc_measures_with_inc</a> (<a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *iterator, int thread_num, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *function_params)</td></tr>
<tr class="memdesc:a1f6a63829d76c175d24e19c990115259"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Function to calculate all roc measurements- AUC, Sensitivity, speceficity positive rate, ppv...<br  />
Implements MeasurementFunctions signature function.  <br /></td></tr>
<tr class="separator:a1f6a63829d76c175d24e19c990115259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a685ebe1375ed6610c861a956918ea1" id="r_a7a685ebe1375ed6610c861a956918ea1"><td class="memItemLeft" align="right" valign="top">map&lt; string, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#a7a685ebe1375ed6610c861a956918ea1">calc_kandel_tau</a> (<a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *iterator, int thread_num, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *function_params)</td></tr>
<tr class="memdesc:a7a685ebe1375ed6610c861a956918ea1"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Function to calculate calc_kandel_tau Implements MeasurementFunctions signature function.  <br /></td></tr>
<tr class="separator:a7a685ebe1375ed6610c861a956918ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad49813b63862bfbcf881e9b9832fe58d" id="r_ad49813b63862bfbcf881e9b9832fe58d"><td class="memItemLeft" align="right" valign="top">map&lt; string, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#ad49813b63862bfbcf881e9b9832fe58d">calc_multi_class</a> (<a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *iterator, int thread_num, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *function_params)</td></tr>
<tr class="memdesc:ad49813b63862bfbcf881e9b9832fe58d"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Function to calculate performance measurements for multicategory Implements MeasurementFunctions signature function.  <br /></td></tr>
<tr class="separator:ad49813b63862bfbcf881e9b9832fe58d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe956c78e155f24f88e840733da8475a" id="r_afe956c78e155f24f88e840733da8475a"><td class="memItemLeft" align="right" valign="top">map&lt; string, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#afe956c78e155f24f88e840733da8475a">calc_harrell_c_statistic</a> (<a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *iterator, int thread_num, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *function_params)</td></tr>
<tr class="memdesc:afe956c78e155f24f88e840733da8475a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Function to calculate performance measurements for harrell c statistic Implements MeasurementFunctions signature function Encoding: Case/Control =&gt; effect outcome/y sign.  <br /></td></tr>
<tr class="separator:afe956c78e155f24f88e840733da8475a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f4548d08d839bbec7a441c617e2d094" id="r_a4f4548d08d839bbec7a441c617e2d094"><td class="memItemLeft" align="right" valign="top">map&lt; string, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#a4f4548d08d839bbec7a441c617e2d094">calc_regression</a> (<a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *iterator, int thread_num, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *function_params)</td></tr>
<tr class="memdesc:a4f4548d08d839bbec7a441c617e2d094"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Function to calculate performance measurements for regression problems Implements MeasurementFunctions signature function Accepted Regresion_Params.  <br /></td></tr>
<tr class="separator:a4f4548d08d839bbec7a441c617e2d094"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d18241323b405cc359e5dff2c5ec29" id="r_a91d18241323b405cc359e5dff2c5ec29"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#a91d18241323b405cc359e5dff2c5ec29">filter_range_param</a> (const map&lt; string, vector&lt; float &gt; &gt; &amp;record_info, int index, void *cohort_params)</td></tr>
<tr class="memdesc:a91d18241323b405cc359e5dff2c5ec29"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function to filter samples based on single <a class="el" href="classFilter__Param.html" title="Parameter object for filter_params functions.">Filter_Param</a> object.  <br /></td></tr>
<tr class="separator:a91d18241323b405cc359e5dff2c5ec29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa60c9e921a7f91eb59defa55b46e78a7" id="r_aa60c9e921a7f91eb59defa55b46e78a7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#aa60c9e921a7f91eb59defa55b46e78a7">filter_range_params</a> (const map&lt; string, vector&lt; float &gt; &gt; &amp;record_info, int index, void *cohort_params)</td></tr>
<tr class="memdesc:aa60c9e921a7f91eb59defa55b46e78a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function to filter samples based on multipal <a class="el" href="classFilter__Param.html" title="Parameter object for filter_params functions.">Filter_Param</a> objects - in a vector with and condition between each parameter range.  <br /></td></tr>
<tr class="separator:aa60c9e921a7f91eb59defa55b46e78a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6121d8e4900026f4d3d6b7b999832c2" id="r_ae6121d8e4900026f4d3d6b7b999832c2"><td class="memItemLeft" align="right" valign="top"><a id="ae6121d8e4900026f4d3d6b7b999832c2" name="ae6121d8e4900026f4d3d6b7b999832c2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fix_cohort_sample_incidence</b> (const map&lt; string, vector&lt; float &gt; &gt; &amp;additional_info, const vector&lt; float &gt; &amp;y, const vector&lt; int &gt; &amp;pids, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *function_params, const vector&lt; int &gt; &amp;filtered_indexes, const vector&lt; float &gt; &amp;y_full, const vector&lt; int &gt; &amp;pids_full)</td></tr>
<tr class="memdesc:ae6121d8e4900026f4d3d6b7b999832c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">a function to calculate the incidence in each cohort - preprocessing of function_params and storing the incidence inside of it. <br /></td></tr>
<tr class="separator:ae6121d8e4900026f4d3d6b7b999832c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a448339bf90b1771bdab441bd8c53ce9c" id="r_a448339bf90b1771bdab441bd8c53ce9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#a448339bf90b1771bdab441bd8c53ce9c">fix_cohort_sample_incidence_old</a> (const map&lt; string, vector&lt; float &gt; &gt; &amp;additional_info, const vector&lt; float &gt; &amp;y, const vector&lt; int &gt; &amp;pids, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *function_params, const vector&lt; int &gt; &amp;filtered_indexes, const vector&lt; float &gt; &amp;y_full, const vector&lt; int &gt; &amp;pids_full)</td></tr>
<tr class="memdesc:a448339bf90b1771bdab441bd8c53ce9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">a function to calculate the incidence in each cohort - preprocessing of function_params and storing the incidence inside of it.  <br /></td></tr>
<tr class="separator:a448339bf90b1771bdab441bd8c53ce9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96d169ac4e9e2bdba5362dee16cfdd56" id="r_a96d169ac4e9e2bdba5362dee16cfdd56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#a96d169ac4e9e2bdba5362dee16cfdd56">preprocess_bin_scores</a> (vector&lt; float &gt; &amp;preds, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *function_params)</td></tr>
<tr class="memdesc:a96d169ac4e9e2bdba5362dee16cfdd56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Binning function of scores based on <a class="el" href="classROC__Params.html" title="Parameter object for calc_roc_measures functions.">ROC_Params</a>.  <br /></td></tr>
<tr class="separator:a96d169ac4e9e2bdba5362dee16cfdd56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab90b2416d928e0756926bd1b2c20b8df" id="r_ab90b2416d928e0756926bd1b2c20b8df"><td class="memItemLeft" align="right" valign="top"><a id="ab90b2416d928e0756926bd1b2c20b8df" name="ab90b2416d928e0756926bd1b2c20b8df"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>format_working_point</b> (const string &amp;init_str, float wp, bool perc=true)</td></tr>
<tr class="memdesc:ab90b2416d928e0756926bd1b2c20b8df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format out measurement. <br /></td></tr>
<tr class="separator:ab90b2416d928e0756926bd1b2c20b8df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b50cd19de8a593b657a36eacd8e70e" id="r_a47b50cd19de8a593b657a36eacd8e70e"><td class="memItemLeft" align="right" valign="top"><a id="a47b50cd19de8a593b657a36eacd8e70e" name="a47b50cd19de8a593b657a36eacd8e70e"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>format_working_point_topn</b> (const string &amp;init_str, int wp, bool perc=true)</td></tr>
<tr class="separator:a47b50cd19de8a593b657a36eacd8e70e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03507ac41383826c4982426230b0377f" id="r_a03507ac41383826c4982426230b0377f"><td class="memItemLeft" align="right" valign="top"><a id="a03507ac41383826c4982426230b0377f" name="a03507ac41383826c4982426230b0377f"></a>
map&lt; string, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>booststrap_analyze_cohort</b> (const vector&lt; float &gt; &amp;preds, const vector&lt; int &gt; &amp;preds_order, const vector&lt; float &gt; &amp;y, const vector&lt; int &gt; &amp;pids, float sample_ratio, int sample_per_pid, int loopCnt, const vector&lt; <a class="el" href="bootstrap_8h.html#a56de3493e58e56897976b74558929ed0">MeasurementFunctions</a> &gt; &amp;meas_functions, const vector&lt; <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> * &gt; &amp;function_params, <a class="el" href="bootstrap_8h.html#a172ef1a65bc921e1492d9da891ef5a0b">ProcessMeasurementParamFunc</a> process_measurments_params, const map&lt; string, vector&lt; float &gt; &gt; &amp;additional_info, const vector&lt; float &gt; &amp;y_full, const vector&lt; int &gt; &amp;pids_full, const vector&lt; float &gt; *weights, const vector&lt; int &gt; &amp;filter_indexes, <a class="el" href="bootstrap_8h.html#ac8b4faa5c45e18d9fc95c231a5cad096">FilterCohortFunc</a> cohort_def, void *cohort_params, int &amp;warn_cnt, const string &amp;cohort_name, int seed=0)</td></tr>
<tr class="memdesc:a03507ac41383826c4982426230b0377f"><td class="mdescLeft">&#160;</td><td class="mdescRight">to run bootstrap on single cohort <br /></td></tr>
<tr class="separator:a03507ac41383826c4982426230b0377f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbee3eeaf5a990004f7f864a9448d735" id="r_acbee3eeaf5a990004f7f864a9448d735"><td class="memItemLeft" align="right" valign="top">map&lt; string, map&lt; string, float &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#acbee3eeaf5a990004f7f864a9448d735">booststrap_analyze</a> (const vector&lt; float &gt; &amp;preds, const vector&lt; int &gt; &amp;preds_order, const vector&lt; float &gt; &amp;y, const vector&lt; float &gt; *weights, const vector&lt; int &gt; &amp;pids, const map&lt; string, vector&lt; float &gt; &gt; &amp;additional_info, const map&lt; string, <a class="el" href="bootstrap_8h.html#ac8b4faa5c45e18d9fc95c231a5cad096">FilterCohortFunc</a> &gt; &amp;filter_cohort, const vector&lt; <a class="el" href="bootstrap_8h.html#a56de3493e58e56897976b74558929ed0">MeasurementFunctions</a> &gt; &amp;meas_functions={calc_roc_measures_with_inc}, const map&lt; string, void * &gt; *cohort_params=NULL, const vector&lt; <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> * &gt; *function_params=NULL, <a class="el" href="bootstrap_8h.html#a172ef1a65bc921e1492d9da891ef5a0b">ProcessMeasurementParamFunc</a> process_measurments_params=NULL, <a class="el" href="bootstrap_8h.html#ac2d44c9600eff599a14602c273fb9416">PreprocessScoresFunc</a> preprocess_scores=NULL, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *preprocess_scores_params=NULL, float sample_ratio=(float) 1.0, int sample_per_pid=1, int loopCnt=500, int seed=0, bool binary_outcome=true)</td></tr>
<tr class="memdesc:acbee3eeaf5a990004f7f864a9448d735"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main bootstrap function to run all bootstrap process with all the arguments.  <br /></td></tr>
<tr class="separator:acbee3eeaf5a990004f7f864a9448d735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a148b3953924839c96878dc23950d70" id="r_a2a148b3953924839c96878dc23950d70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#a2a148b3953924839c96878dc23950d70">prepare_for_bootstrap</a> (const vector&lt; int &gt; &amp;pids, const map&lt; string, vector&lt; float &gt; &gt; &amp;additional_info, <a class="el" href="bootstrap_8h.html#ac8b4faa5c45e18d9fc95c231a5cad096">FilterCohortFunc</a> &amp;filter_cohort, void *cohort_params, float sample_ratio, int sample_per_pid, int seed, vector&lt; int &gt; &amp;indexes)</td></tr>
<tr class="separator:a2a148b3953924839c96878dc23950d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0aaeab4b2d8b3ba5846c55d2fda6ab1" id="r_ac0aaeab4b2d8b3ba5846c55d2fda6ab1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#ac0aaeab4b2d8b3ba5846c55d2fda6ab1">write_bootstrap_results</a> (const string &amp;file_name, const map&lt; string, map&lt; string, float &gt; &gt; &amp;all_cohorts_measurments, const string &amp;run_id=&quot;&quot;)</td></tr>
<tr class="memdesc:ac0aaeab4b2d8b3ba5846c55d2fda6ab1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will output the bootstrap results into file in TAB delimeted format.  <br /></td></tr>
<tr class="separator:ac0aaeab4b2d8b3ba5846c55d2fda6ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21d7f746ee998d49583c5f24c4e1e2e" id="r_ad21d7f746ee998d49583c5f24c4e1e2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootstrap_8h.html#ad21d7f746ee998d49583c5f24c4e1e2e">read_bootstrap_results</a> (const string &amp;file_name, map&lt; string, map&lt; string, float &gt; &gt; &amp;all_cohorts_measurments)</td></tr>
<tr class="memdesc:ad21d7f746ee998d49583c5f24c4e1e2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will read the bootstrap results from file in TAB delimeted format.  <br /></td></tr>
<tr class="separator:ad21d7f746ee998d49583c5f24c4e1e2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a752be1f9fddf162299cab6f271a30db5" id="r_a752be1f9fddf162299cab6f271a30db5"><td class="memItemLeft" align="right" valign="top"><a id="a752be1f9fddf162299cab6f271a30db5" name="a752be1f9fddf162299cab6f271a30db5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>write_pivot_bootstrap_results</b> (const string &amp;file_name, const map&lt; string, map&lt; string, float &gt; &gt; &amp;all_cohorts_measurments, const string &amp;run_id=&quot;&quot;)</td></tr>
<tr class="memdesc:a752be1f9fddf162299cab6f271a30db5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will output the bootstrap results into file with the new format with columns: "Cohort$Measure_Name", "Value". <br /></td></tr>
<tr class="separator:a752be1f9fddf162299cab6f271a30db5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a159be57d4b60db785072e65aec83d82a" id="r_a159be57d4b60db785072e65aec83d82a"><td class="memItemLeft" align="right" valign="top"><a id="a159be57d4b60db785072e65aec83d82a" name="a159be57d4b60db785072e65aec83d82a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>read_pivot_bootstrap_results</b> (const string &amp;file_name, map&lt; string, map&lt; string, float &gt; &gt; &amp;all_cohorts_measurments)</td></tr>
<tr class="memdesc:a159be57d4b60db785072e65aec83d82a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will read the bootstrap results into file with the new format with columns: "Cohort$Measure_Name", "Value" &lt;//summary&gt; <br /></td></tr>
<tr class="separator:a159be57d4b60db785072e65aec83d82a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the infrastracture of bootstrap. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a56de3493e58e56897976b74558929ed0" name="a56de3493e58e56897976b74558929ed0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56de3493e58e56897976b74558929ed0">&#9670;&#160;</a></span>MeasurementFunctions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef map&lt; string, float &gt;(* MeasurementFunctions) (<a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *iterator, int thread_num, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *function_params)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function which recieves <a class="el" href="classLazy__Iterator.html" title="A class which fetches the samples in bootstrap manner in lazy way.">Lazy_Iterator</a> and the thread num for iterating the predictions and labels. </p>
<p>it also recieves function_params which are additional arguments for the function (can be working points defintions for example) </p>

</div>
</div>
<a id="ac2d44c9600eff599a14602c273fb9416" name="ac2d44c9600eff599a14602c273fb9416"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2d44c9600eff599a14602c273fb9416">&#9670;&#160;</a></span>PreprocessScoresFunc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* PreprocessScoresFunc) (vector&lt; float &gt; &amp;preds, <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *function_params)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a funtion to preprocess the prediction scores (binning for example to speed up bootstrap). </p>
<p>the function manipulate preds based on function_params </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="acbee3eeaf5a990004f7f864a9448d735" name="acbee3eeaf5a990004f7f864a9448d735"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbee3eeaf5a990004f7f864a9448d735">&#9670;&#160;</a></span>booststrap_analyze()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map&lt; string, map&lt; string, float &gt; &gt; booststrap_analyze </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>preds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>preds_order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; float &gt; *&#160;</td>
          <td class="paramname"><em>weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>pids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const map&lt; string, vector&lt; float &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>additional_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const map&lt; string, <a class="el" href="bootstrap_8h.html#ac8b4faa5c45e18d9fc95c231a5cad096">FilterCohortFunc</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>filter_cohort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; <a class="el" href="bootstrap_8h.html#a56de3493e58e56897976b74558929ed0">MeasurementFunctions</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>meas_functions</em> = <code>{calc_roc_measures_with_inc}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const map&lt; string, void * &gt; *&#160;</td>
          <td class="paramname"><em>cohort_params</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; <a class="el" href="classMeasurement__Params.html">Measurement_Params</a> * &gt; *&#160;</td>
          <td class="paramname"><em>function_params</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bootstrap_8h.html#a172ef1a65bc921e1492d9da891ef5a0b">ProcessMeasurementParamFunc</a>&#160;</td>
          <td class="paramname"><em>process_measurments_params</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bootstrap_8h.html#ac2d44c9600eff599a14602c273fb9416">PreprocessScoresFunc</a>&#160;</td>
          <td class="paramname"><em>preprocess_scores</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *&#160;</td>
          <td class="paramname"><em>preprocess_scores_params</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>sample_ratio</em> = <code>(float)&#160;1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sample_per_pid</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>loopCnt</em> = <code>500</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>seed</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>binary_outcome</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main bootstrap function to run all bootstrap process with all the arguments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">preds</td><td>vector of predictions </td></tr>
    <tr><td class="paramname">y</td><td>labels </td></tr>
    <tr><td class="paramname">pids</td><td>patient ids [used for random draws] </td></tr>
    <tr><td class="paramname">additional_info</td><td>Dictionary used to keep values of features [for filtering]. Key is the feature name. Val contains vector of feature values. </td></tr>
    <tr><td class="paramname">filter_cohort</td><td>Dictionary, where key is name of cohort, value is a function which performs the filtering [keeps only entries that belong to this cohort] </td></tr>
    <tr><td class="paramname">meas_functions</td><td>Vector of metrics to calculate per one bootstrap (?) experiment </td></tr>
    <tr><td class="paramname">cohort_params</td><td>Key: name of a cohort, Value: additional parameters which are passed to functions from filter_cohort.values </td></tr>
    <tr><td class="paramname">function_params</td><td>Configuration parameters passed to "meas_functions" (like 2 for F2 metric). </td></tr>
    <tr><td class="paramname">process_measurments_params</td><td>Function to process the function_params before running on each cohort (helps to calc incidence for example) </td></tr>
    <tr><td class="paramname">preprocess_scores</td><td>A function to preprocess all scores - for example binning the scores (can sometimes speedup metrics calculation) </td></tr>
    <tr><td class="paramname">preprocess_scores_params</td><td>Additional parameters for the preprocess_scores function </td></tr>
    <tr><td class="paramname">sample_ratio</td><td>A number in range (0,1] for subsampling the samples [in order to speed-up the bootstrap] </td></tr>
    <tr><td class="paramname">sample_per_pid</td><td>How many samples to sample on each id [sampling with replacement] </td></tr>
    <tr><td class="paramname">loopCnt</td><td>How many bootstrap experiments(?) to do </td></tr>
    <tr><td class="paramname">seed</td><td>The random seed. If 0 will use random_device to create random seed </td></tr>
    <tr><td class="paramname">binary_outcome</td><td>A flag to indicate whether the labels are binary (used to validate the input labels) <dl class="section return"><dt>Returns</dt><dd>Returns a map from each cohort name to the measurments results. each measurments results is also a map from each measurement name to it's value </dd></dl>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afe956c78e155f24f88e840733da8475a" name="afe956c78e155f24f88e840733da8475a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe956c78e155f24f88e840733da8475a">&#9670;&#160;</a></span>calc_harrell_c_statistic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map&lt; string, float &gt; calc_harrell_c_statistic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *&#160;</td>
          <td class="paramname"><em>iterator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>thread_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *&#160;</td>
          <td class="paramname"><em>function_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A Function to calculate performance measurements for harrell c statistic Implements MeasurementFunctions signature function Encoding: Case/Control =&gt; effect outcome/y sign. </p>
<p>positive is case, negative controls. Can't handle event in time zero. Time to event =&gt; abs value of outcome/y Score =&gt; the prediction</p>
<dl class="section return"><dt>Returns</dt><dd>A map from measurement name to it's value </dd></dl>

</div>
</div>
<a id="a7a685ebe1375ed6610c861a956918ea1" name="a7a685ebe1375ed6610c861a956918ea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a685ebe1375ed6610c861a956918ea1">&#9670;&#160;</a></span>calc_kandel_tau()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map&lt; string, float &gt; calc_kandel_tau </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *&#160;</td>
          <td class="paramname"><em>iterator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>thread_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *&#160;</td>
          <td class="paramname"><em>function_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A Function to calculate calc_kandel_tau Implements MeasurementFunctions signature function. </p>
<dl class="section return"><dt>Returns</dt><dd>A map from measurement name "Kendell-Tau" to it's value </dd></dl>

</div>
</div>
<a id="ad49813b63862bfbcf881e9b9832fe58d" name="ad49813b63862bfbcf881e9b9832fe58d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad49813b63862bfbcf881e9b9832fe58d">&#9670;&#160;</a></span>calc_multi_class()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map&lt; string, float &gt; calc_multi_class </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *&#160;</td>
          <td class="paramname"><em>iterator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>thread_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *&#160;</td>
          <td class="paramname"><em>function_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A Function to calculate performance measurements for multicategory Implements MeasurementFunctions signature function. </p>
<dl class="section return"><dt>Returns</dt><dd>A map from measurement name to it's value </dd></dl>

</div>
</div>
<a id="afe3de0a4a8aba5aac6d1c2e8395393d9" name="afe3de0a4a8aba5aac6d1c2e8395393d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe3de0a4a8aba5aac6d1c2e8395393d9">&#9670;&#160;</a></span>calc_npos_nneg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map&lt; string, float &gt; calc_npos_nneg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *&#160;</td>
          <td class="paramname"><em>iterator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>thread_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *&#160;</td>
          <td class="paramname"><em>function_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A Function to calculate only NPOS,NNEG (already calculated in calc_roc_measures_with_inc). </p>
<p><br  />
Implements MeasurementFunctions signature function</p>
<dl class="section return"><dt>Returns</dt><dd>A map from each measurement name("NPOS" or "NNEG") to it's value </dd></dl>

</div>
</div>
<a id="aeb63fe969dd112432556c0d2cf1e0cb7" name="aeb63fe969dd112432556c0d2cf1e0cb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb63fe969dd112432556c0d2cf1e0cb7">&#9670;&#160;</a></span>calc_only_auc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map&lt; string, float &gt; calc_only_auc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *&#160;</td>
          <td class="paramname"><em>iterator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>thread_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *&#160;</td>
          <td class="paramname"><em>function_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A Function to calculate only AUC (already calculated in calc_roc_measures_with_inc). </p>
<p><br  />
Implements MeasurementFunctions signature function</p>
<dl class="section return"><dt>Returns</dt><dd>A map from measurement name "AUC" to it's value </dd></dl>

</div>
</div>
<a id="a4f4548d08d839bbec7a441c617e2d094" name="a4f4548d08d839bbec7a441c617e2d094"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f4548d08d839bbec7a441c617e2d094">&#9670;&#160;</a></span>calc_regression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map&lt; string, float &gt; calc_regression </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *&#160;</td>
          <td class="paramname"><em>iterator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>thread_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *&#160;</td>
          <td class="paramname"><em>function_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A Function to calculate performance measurements for regression problems Implements MeasurementFunctions signature function Accepted Regresion_Params. </p>
<dl class="section return"><dt>Returns</dt><dd>A map from measurement name to it's value </dd></dl>
<p>&lt; can be called False</p>
<p>&lt; can be called Negative</p>
<p>&lt; can be called True</p>
<p>&lt; can be called Positive</p>
<p>Counts how much in percentage [0-100] in the data points are "covered" (the L1 error is within threshold) The threshold is determined by percentages for mean outcome (the prior)</p>

</div>
</div>
<a id="a1f6a63829d76c175d24e19c990115259" name="a1f6a63829d76c175d24e19c990115259"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f6a63829d76c175d24e19c990115259">&#9670;&#160;</a></span>calc_roc_measures_with_inc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map&lt; string, float &gt; calc_roc_measures_with_inc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLazy__Iterator.html">Lazy_Iterator</a> *&#160;</td>
          <td class="paramname"><em>iterator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>thread_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *&#160;</td>
          <td class="paramname"><em>function_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A Function to calculate all roc measurements- AUC, Sensitivity, speceficity positive rate, ppv...<br  />
Implements MeasurementFunctions signature function. </p>
<dl class="section return"><dt>Returns</dt><dd>A map from each measurement name to it's value </dd></dl>
<p>counts also false positives weights if no fix_label_to_binary</p>

</div>
</div>
<a id="a91d18241323b405cc359e5dff2c5ec29" name="a91d18241323b405cc359e5dff2c5ec29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91d18241323b405cc359e5dff2c5ec29">&#9670;&#160;</a></span>filter_range_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool filter_range_param </td>
          <td>(</td>
          <td class="paramtype">const map&lt; string, vector&lt; float &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>record_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cohort_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function to filter samples based on single <a class="el" href="classFilter__Param.html" title="Parameter object for filter_params functions.">Filter_Param</a> object. </p>
<p>it's a FilterCohortFunc signature </p>

</div>
</div>
<a id="aa60c9e921a7f91eb59defa55b46e78a7" name="aa60c9e921a7f91eb59defa55b46e78a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa60c9e921a7f91eb59defa55b46e78a7">&#9670;&#160;</a></span>filter_range_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool filter_range_params </td>
          <td>(</td>
          <td class="paramtype">const map&lt; string, vector&lt; float &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>record_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cohort_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function to filter samples based on multipal <a class="el" href="classFilter__Param.html" title="Parameter object for filter_params functions.">Filter_Param</a> objects - in a vector with and condition between each parameter range. </p>
<p>it's a FilterCohortFunc signature </p>

</div>
</div>
<a id="a448339bf90b1771bdab441bd8c53ce9c" name="a448339bf90b1771bdab441bd8c53ce9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a448339bf90b1771bdab441bd8c53ce9c">&#9670;&#160;</a></span>fix_cohort_sample_incidence_old()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fix_cohort_sample_incidence_old </td>
          <td>(</td>
          <td class="paramtype">const map&lt; string, vector&lt; float &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>additional_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>pids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *&#160;</td>
          <td class="paramname"><em>function_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>filtered_indexes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>y_full</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>pids_full</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a function to calculate the incidence in each cohort - preprocessing of function_params and storing the incidence inside of it. </p>
<p>The old has same implementation as old bootstrap only averaging incidence over the controls in the sample based on incidence in each group(age+gender) </p>

</div>
</div>
<a id="a2a148b3953924839c96878dc23950d70" name="a2a148b3953924839c96878dc23950d70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a148b3953924839c96878dc23950d70">&#9670;&#160;</a></span>prepare_for_bootstrap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prepare_for_bootstrap </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>pids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const map&lt; string, vector&lt; float &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>additional_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bootstrap_8h.html#ac8b4faa5c45e18d9fc95c231a5cad096">FilterCohortFunc</a> &amp;&#160;</td>
          <td class="paramname"><em>filter_cohort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cohort_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>sample_ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sample_per_pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>seed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>indexes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pids</td><td>the pids vector </td></tr>
    <tr><td class="paramname">additional_info</td><td>the data vector for filtering </td></tr>
    <tr><td class="paramname">filter_cohort</td><td>The cohorts definition - the filtering function </td></tr>
    <tr><td class="paramname">cohort_params</td><td>Additional parameters for the filtering cohort function </td></tr>
    <tr><td class="paramname">sample_ratio</td><td>A number in range (0,1] for subsampling the samples </td></tr>
    <tr><td class="paramname">sample_per_pid</td><td>How many samples to sample on each id </td></tr>
    <tr><td class="paramname">seed</td><td>The random seed. If 0 will use random_device to create random seed </td></tr>
    <tr><td class="paramname">indexes</td><td>the selected indexes results for the bootstrap <dl class="section return"><dt>Returns</dt><dd>Returns indexes vector </dd></dl>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a96d169ac4e9e2bdba5362dee16cfdd56" name="a96d169ac4e9e2bdba5362dee16cfdd56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96d169ac4e9e2bdba5362dee16cfdd56">&#9670;&#160;</a></span>preprocess_bin_scores()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void preprocess_bin_scores </td>
          <td>(</td>
          <td class="paramtype">vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>preds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMeasurement__Params.html">Measurement_Params</a> *&#160;</td>
          <td class="paramname"><em>function_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Binning function of scores based on <a class="el" href="classROC__Params.html" title="Parameter object for calc_roc_measures functions.">ROC_Params</a>. </p>
<p>look at score_bins,score_resolution </p>

</div>
</div>
<a id="ad21d7f746ee998d49583c5f24c4e1e2e" name="ad21d7f746ee998d49583c5f24c4e1e2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad21d7f746ee998d49583c5f24c4e1e2e">&#9670;&#160;</a></span>read_bootstrap_results()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_bootstrap_results </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">map&lt; string, map&lt; string, float &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>all_cohorts_measurments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Will read the bootstrap results from file in TAB delimeted format. </p>
<p>each line is cohort and the The columns are the measurements </p>

</div>
</div>
<a id="ac0aaeab4b2d8b3ba5846c55d2fda6ab1" name="ac0aaeab4b2d8b3ba5846c55d2fda6ab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0aaeab4b2d8b3ba5846c55d2fda6ab1">&#9670;&#160;</a></span>write_bootstrap_results()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void write_bootstrap_results </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const map&lt; string, map&lt; string, float &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>all_cohorts_measurments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>run_id</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Will output the bootstrap results into file in TAB delimeted format. </p>
<p>each line is cohort and the The columns are the measurements </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 5 2025 12:53:45 for Medial Code Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
